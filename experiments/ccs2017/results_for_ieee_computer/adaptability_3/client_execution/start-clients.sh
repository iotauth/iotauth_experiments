#!/bin/bash

# Script for starting clients
# generated by iotauth_experiments/network_sim/linux_containers/configScriptGenerator.js

if [ $# != 1 ]
then
  echo 'please provide WAIT_TIME_BETWEEN_CLIENTS'
  exit 1
fi

WAIT_TIME_BETWEEN_CLIENTS=$1


mkdir -p c401
cd c401
lxc-start -n c401
nohup lxc-attach -n c401 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c401.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c402
cd c402
lxc-start -n c402
nohup lxc-attach -n c402 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c402.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c403
cd c403
lxc-start -n c403
nohup lxc-attach -n c403 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c403.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c404
cd c404
lxc-start -n c404
nohup lxc-attach -n c404 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c404.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c405
cd c405
lxc-start -n c405
nohup lxc-attach -n c405 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c405.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c406
cd c406
lxc-start -n c406
nohup lxc-attach -n c406 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c406.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c407
cd c407
lxc-start -n c407
nohup lxc-attach -n c407 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c407.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c408
cd c408
lxc-start -n c408
nohup lxc-attach -n c408 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c408.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c409
cd c409
lxc-start -n c409
nohup lxc-attach -n c409 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c409.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c410
cd c410
lxc-start -n c410
nohup lxc-attach -n c410 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c410.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c411
cd c411
lxc-start -n c411
nohup lxc-attach -n c411 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c411.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c412
cd c412
lxc-start -n c412
nohup lxc-attach -n c412 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c412.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c413
cd c413
lxc-start -n c413
nohup lxc-attach -n c413 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c413.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c414
cd c414
lxc-start -n c414
nohup lxc-attach -n c414 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c414.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c415
cd c415
lxc-start -n c415
nohup lxc-attach -n c415 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c415.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c416
cd c416
lxc-start -n c416
nohup lxc-attach -n c416 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c416.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c417
cd c417
lxc-start -n c417
nohup lxc-attach -n c417 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c417.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c418
cd c418
lxc-start -n c418
nohup lxc-attach -n c418 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c418.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c419
cd c419
lxc-start -n c419
nohup lxc-attach -n c419 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c419.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c501
cd c501
lxc-start -n c501
nohup lxc-attach -n c501 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c501.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c502
cd c502
lxc-start -n c502
nohup lxc-attach -n c502 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c502.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c503
cd c503
lxc-start -n c503
nohup lxc-attach -n c503 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c503.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c504
cd c504
lxc-start -n c504
nohup lxc-attach -n c504 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c504.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c505
cd c505
lxc-start -n c505
nohup lxc-attach -n c505 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c505.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c506
cd c506
lxc-start -n c506
nohup lxc-attach -n c506 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c506.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c507
cd c507
lxc-start -n c507
nohup lxc-attach -n c507 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c507.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c508
cd c508
lxc-start -n c508
nohup lxc-attach -n c508 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c508.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c509
cd c509
lxc-start -n c509
nohup lxc-attach -n c509 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c509.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c510
cd c510
lxc-start -n c510
nohup lxc-attach -n c510 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c510.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c511
cd c511
lxc-start -n c511
nohup lxc-attach -n c511 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c511.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c512
cd c512
lxc-start -n c512
nohup lxc-attach -n c512 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c512.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c513
cd c513
lxc-start -n c513
nohup lxc-attach -n c513 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c513.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c514
cd c514
lxc-start -n c514
nohup lxc-attach -n c514 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c514.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c515
cd c515
lxc-start -n c515
nohup lxc-attach -n c515 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c515.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c516
cd c516
lxc-start -n c516
nohup lxc-attach -n c516 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c516.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c517
cd c517
lxc-start -n c517
nohup lxc-attach -n c517 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c517.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c518
cd c518
lxc-start -n c518
nohup lxc-attach -n c518 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c518.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c519
cd c519
lxc-start -n c519
nohup lxc-attach -n c519 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c519.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c520
cd c520
lxc-start -n c520
nohup lxc-attach -n c520 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c520.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c521
cd c521
lxc-start -n c521
nohup lxc-attach -n c521 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c521.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c522
cd c522
lxc-start -n c522
nohup lxc-attach -n c522 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c522.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c523
cd c523
lxc-start -n c523
nohup lxc-attach -n c523 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c523.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c524
cd c524
lxc-start -n c524
nohup lxc-attach -n c524 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c524.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c525
cd c525
lxc-start -n c525
nohup lxc-attach -n c525 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c525.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS

mkdir -p c526
cd c526
lxc-start -n c526
nohup lxc-attach -n c526 -- node $ENTITY/autoClient.js $ENTITY/configs/Clients/c526.config $ENTITY $CCS/expOptions/expEntity.option &
cd ..
sleep $WAIT_TIME_BETWEEN_CLIENTS



