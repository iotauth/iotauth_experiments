changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for echoServer: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Servers/s408.config
initializing secure comm server...
Session protocol: TCP
current parameters: { migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 's408',
  group: 'Servers',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 41 49 42 41 41 4b 43 41 51 45 41 74 57 ... > }
Handler: listening on port 22100
s408:Servers prompt>
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200003
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41194
received auth hello!
{ authId: 402, nonce: <Buffer 33 36 e7 2f 07 51 73 ca> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer bb 08 bc d4 fc de 80 0e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer c9 39 22 f8 af 40 88 e8 e3 10 e5 d9 a3 17 c5 bd>,
  macKeyVal: <Buffer 58 7a be 26 bf 7a f5 e9 92 d5 5f d3 8a dc 7a 2d 26 a5 0c 56 8f bd 66 a1 7d 2f d9 36 9f e3 5a a4>,
  absValidity: 2018-08-27T06:10:02.313Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer d4 b8 7f 84 e5 ac ec be>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer d4 b8 7f 84 e5 ac ec be> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 0,
  remoteAddress: '::ffff:10.0.1.52:58330',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 0 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 0 }
specified socketID: 0
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200005
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41206
received auth hello!
{ authId: 402, nonce: <Buffer 23 37 68 ca e7 83 86 bc> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 62 3d 25 93 5c af c6 8d>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 72 71 c6 14 cc e9 c5 ed>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 72 71 c6 14 cc e9 c5 ed> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 1,
  remoteAddress: '::ffff:10.0.1.54:34930',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 1 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 1 }
specified socketID: 1
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #0 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200010
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41362
received auth hello!
{ authId: 402, nonce: <Buffer 04 76 80 b6 84 13 45 74> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer f2 3f bb a6 59 50 20 04>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 08 bc 96 9c 41 f4 a5 d3>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 08 bc 96 9c 41 f4 a5 d3> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 2,
  remoteAddress: '::ffff:10.0.1.52:58498',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 2 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 2 }
specified socketID: 2
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #1 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200012
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41386
received auth hello!
{ authId: 402, nonce: <Buffer d8 57 20 44 48 da 6a 18> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer df 9a f6 35 5d 37 39 98>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer c5 32 48 97 6f 70 44 6c>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer c5 32 48 97 6f 70 44 6c> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 3,
  remoteAddress: '::ffff:10.0.1.54:35110',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 3 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 3 }
specified socketID: 3
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #2 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200017
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41634
received auth hello!
{ authId: 402, nonce: <Buffer 76 3e e8 00 c3 e4 8d 7d> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer c0 20 8d 82 8d e2 6c 6b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer c9 75 ea de 2d 78 fb b5>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer c9 75 ea de 2d 78 fb b5> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 4,
  remoteAddress: '::ffff:10.0.1.52:58770',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 4 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 4 }
specified socketID: 4
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #3 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200019
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41658
received auth hello!
{ authId: 402, nonce: <Buffer 01 8b 94 96 68 23 4a ea> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 93 35 c0 b4 51 fb b3 ed>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 24 13 45 d2 a1 a3 4d 6a>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 24 13 45 d2 a1 a3 4d 6a> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 5,
  remoteAddress: '::ffff:10.0.1.54:35382',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 5 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 5 }
specified socketID: 5
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #4 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200024
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41904
received auth hello!
{ authId: 402, nonce: <Buffer b9 dc 0b fd a7 1d fe ae> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 9a 70 0d 05 be 53 94 0a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer c2 dd 17 34 f3 ec a0 6f>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer c2 dd 17 34 f3 ec a0 6f> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 6,
  remoteAddress: '::ffff:10.0.1.52:59040',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 6 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 6 }
specified socketID: 6
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #5 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200026
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 41928
received auth hello!
{ authId: 402, nonce: <Buffer 45 c2 b4 cd 5c ba 20 d3> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer af 17 1c 06 da e6 4c cc>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer eb ee ba dc b2 76 d5 55>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer eb ee ba dc b2 76 d5 55> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 7,
  remoteAddress: '::ffff:10.0.1.54:35652',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 7 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 7 }
specified socketID: 7
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #6 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200031
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42174
received auth hello!
{ authId: 402, nonce: <Buffer 2a fd 15 fb f3 ee f7 8d> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fa 92 f9 c1 9b cf 9f ed>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer f4 6c 0a 6a be 2e 4c 47>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer f4 6c 0a 6a be 2e 4c 47> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 8,
  remoteAddress: '::ffff:10.0.1.52:59310',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 8 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 8 }
specified socketID: 8
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #7 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200033
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42198
received auth hello!
{ authId: 402, nonce: <Buffer a0 46 e3 5a f6 3b 04 10> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b7 3a dc ab 2f 69 86 3e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer d1 e4 f7 54 a3 42 0a bd>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer d1 e4 f7 54 a3 42 0a bd> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 9,
  remoteAddress: '::ffff:10.0.1.54:35922',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 9 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 9 }
specified socketID: 9
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #8 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200038
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42444
received auth hello!
{ authId: 402, nonce: <Buffer ef 53 67 2f 0e 36 64 45> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 2e d5 1f 9f f7 90 4a ff>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 96 15 bd 70 74 2c ce 5c>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 96 15 bd 70 74 2c ce 5c> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 10,
  remoteAddress: '::ffff:10.0.1.52:59580',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 10 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 10 }
specified socketID: 10
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #9 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200040
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42468
received auth hello!
{ authId: 402, nonce: <Buffer bd c6 de 52 11 58 14 ea> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer c1 93 dd 18 fb 6c f2 f8>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 75 68 fc 6c 58 c0 c7 bd>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 75 68 fc 6c 58 c0 c7 bd> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 11,
  remoteAddress: '::ffff:10.0.1.54:36192',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 11 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 11 }
specified socketID: 11
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #10 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200045
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42714
received auth hello!
{ authId: 402, nonce: <Buffer 6b b2 90 08 34 7e 08 8c> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 1b ff 67 da 73 8f 66 03>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer f6 c1 90 50 71 50 56 9f>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer f6 c1 90 50 71 50 56 9f> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 12,
  remoteAddress: '::ffff:10.0.1.52:59850',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 12 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 12 }
specified socketID: 12
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #11 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200047
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42738
received auth hello!
{ authId: 402, nonce: <Buffer 71 93 1e 15 96 c8 0f 97> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 27 a4 25 a1 d4 dd 70 1c>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer db 22 ce 90 8a b9 fb 13>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer db 22 ce 90 8a b9 fb 13> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 13,
  remoteAddress: '::ffff:10.0.1.54:36462',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 13 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 13 }
specified socketID: 13
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #12 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200052
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42984
received auth hello!
{ authId: 402, nonce: <Buffer 2c 0d 83 26 62 9a a2 f7> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer cb 9f c7 ce 88 ac 39 29>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 51 9f ba 32 20 7b f8 40>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 51 9f ba 32 20 7b f8 40> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 14,
  remoteAddress: '::ffff:10.0.1.52:60120',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 14 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 14 }
specified socketID: 14
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #13 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40200054
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 43008
Handler: Error in server - details: Disconnected from auth before getting session key response
Handler: Error in server - details: handshake2 timed out...
Unidentified client disconnected
Handler: Error in server - details: Closed during comm init from undefined:undefined
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #14 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50300047
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
failure in connection with Auth : authFailureCount: 1
Handler: Error in server - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
Handler: Error in server - details: handshake2 timed out...
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40100068
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in server - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 55624
Handler: Error in server - details: handshake2 timed out...
Unidentified client disconnected
Handler: Error in server - details: Closed during comm init from undefined:undefined
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: Error in server - details: Closed during comm init from undefined:undefined
Handler: Error in server - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in server - details: Error occurred in migration request: Auth hello timedout ...
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50300056
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in server - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 55888
received auth hello!
{ authId: 401, nonce: <Buffer cf db 3d 53 2f 8c a6 e5> }
more data will come. current: 1445 expected: 1485
received migration response with signature!
{ version: 2,
  subject: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth401',
     commonName: '10.0.1.1' },
  issuer: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth402',
     commonName: '10.0.0.2' },
  serial: '016579C86F89',
  notBefore: 2018-08-27T05:06:43.000Z,
  notAfter: 2018-08-28T05:08:23.000Z,
  subjectHash: 'de555cae',
  signatureAlgorithm: 'sha256WithRSAEncryption',
  fingerPrint: '8F:C7:5E:1B:98:6C:7F:F3:DC:12:5A:F6:E4:23:1A:21:09:A6:78:40',
  publicKey: 
   { algorithm: 'rsaEncryption',
     e: '65537',
     n: 'B530B62681E49BA3C59D023490C8FA22CDFCBEFE3C82DDC2EB20C54A7635E97FA277CACAAFFA4C4DBEC0E2EA6A350C5F49F73EAEBB61D517626C1FA825652FB0A97551D2651617F0C6167998928AE18186E89F69062E5E8569B20C127B9042FA49ECA2FAB22ED2362B41A9B317571C989813E9206F9938B6C8292AF7D26C0B7C22AED2002E379FD7C162E804A6EB39BFBAA4070586BEFFCBD2C6013FFA793744F966D931AF04263D6DC1FE3581000CB938A918CB88E7B7578C43239586252B1B7EEC2CF99B24518FC88A87396CBAD7990A8942E64846F37F40959504D5D6CD39533AB9898B84BA00BDBF0D4350CB87DCACD5B4C13EFF5795D7433B531062172F',
     bitSize: 2048 },
  altNames: [],
  extensions: { subjectAlternativeName: 'IP Address:10.0.1.1' } }
null
true
Certificate of new Auth is verified!
Subject information matches Auth ID!
Signature of new Auth is verified.
Auth nonce is verified
migration completed!
new Auth info: !
{ id: 401,
  host: '10.0.1.1',
  port: 21100,
  publicKey: '-----BEGIN CERTIFICATE-----\nMIIDVTCCAj2gAwIBAgIGAWV5yG+JMA0GCSqGSIb3DQEBCwUAMGExCzAJBgNVBAYT\nAlVTMQswCQYDVQQIDAJDQTERMA8GA1UEBwwIQmVya2VsZXkxDTALBgNVBAoMBEVF\nQ1MxEDAOBgNVBAsMB0F1dGg0MDIxETAPBgNVBAMMCDEwLjAuMC4yMB4XDTE4MDgy\nNzA1MDY0M1oXDTE4MDgyODA1MDgyM1owYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgM\nAkNBMREwDwYDVQQHDAhCZXJrZWxleTENMAsGA1UECgwERUVDUzEQMA4GA1UECwwH\nQXV0aDQwMTERMA8GA1UEAwwIMTAuMC4xLjEwggEiMA0GCSqGSIb3DQEBAQUAA4IB\nDwAwggEKAoIBAQC1MLYmgeSbo8WdAjSQyPoizfy+/jyC3cLrIMVKdjXpf6J3ysqv\n+kxNvsDi6mo1DF9J9z6uu2HVF2JsH6glZS+wqXVR0mUWF/DGFnmYkorhgYbon2kG\nLl6FabIMEnuQQvpJ7KL6si7SNitBqbMXVxyYmBPpIG+ZOLbIKSr30mwLfCKu0gAu\nN5/XwWLoBKbrOb+6pAcFhr7/y9LGAT/6eTdE+WbZMa8EJj1twf41gQAMuTipGMuI\n57dXjEMjlYYlKxt+7Cz5myRRj8iKhzlsuteZColC5khG839AlZUE1dbNOVM6uYmL\nhLoAvb8NQ1DLh9ys1bTBPv9XlddDO1MQYhcvAgMBAAGjEzARMA8GA1UdEQQIMAaH\nBAoAAQEwDQYJKoZIhvcNAQELBQADggEBAJ+kGUEL/Kt6V73//61/TgnyUS+N/QN4\nYfuA28I8JsFjeMOGz2Y74qRr1BYfwsMuxrJi3yFQ7makX0xvTUhUiKSFxuBVcQGB\nhBNxKvdfC/yGBRBqD8Gc0/DlJ+ttQdsdM00Vv3r81gRaZBgg6dkjxoKuZOR/aJTY\nMsB0Y7YC6B6tqluE+AXTFlatkqLSjGIO1LP1wRaZcgt6ZNfQPqjZqj4up6+QLm7v\nMTbhEI3uhNpX/E9m1OQoJi9wV04TONYefWlhoALvUJBSiJR4gV2bHatdlEAnzsZh\n5rCGMtoBfSniJse3CSsLR47e3J0wQtrCGrl/+7twXUIjSliMj0gAHNk=\n-----END CERTIFICATE-----' }
received migration response, for next round of migration, rotate migration info index from: 0
to: 1
disconnected from auth
Handler: Error in server - details: handshake2 timed out...
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 40100079
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 55906
Handler: Error in server - details: handshake2 timed out...
Handler: Error in server - details: Disconnected from auth before getting session key response
/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902
            eventHandlers.onError('Error occurred in migration request: Disconnected from auth before getting migration response: ' + error);
                                                                                                                                      ^

ReferenceError: error is not defined
    at Socket.<anonymous> (/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902:135)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:188:7)
    at endReadableNT (_stream_readable.js:975:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
