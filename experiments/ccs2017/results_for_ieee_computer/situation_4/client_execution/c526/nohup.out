changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c526.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c526',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 6f 77 49 42 41 41 4b 43 41 51 45 41 72 4b ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1535340897414
connected to auth! from local port 46904
received auth hello!
{ authId: 504, nonce: <Buffer 3e 0c 77 13 ed f5 9e a2> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer d2 28 de 30 2e 98 74 94>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer c8 a5 01 f7 50 2e 78 c7 8e 85 34 bd 9b 22 e0 31>,
  macKeyVal: <Buffer dd 86 a5 4c c0 ac 46 1f ea 6a ac f6 9b 37 2e 5c bd 98 40 13 96 b4 68 32 f8 c7 60 3f cd 09 25 7d>,
  absValidity: 2018-08-27T04:35:00.974Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 50400007,
  cipherKeyVal: <Buffer 2d 0d b8 84 10 40 29 82 76 af f4 e7 d9 2d b2 b5>,
  macKeyVal: <Buffer 83 05 c2 9b 89 81 b4 92 6c 3e 06 11 5f bb 72 47 10 13 08 51 d2 f8 48 57 8f 59 a2 58 18 31 fd f7>,
  absValidity: 2018-08-28T03:35:00.973Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.42',
  serverPort: 22100,
  sessionKey: 
   { id: 50400007,
     cipherKeyVal: <Buffer 2d 0d b8 84 10 40 29 82 76 af f4 e7 d9 2d b2 b5>,
     macKeyVal: <Buffer 83 05 c2 9b 89 81 b4 92 6c 3e 06 11 5f bb 72 47 10 13 08 51 d2 f8 48 57 8f 59 a2 58 18 31 fd f7>,
     absValidity: 2018-08-28T03:35:00.973Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer 66 d1 02 b3 62 99 df 24>
switching to HANDSHAKE_1_SENT
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:35:03 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1535340903546
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1535340957469
connected to auth! from local port 47174
received auth hello!
{ authId: 504, nonce: <Buffer 8d 57 72 b5 c4 da 47 73> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 2c 4c a9 58 89 62 e4 96>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50400013,
  cipherKeyVal: <Buffer 19 18 ee 78 85 67 ed 32 bb f3 89 93 a2 fb ac 95>,
  macKeyVal: <Buffer 74 b7 7d 32 29 1d be d1 4b f3 ee e0 38 f1 fd 33 0c 24 4c aa 76 05 28 8c 78 12 28 19 a7 66 05 70>,
  absValidity: 2018-08-28T03:36:00.989Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.42',
  serverPort: 22100,
  sessionKey: 
   { id: 50400013,
     cipherKeyVal: <Buffer 19 18 ee 78 85 67 ed 32 bb f3 89 93 a2 fb ac 95>,
     macKeyVal: <Buffer 74 b7 7d 32 29 1d be d1 4b f3 ee e0 38 f1 fd 33 0c 24 4c aa 76 05 28 8c 78 12 28 19 a7 66 05 70>,
     absValidity: 2018-08-28T03:36:00.989Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 46 c1 7b c4 31 d4 00 cc>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:36:03 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1535340963413
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1535341017524
connected to auth! from local port 47444
received auth hello!
{ authId: 504, nonce: <Buffer e1 92 77 db eb 81 7f 3e> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 01 1b 5a 8b dd 75 53 eb>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50400019,
  cipherKeyVal: <Buffer a1 2a 64 74 31 44 50 50 41 9d 19 e2 0e 94 1d 6e>,
  macKeyVal: <Buffer 26 8d 62 e9 d2 af 13 b2 32 8f b4 e3 76 0a 7b 22 2c df 84 61 53 50 57 d1 df 9c 56 74 3c 87 f0 0e>,
  absValidity: 2018-08-28T03:37:01.102Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.42',
  serverPort: 22100,
  sessionKey: 
   { id: 50400019,
     cipherKeyVal: <Buffer a1 2a 64 74 31 44 50 50 41 9d 19 e2 0e 94 1d 6e>,
     macKeyVal: <Buffer 26 8d 62 e9 d2 af 13 b2 32 8f b4 e3 76 0a 7b 22 2c df 84 61 53 50 57 d1 df 9c 56 74 3c 87 f0 0e>,
     absValidity: 2018-08-28T03:37:01.102Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 6b 93 2b 06 4d 8e b5 c8>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:37:03 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1535341023563
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1535341077576
connected to auth! from local port 47714
received auth hello!
{ authId: 504, nonce: <Buffer 01 f6 1f 3a c7 03 2f 2d> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 08 64 45 f9 e5 99 c0 f1>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50400025,
  cipherKeyVal: <Buffer 54 b8 ae 8c bb 7a 4a 46 b0 31 09 da dc 48 bd c4>,
  macKeyVal: <Buffer cf 06 69 96 f1 3c ab 3a 13 e6 3b 2e 39 ec b8 5e 96 5a 2d 12 c3 b1 8a fb ed b1 9c 22 c0 f4 ec ff>,
  absValidity: 2018-08-28T03:38:01.172Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.42',
  serverPort: 22100,
  sessionKey: 
   { id: 50400025,
     cipherKeyVal: <Buffer 54 b8 ae 8c bb 7a 4a 46 b0 31 09 da dc 48 bd c4>,
     macKeyVal: <Buffer cf 06 69 96 f1 3c ab 3a 13 e6 3b 2e 39 ec b8 5e 96 5a 2d 12 c3 b1 8a fb ed b1 9c 22 c0 f4 ec ff>,
     absValidity: 2018-08-28T03:38:01.172Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 0a ed 4e a3 9d ea 9e e6>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:38:03 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1535341083686
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1535341137628
connected to auth! from local port 47984
received auth hello!
{ authId: 504, nonce: <Buffer b3 56 40 c6 e2 dc 58 02> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer af 63 f5 a3 e9 7d 34 eb>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50400031,
  cipherKeyVal: <Buffer 4f 5a f4 6a d8 12 37 a4 50 3c 70 bc 40 43 c4 80>,
  macKeyVal: <Buffer 77 79 7d c4 ef aa b5 0f da 04 f2 1a de b2 a5 1c 16 75 24 07 c3 a9 03 47 a1 58 6d 2b b5 49 e3 49>,
  absValidity: 2018-08-28T03:39:00.692Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.42',
  serverPort: 22100,
  sessionKey: 
   { id: 50400031,
     cipherKeyVal: <Buffer 4f 5a f4 6a d8 12 37 a4 50 3c 70 bc 40 43 c4 80>,
     macKeyVal: <Buffer 77 79 7d c4 ef aa b5 0f da 04 f2 1a de b2 a5 1c 16 75 24 07 c3 a9 03 47 a1 58 6d 2b b5 49 e3 49>,
     absValidity: 2018-08-28T03:39:00.692Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer dc bf 19 80 b5 2c 57 5d>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:39:03 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1535341143777
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1535341197680
connected to auth! from local port 48254
received auth hello!
{ authId: 504, nonce: <Buffer 5c 0a c2 20 5d 45 fa d8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 4c f3 13 19 58 50 ad 44>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50400037,
  cipherKeyVal: <Buffer 36 a4 e3 3c ea 3a 1f 1e 63 a6 a7 9f 5c a4 b1 bf>,
  macKeyVal: <Buffer 1e dd a5 04 05 fc ef 95 76 23 ff ca 6f 04 67 6c 26 9b 36 4f 89 6a f0 b2 77 7b 2a 39 af b0 c8 cd>,
  absValidity: 2018-08-28T03:40:01.500Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.42',
  serverPort: 22100,
  sessionKey: 
   { id: 50400037,
     cipherKeyVal: <Buffer 36 a4 e3 3c ea 3a 1f 1e 63 a6 a7 9f 5c a4 b1 bf>,
     macKeyVal: <Buffer 1e dd a5 04 05 fc ef 95 76 23 ff ca 6f 04 67 6c 26 9b 36 4f 89 6a f0 b2 77 7b 2a 39 af b0 c8 cd>,
     absValidity: 2018-08-28T03:40:01.500Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 3c 51 a1 cd 0e 89 a4 9c>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.42:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 7 0.7142857142857143 1535341257686
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.7:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 8 0.625 1535341317698
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.7:21100
connected to auth! from local port 38270
received auth hello!
{ authId: 503, nonce: <Buffer 6a ed b9 27 92 d6 12 1c> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 9 0.5555555555555556 1535341377707
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.7:21100
connected to auth! from local port 38498
received auth hello!
{ authId: 503, nonce: <Buffer 14 2d bf e9 85 23 a4 51> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 10 0.5 1535341437717
failure in connection with Auth : authFailureCount: 4
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.7:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 11 0.45454545454545453 1535341497724
failure in connection with Auth : authFailureCount: 5
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 1
to: 2
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.7:21100
connected to auth! from local port 51990
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 12 0.4166666666666667 1535341557731
failure in connection with Auth : authFailureCount: 6
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.7:21100
connected to auth! from local port 52224
received auth hello!
{ authId: 401, nonce: <Buffer 9a 9a 71 a9 0f db 0d ff> }
more data will come. current: 1445 expected: 1485
received migration response with signature!
{ version: 2,
  subject: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth401',
     commonName: '10.0.1.1' },
  issuer: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth504',
     commonName: '10.0.0.7' },
  serial: '0165796FAEB4',
  notBefore: 2018-08-27T03:29:47.000Z,
  notAfter: 2018-08-28T03:31:27.000Z,
  subjectHash: 'de555cae',
  signatureAlgorithm: 'sha256WithRSAEncryption',
  fingerPrint: 'A1:8D:7C:58:A8:B6:C4:04:ED:A8:E2:E3:1F:9B:83:DA:33:0D:0A:F5',
  publicKey: 
   { algorithm: 'rsaEncryption',
     e: '65537',
     n: 'AF23BC17C526A7AFDABD10E11B69948936F06BDEC216730D0926F4729C3F53806C2812687248D00BE365D1DB11907B8C3441F9A9A7F0B913065F79BBEFB9605DD128C9B144B177076B7E46B92A3FA31511995B3D57F9BFA275EBEDA464AF403971A8925028BF43CC548AC9052D7E35AD851586AC0C4EA1FC7C755E22CB819A087D35C0E9C0DF733E9757F060E6AF797111A2B852A6191E6341A7CF678D8604077227A06289ADD8492928D5EECC3787C220575D0F755645359EFE007ECCC7BBCE9132761D1346C2B4F372E3F9A44DF760E0EDCCAC935454D03E6F2A22C1BFC15A4ABCAA38B7AB27FC12DF6127B9A5258B4BD00B1E6D28F03EEDEDAE39ABC5924F',
     bitSize: 2048 },
  altNames: [],
  extensions: { subjectAlternativeName: 'IP Address:10.0.1.1' } }
null
true
Certificate of new Auth is verified!
Subject information matches Auth ID!
Signature of new Auth is verified.
Auth nonce is verified
migration completed!
new Auth info: !
{ id: 401,
  host: '10.0.1.1',
  port: 21100,
  publicKey: '-----BEGIN CERTIFICATE-----\nMIIDVTCCAj2gAwIBAgIGAWV5b660MA0GCSqGSIb3DQEBCwUAMGExCzAJBgNVBAYT\nAlVTMQswCQYDVQQIDAJDQTERMA8GA1UEBwwIQmVya2VsZXkxDTALBgNVBAoMBEVF\nQ1MxEDAOBgNVBAsMB0F1dGg1MDQxETAPBgNVBAMMCDEwLjAuMC43MB4XDTE4MDgy\nNzAzMjk0N1oXDTE4MDgyODAzMzEyN1owYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgM\nAkNBMREwDwYDVQQHDAhCZXJrZWxleTENMAsGA1UECgwERUVDUzEQMA4GA1UECwwH\nQXV0aDQwMTERMA8GA1UEAwwIMTAuMC4xLjEwggEiMA0GCSqGSIb3DQEBAQUAA4IB\nDwAwggEKAoIBAQCvI7wXxSanr9q9EOEbaZSJNvBr3sIWcw0JJvRynD9TgGwoEmhy\nSNAL42XR2xGQe4w0Qfmpp/C5EwZfebvvuWBd0SjJsUSxdwdrfka5Kj+jFRGZWz1X\n+b+idevtpGSvQDlxqJJQKL9DzFSKyQUtfjWthRWGrAxOofx8dV4iy4GaCH01wOnA\n33M+l1fwYOaveXERorhSphkeY0Gnz2eNhgQHciegYomt2EkpKNXuzDeHwiBXXQ91\nVkU1nv4AfszHu86RMnYdE0bCtPNy4/mkTfdg4O3MrJNUVNA+byoiwb/BWkq8qji3\nqyf8Et9hJ7mlJYtL0AsebSjwPu3trjmrxZJPAgMBAAGjEzARMA8GA1UdEQQIMAaH\nBAoAAQEwDQYJKoZIhvcNAQELBQADggEBAKPx04JnzCr099HK6C8/8BkknzcBd8kF\nm6yodigAT6wGoahEmfnpq162qWS4yA7Q/sJMqk0Wb0UqSc4tpraMaLDFcqmlSRmL\nBUvnMwsj3n3y5qg+aqQsnMWQ95lxO7S9Emd0psVbU7k1BHS7sBXIdZu2fFVeNBzz\nFf/geX8TNElH8o2a/gd+nBkTRLOxCH/KNs/KFKwgw01GMweS6f7DVDxnAcS8ba4i\nPhHyH4mLtnM/ogsXybwcREAS8prmMaf0Yi4UvQgKuHZ4Qpmu2z/h8RAp5us339EL\nBg5OJmUNhngs46iw20bX+pf0KZYjapSm6WUiCpfjUHUZSQhZYTQ8EK4=\n-----END CERTIFICATE-----' }
received migration response, for next round of migration, rotate migration info index from: 2
to: 3
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 13 0.38461538461538464 1535341617741
connected to auth! from local port 52448
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 14 0.35714285714285715 1535341677751
connected to auth! from local port 52690
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 15 0.3333333333333333 1535341737761
connected to auth! from local port 52938
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 16 0.3125 1535341797772
connected to auth! from local port 53198
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 17 0.29411764705882354 1535341857772
connected to auth! from local port 53448
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 18 0.2777777777777778 1535341917782
connected to auth! from local port 53706
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 19 0.2631578947368421 1535341977784
connected to auth! from local port 53956
received auth hello!
{ authId: 401, nonce: <Buffer d9 26 bd ec 3f 5b 65 95> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 10 98 ee 5f 9c ab 51 4a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 42 53 91 ab 44 91 68 3b e5 cf 76 62 8a e0 9f db>,
  macKeyVal: <Buffer 66 ac 8a ac 8f 3d d8 c8 68 d8 77 6c 57 e4 e9 2e 06 34 d5 f8 1f a7 ee cb c7 18 46 d9 58 1a ad 56>,
  absValidity: 2018-08-27T04:53:01.658Z }
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40100182,
  cipherKeyVal: <Buffer 63 d0 99 ab 21 6f 32 0e 6f fc f3 79 17 28 84 5f>,
  macKeyVal: <Buffer 77 f2 d4 4d 36 8d a0 1d 6c 14 39 33 a2 21 ab 04 20 8b 9d 5d 85 a5 c0 15 51 b2 07 cf 50 c3 59 23>,
  absValidity: 2018-08-28T03:53:01.657Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.42',
  serverPort: 22100,
  sessionKey: 
   { id: 40100182,
     cipherKeyVal: <Buffer 63 d0 99 ab 21 6f 32 0e 6f fc f3 79 17 28 84 5f>,
     macKeyVal: <Buffer 77 f2 d4 4d 36 8d a0 1d 6c 14 39 33 a2 21 ab 04 20 8b 9d 5d 85 a5 c0 15 51 b2 07 cf 50 c3 59 23>,
     absValidity: 2018-08-28T03:53:01.657Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer 03 a5 9e 08 3d a1 27 fb>
switching to HANDSHAKE_1_SENT
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.42:undefined
Handler: Error in secure comm - details: Disconnected from auth before getting session key response
Handler: Error in secure comm - details: Disconnected from auth before getting session key response
Handler: Error in secure comm - details: Disconnected from auth before getting session key response
/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902
            eventHandlers.onError('Error occurred in migration request: Disconnected from auth before getting migration response: ' + error);
                                                                                                                                      ^

ReferenceError: error is not defined
    at Socket.<anonymous> (/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902:135)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:188:7)
    at endReadableNT (_stream_readable.js:975:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
