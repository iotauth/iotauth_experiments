changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c412.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c412',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 51 49 42 41 41 4b 43 41 51 45 41 35 44 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1535344154869
connected to auth! from local port 39790
received auth hello!
{ authId: 402, nonce: <Buffer d0 39 e6 4f 1a 78 a4 ea> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 66 90 df 57 8a 18 cc 9a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 92 a5 20 d5 a1 c9 cb 01 78 07 14 37 e7 94 2c e5>,
  macKeyVal: <Buffer bd 96 42 a0 66 cb 95 80 f4 27 80 ce 72 0c 31 35 1a f1 8a f8 cd a1 36 2a f1 86 b8 f1 f1 2e 5c 36>,
  absValidity: 2018-08-27T05:29:15.840Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200060,
  cipherKeyVal: <Buffer 7c 06 be 08 c9 e6 02 4c f8 45 69 7b 7a 90 2f c2>,
  macKeyVal: <Buffer f4 aa dc 89 e2 c0 2a 91 04 c0 85 ab 39 3a 37 b8 96 4e 2a 11 4d bc 21 d4 19 ae 4d 04 de f4 c6 b0>,
  absValidity: 2018-08-28T04:29:15.839Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200060,
     cipherKeyVal: <Buffer 7c 06 be 08 c9 e6 02 4c f8 45 69 7b 7a 90 2f c2>,
     macKeyVal: <Buffer f4 aa dc 89 e2 c0 2a 91 04 c0 85 ab 39 3a 37 b8 96 4e 2a 11 4d bc 21 d4 19 ae 4d 04 de f4 c6 b0>,
     absValidity: 2018-08-28T04:29:15.839Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 43 2b 2d 3c f0 a8 4d ad>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 04:29:17 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1535344158225
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1535344214924
connected to auth! from local port 39970
received auth hello!
{ authId: 402, nonce: <Buffer a0 5e 5c e7 97 f8 de 24> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 9c f1 b7 fa 7e eb 4b 98>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200067,
  cipherKeyVal: <Buffer 62 b2 83 a8 2e 61 75 ba 8c d7 e9 1c 10 7c fe 51>,
  macKeyVal: <Buffer 99 26 c3 c2 50 d3 8b 66 ca 5b 8d 9c b1 80 17 90 f1 a6 ea 41 5c 37 6e 6b 21 b5 38 cb 35 d4 8a ae>,
  absValidity: 2018-08-28T04:30:15.886Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200067,
     cipherKeyVal: <Buffer 62 b2 83 a8 2e 61 75 ba 8c d7 e9 1c 10 7c fe 51>,
     macKeyVal: <Buffer 99 26 c3 c2 50 d3 8b 66 ca 5b 8d 9c b1 80 17 90 f1 a6 ea 41 5c 37 6e 6b 21 b5 38 cb 35 d4 8a ae>,
     absValidity: 2018-08-28T04:30:15.886Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 12 9f dc 38 7e 97 47 37>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 04:30:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1535344218514
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1535344274980
connected to auth! from local port 40240
received auth hello!
{ authId: 402, nonce: <Buffer b7 a1 c7 70 1a c9 d7 b8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 18 39 c4 cc 7d a7 35 b7>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200074,
  cipherKeyVal: <Buffer 5d ac 88 8d 1c f0 42 7d 33 a9 0b 3a 0b de ca d0>,
  macKeyVal: <Buffer bb 53 e6 8a 71 55 9e 50 a9 41 4d 27 b5 96 a9 bd cc 6c c7 f6 78 83 36 f6 9a 78 c9 e8 4f 54 a5 2e>,
  absValidity: 2018-08-28T04:31:16.007Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200074,
     cipherKeyVal: <Buffer 5d ac 88 8d 1c f0 42 7d 33 a9 0b 3a 0b de ca d0>,
     macKeyVal: <Buffer bb 53 e6 8a 71 55 9e 50 a9 41 4d 27 b5 96 a9 bd cc 6c c7 f6 78 83 36 f6 9a 78 c9 e8 4f 54 a5 2e>,
     absValidity: 2018-08-28T04:31:16.007Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 83 50 34 d2 6f 21 b8 61>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 04:31:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1535344278759
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1535344335036
connected to auth! from local port 40510
received auth hello!
{ authId: 402, nonce: <Buffer c7 40 a8 14 88 10 3c 96> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ea fc 07 f0 59 89 d2 9f>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200081,
  cipherKeyVal: <Buffer db 9a a3 d5 5b 98 46 0a d9 c3 6b a3 e5 cc 53 e5>,
  macKeyVal: <Buffer 82 7c 7c 05 9e 48 1c 6e 34 31 71 83 c8 82 87 5a 40 58 20 15 96 f6 b0 b1 b2 cb 34 84 a7 29 45 4b>,
  absValidity: 2018-08-28T04:32:16.016Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200081,
     cipherKeyVal: <Buffer db 9a a3 d5 5b 98 46 0a d9 c3 6b a3 e5 cc 53 e5>,
     macKeyVal: <Buffer 82 7c 7c 05 9e 48 1c 6e 34 31 71 83 c8 82 87 5a 40 58 20 15 96 f6 b0 b1 b2 cb 34 84 a7 29 45 4b>,
     absValidity: 2018-08-28T04:32:16.016Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 28 4d 52 53 39 c4 b2 09>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 04:32:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1535344338488
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1535344395057
connected to auth! from local port 40780
received auth hello!
{ authId: 402, nonce: <Buffer db d5 b3 2b 7b 55 01 95> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 37 46 8e fe 34 32 b8 41>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200088,
  cipherKeyVal: <Buffer c5 94 98 c3 ab fb 23 8b cf 07 9c 1a 87 b0 3c 4b>,
  macKeyVal: <Buffer 03 9a 78 cb fe 87 5e 6c e5 24 1a 6a cf c4 ad ac aa 5b 81 ba f2 03 82 b6 59 47 dd 14 d3 88 f0 ba>,
  absValidity: 2018-08-28T04:33:16.100Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200088,
     cipherKeyVal: <Buffer c5 94 98 c3 ab fb 23 8b cf 07 9c 1a 87 b0 3c 4b>,
     macKeyVal: <Buffer 03 9a 78 cb fe 87 5e 6c e5 24 1a 6a cf c4 ad ac aa 5b 81 ba f2 03 82 b6 59 47 dd 14 d3 88 f0 ba>,
     absValidity: 2018-08-28T04:33:16.100Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 33 bb 9b 4a 77 35 70 97>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 04:33:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1535344398664
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1535344455112
connected to auth! from local port 41050
received auth hello!
{ authId: 402, nonce: <Buffer d2 2a 30 87 b2 ff ab 6b> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer e9 3d 49 80 4b 21 f4 be>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200095,
  cipherKeyVal: <Buffer 20 30 1f a8 2a b6 84 17 df 19 eb 0e b1 2b 95 05>,
  macKeyVal: <Buffer 1f eb ea 71 57 88 01 da 0b 50 37 92 7f 58 4b c1 17 ba db c9 50 ff 63 db 96 a6 19 fa 64 da 68 04>,
  absValidity: 2018-08-28T04:34:16.097Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200095,
     cipherKeyVal: <Buffer 20 30 1f a8 2a b6 84 17 df 19 eb 0e b1 2b 95 05>,
     macKeyVal: <Buffer 1f eb ea 71 57 88 01 da 0b 50 37 92 7f 58 4b c1 17 ba db c9 50 ff 63 db 96 a6 19 fa 64 da 68 04>,
     absValidity: 2018-08-28T04:34:16.097Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer be 43 94 10 ea db cd 74>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 04:34:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1535344458660
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1535344515165
connected to auth! from local port 41320
received auth hello!
{ authId: 402, nonce: <Buffer 20 c2 9e 2c 08 a0 c6 96> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 5d 80 83 7b 97 cc 20 57>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200102,
  cipherKeyVal: <Buffer 9c 4f cd 5e 1b c4 d8 74 78 b3 29 58 b1 30 c0 83>,
  macKeyVal: <Buffer 85 9e 4d 10 f8 04 69 07 c5 de bf c1 4e c0 16 b9 0b 5f bc 9e d0 3f 09 4a 1d b4 23 e0 f3 c3 62 ba>,
  absValidity: 2018-08-28T04:35:16.222Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200102,
     cipherKeyVal: <Buffer 9c 4f cd 5e 1b c4 d8 74 78 b3 29 58 b1 30 c0 83>,
     macKeyVal: <Buffer 85 9e 4d 10 f8 04 69 07 c5 de bf c1 4e c0 16 b9 0b 5f bc 9e d0 3f 09 4a 1d b4 23 e0 f3 c3 62 ba>,
     absValidity: 2018-08-28T04:35:16.222Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer e0 ec 18 5d 8c bd bf 7a>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 04:35:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1535344518887
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1535344575196
connected to auth! from local port 41586
received auth hello!
{ authId: 402, nonce: <Buffer 26 a6 cb 2d cd c9 5c ca> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 5d 8a fb 6c e8 c3 f0 b2>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40200109,
  cipherKeyVal: <Buffer c1 80 a2 f7 2e 07 77 f8 41 aa 52 f4 d0 1f 1e 69>,
  macKeyVal: <Buffer f6 dd 31 63 22 2b 71 ff f3 93 bb 70 9f 8f 02 ca 8d 17 11 36 5f 8b b1 74 0c fb 4f 58 fa dc b2 90>,
  absValidity: 2018-08-28T04:36:16.192Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.15',
  serverPort: 22100,
  sessionKey: 
   { id: 40200109,
     cipherKeyVal: <Buffer c1 80 a2 f7 2e 07 77 f8 41 aa 52 f4 d0 1f 1e 69>,
     macKeyVal: <Buffer f6 dd 31 63 22 2b 71 ff f3 93 bb 70 9f 8f 02 ca 8d 17 11 36 5f 8b b1 74 0c fb 4f 58 fa dc b2 90>,
     absValidity: 2018-08-28T04:36:16.192Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer a6 79 fe 8a dd c1 e2 53>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.15:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 9 0.7777777777777778 1535344635203
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 10 0.7 1535344695212
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 37194
received auth hello!
{ authId: 502, nonce: <Buffer 5d 1c 0b 0f 4b 7b 48 d9> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 11 0.6363636363636364 1535344755220
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 37428
received auth hello!
{ authId: 502, nonce: <Buffer cd 80 12 e5 9f 31 c3 58> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 12 0.5833333333333334 1535344815229
failure in connection with Auth : authFailureCount: 4
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.4:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 13 0.5384615384615384 1535344875236
failure in connection with Auth : authFailureCount: 5
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 1
to: 2
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 50920
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 14 0.5 1535344935244
failure in connection with Auth : authFailureCount: 6
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 51176
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 15 0.4666666666666667 1535344995251
failure in connection with Auth : authFailureCount: 7
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 2
to: 3
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 45568
received auth hello!
{ authId: 403, nonce: <Buffer 7b 51 cd ea 3f 41 47 d2> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 16 0.4375 1535345055256
failure in connection with Auth : authFailureCount: 8
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 45832
received auth hello!
{ authId: 403, nonce: <Buffer e9 8d 56 c7 3f c2 3f 8d> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 17 0.4117647058823529 1535345115264
failure in connection with Auth : authFailureCount: 9
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 3
to: 4
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.2:21100
connected to auth! from local port 58298
received auth hello!
{ authId: 503, nonce: <Buffer 34 bb 7d e5 ce 2f 8e 32> }
more data will come. current: 1445 expected: 1485
received migration response with signature!
{ version: 2,
  subject: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth503',
     commonName: '10.0.1.6' },
  issuer: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth402',
     commonName: '10.0.0.2' },
  serial: '016579A30590',
  notBefore: 2018-08-27T04:25:51.000Z,
  notAfter: 2018-08-28T04:27:31.000Z,
  subjectHash: '5542437f',
  signatureAlgorithm: 'sha256WithRSAEncryption',
  fingerPrint: '41:2F:95:3F:A6:AC:74:7F:43:20:A2:5C:1A:A9:E9:1D:95:7D:9C:9A',
  publicKey: 
   { algorithm: 'rsaEncryption',
     e: '65537',
     n: 'B23F6093C850A1F776C6B25A211F3D5D8785C0DAD492C4DE461DA15D8F9B6101A99371495C8D7E30C245C7CC7E2E192E5B5EB588DBBBDBA927B35EDD2BAE5D8C5C65824B855A9221C4466C8784616AD037B77C8AADC6EF39D05015670368020871C42CAC357EA02550E2A7B413707218579A29BD6E3766CDC96E0C38274B71EADD932F983948893BE88DFCA5822A49F903804459FF6A6BE5F8D58602F470CF3B3720B509B13C86CB937B7103FB5BB709F3236962F0A80B162386009C70550963F281A68E509BD7FD3B899E2D99BBF01E7FAD284D2AA9766FC563E437A20FC2DB9E924A4047450953A3342A8380752168F1038EC6A4763C6E85566CE28AE879E7',
     bitSize: 2048 },
  altNames: [],
  extensions: { subjectAlternativeName: 'IP Address:10.0.1.6' } }
null
true
Certificate of new Auth is verified!
Subject information matches Auth ID!
Signature of new Auth is verified.
Auth nonce is verified
migration completed!
new Auth info: !
{ id: 503,
  host: '10.0.1.6',
  port: 21100,
  publicKey: '-----BEGIN CERTIFICATE-----\nMIIDVTCCAj2gAwIBAgIGAWV5owWQMA0GCSqGSIb3DQEBCwUAMGExCzAJBgNVBAYT\nAlVTMQswCQYDVQQIDAJDQTERMA8GA1UEBwwIQmVya2VsZXkxDTALBgNVBAoMBEVF\nQ1MxEDAOBgNVBAsMB0F1dGg0MDIxETAPBgNVBAMMCDEwLjAuMC4yMB4XDTE4MDgy\nNzA0MjU1MVoXDTE4MDgyODA0MjczMVowYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgM\nAkNBMREwDwYDVQQHDAhCZXJrZWxleTENMAsGA1UECgwERUVDUzEQMA4GA1UECwwH\nQXV0aDUwMzERMA8GA1UEAwwIMTAuMC4xLjYwggEiMA0GCSqGSIb3DQEBAQUAA4IB\nDwAwggEKAoIBAQCyP2CTyFCh93bGslohHz1dh4XA2tSSxN5GHaFdj5thAamTcUlc\njX4wwkXHzH4uGS5bXrWI27vbqSezXt0rrl2MXGWCS4VakiHERmyHhGFq0De3fIqt\nxu850FAVZwNoAghxxCysNX6gJVDip7QTcHIYV5opvW43Zs3Jbgw4J0tx6t2TL5g5\nSIk76I38pYIqSfkDgERZ/2pr5fjVhgL0cM87NyC1CbE8hsuTe3ED+1u3CfMjaWLw\nqAsWI4YAnHBVCWPygaaOUJvX/TuJni2Zu/Aef60oTSqpdm/FY+Q3og/C256SSkBH\nRQlTozQqg4B1IWjxA47GpHY8boVWbOKK6HnnAgMBAAGjEzARMA8GA1UdEQQIMAaH\nBAoAAQYwDQYJKoZIhvcNAQELBQADggEBAG4qC0Z6/YnhgNRGiexKUnMpCHlyMqxI\n2AEZc+sBDwLeAb7mq8UFTjVRoVTu/v3aLhxBb1AfpFvCoTAHcrAl0a2OZ1EydHOW\n9e2d78o++5Qcdbtvs0MFPmkIqsAWVcS6Lpd3aZstCIkxRi0g4UmV+5kERhMgp3EA\nfcWFkwFCseT1TT0+FmLoJpVwAIYg7Fa159gT9BgEL1EXGq8WCPmZRabtB/atHoqH\nnFYHrn8EQc1HK+im5DzhzA1k3yKcVf/km3STEiGqL+8rKv33a32L9WfJhNGKvV6b\neG8H85cur5uHqPfw8og+v4To1fY3ExTOvJXnN5Zvmkz1UOTfihO7xFk=\n-----END CERTIFICATE-----' }
received migration response, for next round of migration, rotate migration info index from: 4
to: 5
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902
            eventHandlers.onError('Error occurred in migration request: Disconnected from auth before getting migration response: ' + error);
                                                                                                                                      ^

ReferenceError: error is not defined
    at Socket.<anonymous> (/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902:135)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:188:7)
    at endReadableNT (_stream_readable.js:975:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
