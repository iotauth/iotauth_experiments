changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c503.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c503',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 41 49 42 41 41 4b 43 41 51 45 41 32 45 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1535349515468
connected to auth! from local port 54176
received auth hello!
{ authId: 501, nonce: <Buffer 2f 31 b8 b7 de cb 84 4d> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 13 ac 68 1b 70 69 55 85>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 48 65 f6 0a a3 df 7e 4a 80 7f 91 ae c5 f8 25 07>,
  macKeyVal: <Buffer 31 9d 4f b6 0c 7c 39 58 51 e0 d5 ee 5f 7e bf fb 08 80 d3 72 77 1d 15 a0 0f 5c 94 c8 93 1a f4 b6>,
  absValidity: 2018-08-27T06:58:35.650Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100058,
  cipherKeyVal: <Buffer ce 9d 76 b9 17 d4 bd fa 86 94 a7 8a 42 e0 f7 80>,
  macKeyVal: <Buffer 37 42 e6 57 6a 04 f4 91 02 93 a4 5c e9 73 b3 79 cb 5a 28 b9 84 b1 15 4e 76 42 9d b3 bb af 0b c5>,
  absValidity: 2018-08-28T05:58:35.650Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50100058,
     cipherKeyVal: <Buffer ce 9d 76 b9 17 d4 bd fa 86 94 a7 8a 42 e0 f7 80>,
     macKeyVal: <Buffer 37 42 e6 57 6a 04 f4 91 02 93 a4 5c e9 73 b3 79 cb 5a 28 b9 84 b1 15 4e 76 42 9d b3 bb af 0b c5>,
     absValidity: 2018-08-28T05:58:35.650Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 3a b6 ac f7 2c 9b 4a 44>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 05:58:36 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1535349516574
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1535349575525
connected to auth! from local port 54414
received auth hello!
{ authId: 501, nonce: <Buffer a1 6a 79 4a c2 49 de 43> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer da 6f a9 d1 df 99 38 6e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100066,
  cipherKeyVal: <Buffer 73 3d 59 ed d7 b9 76 48 ad 30 b2 e2 87 90 08 94>,
  macKeyVal: <Buffer 60 8d a7 43 15 48 73 b7 ac c4 94 1d e9 2e 2a f0 26 a5 be 6a 00 ed 4d cb 6a 89 91 81 f5 69 85 7d>,
  absValidity: 2018-08-28T05:59:35.750Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50100066,
     cipherKeyVal: <Buffer 73 3d 59 ed d7 b9 76 48 ad 30 b2 e2 87 90 08 94>,
     macKeyVal: <Buffer 60 8d a7 43 15 48 73 b7 ac c4 94 1d e9 2e 2a f0 26 a5 be 6a 00 ed 4d cb 6a 89 91 81 f5 69 85 7d>,
     absValidity: 2018-08-28T05:59:35.750Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 1c d1 4f 09 02 7b 65 5f>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 05:59:36 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1535349577283
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1535349635580
connected to auth! from local port 54686
received auth hello!
{ authId: 501, nonce: <Buffer 55 7f 01 f8 c9 79 32 27> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 32 50 8a 89 6b 54 fa bc>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100074,
  cipherKeyVal: <Buffer de 24 f7 b9 14 7a da fa 79 54 79 48 5e a9 ed 2b>,
  macKeyVal: <Buffer bc eb ab 3e c7 25 6f bb 97 87 da 28 28 78 a4 dd 19 3e 7f fe 78 67 4e 55 c2 84 cc e3 66 09 cb 0d>,
  absValidity: 2018-08-28T06:00:35.766Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50100074,
     cipherKeyVal: <Buffer de 24 f7 b9 14 7a da fa 79 54 79 48 5e a9 ed 2b>,
     macKeyVal: <Buffer bc eb ab 3e c7 25 6f bb 97 87 da 28 28 78 a4 dd 19 3e 7f fe 78 67 4e 55 c2 84 cc e3 66 09 cb 0d>,
     absValidity: 2018-08-28T06:00:35.766Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 7b 21 02 7b ed 75 bb 73>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:00:36 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1535349636986
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1535349695636
connected to auth! from local port 54956
received auth hello!
{ authId: 501, nonce: <Buffer 25 74 ee d4 a3 48 01 ee> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 5f 01 ea 62 8e 09 88 d6>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100082,
  cipherKeyVal: <Buffer 97 9c c8 86 40 3a fc ef 52 76 48 73 00 05 b0 1e>,
  macKeyVal: <Buffer 5e da 8a 70 01 a1 42 ef 7a a4 1f f4 9f 37 80 6c 4e 7d d6 30 1b 04 de 72 6d 07 98 84 c8 9c be 0b>,
  absValidity: 2018-08-28T06:01:35.853Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50100082,
     cipherKeyVal: <Buffer 97 9c c8 86 40 3a fc ef 52 76 48 73 00 05 b0 1e>,
     macKeyVal: <Buffer 5e da 8a 70 01 a1 42 ef 7a a4 1f f4 9f 37 80 6c 4e 7d d6 30 1b 04 de 72 6d 07 98 84 c8 9c be 0b>,
     absValidity: 2018-08-28T06:01:35.853Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 35 63 e1 9d b9 7e be fc>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:01:36 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1535349697188
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1535349755695
connected to auth! from local port 55226
received auth hello!
{ authId: 501, nonce: <Buffer 76 6d 5b d4 0e 81 1a 15> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d7 5b d1 7c c7 cd 10 b4>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100090,
  cipherKeyVal: <Buffer 84 1e 4b b4 87 9e 09 41 6c c4 3b d2 80 7d 87 51>,
  macKeyVal: <Buffer e5 95 57 c2 46 4e 8f e4 b4 08 e8 76 73 ef 4b a9 46 95 18 64 ce 71 e1 c1 f1 af 51 93 b3 6e 0d 9d>,
  absValidity: 2018-08-28T06:02:35.865Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50100090,
     cipherKeyVal: <Buffer 84 1e 4b b4 87 9e 09 41 6c c4 3b d2 80 7d 87 51>,
     macKeyVal: <Buffer e5 95 57 c2 46 4e 8f e4 b4 08 e8 76 73 ef 4b a9 46 95 18 64 ce 71 e1 c1 f1 af 51 93 b3 6e 0d 9d>,
     absValidity: 2018-08-28T06:02:35.865Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer fa 74 59 e9 ed dd 43 ab>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:02:36 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1535349757193
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1535349815752
connected to auth! from local port 55530
received auth hello!
{ authId: 501, nonce: <Buffer e3 13 de e8 08 ee 24 40> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 0b bc 08 db cf a6 ef 9f>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100098,
  cipherKeyVal: <Buffer fc b4 69 42 7a de 08 1b ab 5d d8 84 20 d7 d1 f6>,
  macKeyVal: <Buffer 50 81 a3 8c 47 76 1c b5 be e3 47 1f aa 28 17 ed 3a 1c ce db 2a bc 93 ea 1b 16 ca 36 49 ad 56 6d>,
  absValidity: 2018-08-28T06:03:35.942Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50100098,
     cipherKeyVal: <Buffer fc b4 69 42 7a de 08 1b ab 5d d8 84 20 d7 d1 f6>,
     macKeyVal: <Buffer 50 81 a3 8c 47 76 1c b5 be e3 47 1f aa 28 17 ed 3a 1c ce db 2a bc 93 ea 1b 16 ca 36 49 ad 56 6d>,
     absValidity: 2018-08-28T06:03:35.942Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer fd ae fe 9f 98 0f 60 26>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:03:36 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1535349817274
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1535349875808
connected to auth! from local port 55800
received auth hello!
{ authId: 501, nonce: <Buffer bd 21 e7 50 7a ae f4 6b> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 9f fe c8 35 2c 37 55 74>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100106,
  cipherKeyVal: <Buffer a3 3b 89 fa dd 89 b0 3d cb aa f7 bf b5 0c 89 03>,
  macKeyVal: <Buffer b8 62 bf fd 5c 4a 70 76 5c 71 35 66 08 31 dc b1 88 b2 1a 7c 06 68 e8 c2 da f6 6a 15 9d 90 1f 0e>,
  absValidity: 2018-08-28T06:04:36.038Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50100106,
     cipherKeyVal: <Buffer a3 3b 89 fa dd 89 b0 3d cb aa f7 bf b5 0c 89 03>,
     macKeyVal: <Buffer b8 62 bf fd 5c 4a 70 76 5c 71 35 66 08 31 dc b1 88 b2 1a 7c 06 68 e8 c2 da f6 6a 15 9d 90 1f 0e>,
     absValidity: 2018-08-28T06:04:36.038Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 34 87 81 89 e0 76 8e 1d>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:04:36 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1535349877543
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1535349935866
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 9 0.7777777777777778 1535349995877
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 10 0.7 1535350055884
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
connected to auth! from local port 43148
received auth hello!
{ authId: 502, nonce: <Buffer 4b 02 2e cd 58 5c fe 43> }
more data will come. current: 1445 expected: 1485
received migration response with signature!
{ version: 2,
  subject: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth502',
     commonName: '10.0.1.5' },
  issuer: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth501',
     commonName: '10.0.0.4' },
  serial: '016579F45321',
  notBefore: 2018-08-27T05:54:39.000Z,
  notAfter: 2018-08-28T05:56:19.000Z,
  subjectHash: '9638ffe3',
  signatureAlgorithm: 'sha256WithRSAEncryption',
  fingerPrint: 'C5:B5:0D:4B:A2:32:14:F7:83:03:42:7A:0D:9B:9A:99:50:82:BA:B2',
  publicKey: 
   { algorithm: 'rsaEncryption',
     e: '65537',
     n: 'A31E9022457B05D056C9FDEDB58BC733BB1B97C16EF02448C451D7DA8BD15C69BDB461E2FD275C96206B77B283645D6BCD71B284A7AC0F1477E8D62ECAA762A3FA674E23957AED10D73D8ED8838AC41A47FAF8FB50BCB1B3A57C246D7D1861A3880C7CCFDEEB58259C62F656BDFDD4ABE6096C88FFA9EEEF3D32230BB86D8FF4C534038264055EB8B3972DC370931A0A38091A1287BFF40D2EF7D92570D86B1837F35A2EA3F7B96EA0870826501C88C4DC0639DA69AE419D997562C46AF20F50D09554213C3EE69AE5685E2446DC62A309CD065472D9BC7AD27221D047D12C6241DBDF5C65881B877D96358D4C273A9F3D8D02DEB84D0581B7EB28209680C6AD',
     bitSize: 2048 },
  altNames: [],
  extensions: { subjectAlternativeName: 'IP Address:10.0.1.5' } }
null
true
Certificate of new Auth is verified!
Subject information matches Auth ID!
Signature of new Auth is verified.
Auth nonce is verified
migration completed!
new Auth info: !
{ id: 502,
  host: '10.0.1.5',
  port: 21100,
  publicKey: '-----BEGIN CERTIFICATE-----\nMIIDVTCCAj2gAwIBAgIGAWV59FMhMA0GCSqGSIb3DQEBCwUAMGExCzAJBgNVBAYT\nAlVTMQswCQYDVQQIDAJDQTERMA8GA1UEBwwIQmVya2VsZXkxDTALBgNVBAoMBEVF\nQ1MxEDAOBgNVBAsMB0F1dGg1MDExETAPBgNVBAMMCDEwLjAuMC40MB4XDTE4MDgy\nNzA1NTQzOVoXDTE4MDgyODA1NTYxOVowYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgM\nAkNBMREwDwYDVQQHDAhCZXJrZWxleTENMAsGA1UECgwERUVDUzEQMA4GA1UECwwH\nQXV0aDUwMjERMA8GA1UEAwwIMTAuMC4xLjUwggEiMA0GCSqGSIb3DQEBAQUAA4IB\nDwAwggEKAoIBAQCjHpAiRXsF0FbJ/e21i8czuxuXwW7wJEjEUdfai9Fcab20YeL9\nJ1yWIGt3soNkXWvNcbKEp6wPFHfo1i7Kp2Kj+mdOI5V67RDXPY7Yg4rEGkf6+PtQ\nvLGzpXwkbX0YYaOIDHzP3utYJZxi9la9/dSr5glsiP+p7u89MiMLuG2P9MU0A4Jk\nBV64s5ctw3CTGgo4CRoSh7/0DS732SVw2GsYN/NaLqP3uW6ghwgmUByIxNwGOdpp\nrkGdmXVixGryD1DQlVQhPD7mmuVoXiRG3GKjCc0GVHLZvHrSciHQR9EsYkHb31xl\niBuHfZY1jUwnOp89jQLeuE0FgbfrKCCWgMatAgMBAAGjEzARMA8GA1UdEQQIMAaH\nBAoAAQUwDQYJKoZIhvcNAQELBQADggEBABnwgP6upwjSVwQ+8rJAKHvbXZEKwiZJ\nMDbUo7tMGyXalN421P7YyEAel7wgZiWOWQ0TUe6eVA/RkJuBZjGmli9cS08h2NId\noZrTCDWsbSmFowLc8160KBezS1TA20DGOashAJKl53uAZ9P82HApDNed+97DXNM/\npDTsWXYm3c15QQgrP20uoCVdSJevnym3XKPIawRU2dMARONeAqMl27K8HgrEy3lG\nPuQZbCZcZwnNrGLrQ24pLWj6iyNNTXMRDNacouHJLmlsJAEgr7+fW1XwyLFrxhzY\nCGp4ackWUgZNoVTJi/JcA481M0pCqUvbEugwMHG0uS4IW56V+YH5XFw=\n-----END CERTIFICATE-----' }
received migration response, for next round of migration, rotate migration info index from: 1
to: 2
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 11 0.6363636363636364 1535350115891
connected to auth! from local port 43384
received auth hello!
{ authId: 502, nonce: <Buffer 4d 76 bb 65 b1 9b 7f 4d> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 51 3b 8f 25 a5 a7 30 e0>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 27 95 4e 5f 4d 37 d8 79 04 03 10 76 6b ea 9b d7>,
  macKeyVal: <Buffer 47 fd 78 07 e8 ac 3c 59 ef 1f b4 d5 eb 47 47 2e 75 c2 cc 54 5a ff d9 8f 49 85 5f 61 5e e9 9c 85>,
  absValidity: 2018-08-27T07:08:36.135Z }
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200389,
  cipherKeyVal: <Buffer 3d 88 6b 29 c8 54 38 d5 62 80 5d 43 fe 0d a8 fe>,
  macKeyVal: <Buffer 1d d3 09 07 e3 20 38 e4 33 e2 fe b4 bc a8 74 37 09 1f 64 e4 d7 06 d6 59 f0 88 7f da eb f3 5b b0>,
  absValidity: 2018-08-28T06:08:36.135Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200389,
     cipherKeyVal: <Buffer 3d 88 6b 29 c8 54 38 d5 62 80 5d 43 fe 0d a8 fe>,
     macKeyVal: <Buffer 1d d3 09 07 e3 20 38 e4 33 e2 fe b4 bc a8 74 37 09 1f 64 e4 d7 06 d6 59 f0 88 7f da eb f3 5b b0>,
     absValidity: 2018-08-28T06:08:36.135Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer 83 21 6a 92 b0 0c bd 01>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.26:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 12 0.5833333333333334 1535350175900
connected to auth! from local port 43632
received auth hello!
{ authId: 502, nonce: <Buffer 77 38 42 51 ad e7 f9 64> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 72 bb 81 78 4c 8b c8 d4>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200407,
  cipherKeyVal: <Buffer e0 a5 f3 e4 ce 50 74 ba b5 5a 82 d1 d5 f1 fe 75>,
  macKeyVal: <Buffer 3a 5f e8 d0 9a 35 86 bf e4 a6 94 90 26 ca ae 8d 50 f2 b7 32 5b fd 87 73 77 b3 e7 b2 e4 44 1f b3>,
  absValidity: 2018-08-28T06:09:37.346Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200407,
     cipherKeyVal: <Buffer e0 a5 f3 e4 ce 50 74 ba b5 5a 82 d1 d5 f1 fe 75>,
     macKeyVal: <Buffer 3a 5f e8 d0 9a 35 86 bf e4 a6 94 90 26 ca ae 8d 50 f2 b7 32 5b fd 87 73 77 b3 e7 b2 e4 44 1f b3>,
     absValidity: 2018-08-28T06:09:37.346Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 5d 1f 64 91 66 a7 c8 52>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:09:38 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 8 12 0.6666666666666666 1535350178900
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 13 0.6153846153846154 1535350235957
connected to auth! from local port 43850
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 14 0.5714285714285714 1535350295964
connected to auth! from local port 44060
Handler: Error in secure comm - details: Auth hello timedout ...
received auth hello!
{ authId: 502, nonce: <Buffer 4c 97 d0 cb 7f 58 e2 3c> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
received auth hello!
{ authId: 502, nonce: <Buffer ad 77 21 b2 f2 36 f6 01> }
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 15 0.5333333333333333 1535350355964
connected to auth! from local port 44276
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.4:21100
disconnected from auth
disconnected from auth
received auth hello!
{ authId: 502, nonce: <Buffer b5 17 3e 0c 50 c5 91 b3> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b2 34 13 83 ef f6 7b 24>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200453,
  cipherKeyVal: <Buffer b1 e2 53 3f 8b 60 ba 1b 09 8c 7f fc 10 7a d1 46>,
  macKeyVal: <Buffer 2e 66 58 f2 ba ec 66 66 3b 08 c3 47 19 c1 95 f1 37 89 d2 dc 43 d4 e7 e4 53 4f 99 a5 b6 62 c9 96>,
  absValidity: 2018-08-28T06:12:59.568Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200453,
     cipherKeyVal: <Buffer b1 e2 53 3f 8b 60 ba 1b 09 8c 7f fc 10 7a d1 46>,
     macKeyVal: <Buffer 2e 66 58 f2 ba ec 66 66 3b 08 c3 47 19 c1 95 f1 37 89 d2 dc 43 d4 e7 e4 53 4f 99 a5 b6 62 c9 96>,
     absValidity: 2018-08-28T06:12:59.568Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer b5 86 31 8b 68 5d 60 15>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
Handler: Error in secure comm - details: Connection with Auth timed out...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Handler: Error in secure comm - details: Connection with Auth timed out...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 16 0.5 1535350415972
connected to auth! from local port 44492
received auth hello!
{ authId: 502, nonce: <Buffer cf e4 b0 17 6a c6 1a 35> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d4 8c 8f 9a d5 c5 c7 2b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200460,
  cipherKeyVal: <Buffer 32 f2 6f c8 ea 9d 87 ec 70 44 b6 c9 aa fc 3d a8>,
  macKeyVal: <Buffer d4 2b 44 66 ff e8 08 eb 96 e8 3d 42 c7 45 f0 3f f6 b6 6d 94 3f 20 c0 bc 38 01 bb 48 eb 65 60 8e>,
  absValidity: 2018-08-28T06:13:39.878Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200460,
     cipherKeyVal: <Buffer 32 f2 6f c8 ea 9d 87 ec 70 44 b6 c9 aa fc 3d a8>,
     macKeyVal: <Buffer d4 2b 44 66 ff e8 08 eb 96 e8 3d 42 c7 45 f0 3f f6 b6 6d 94 3f 20 c0 bc 38 01 bb 48 eb 65 60 8e>,
     absValidity: 2018-08-28T06:13:39.878Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 31 67 c1 6c 12 f1 8a 4f>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:13:40 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 9 16 0.5625 1535350421454
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.26:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 9 17 0.5294117647058824 1535350475987
connected to auth! from local port 44702
received auth hello!
{ authId: 502, nonce: <Buffer e0 dc 19 d4 3e 23 de 12> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 85 41 06 aa d3 f7 7b 6e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200474,
  cipherKeyVal: <Buffer fc f5 79 b5 66 b9 b6 3f e0 c1 3e db 9f a2 11 83>,
  macKeyVal: <Buffer 6e 91 72 42 0b 06 90 58 fd 3d b3 9e e8 a6 78 c1 aa a6 e2 62 a8 5f 6e 5c 02 23 f4 43 8d 4c 0c 05>,
  absValidity: 2018-08-28T06:14:39.866Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200474,
     cipherKeyVal: <Buffer fc f5 79 b5 66 b9 b6 3f e0 c1 3e db 9f a2 11 83>,
     macKeyVal: <Buffer 6e 91 72 42 0b 06 90 58 fd 3d b3 9e e8 a6 78 c1 aa a6 e2 62 a8 5f 6e 5c 02 23 f4 43 8d 4c 0c 05>,
     absValidity: 2018-08-28T06:14:39.866Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 91 c7 c9 d9 d0 5c 70 1b>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:14:40 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 10 17 0.5882352941176471 1535350481357
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 18 0.5555555555555556 1535350535992
connected to auth! from local port 44914
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 19 0.5263157894736842 1535350596002
connected to auth! from local port 45134
received auth hello!
{ authId: 502, nonce: <Buffer 24 9b e2 23 dd 30 ce 58> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 54 15 ff e0 bf c7 60 8e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200503,
  cipherKeyVal: <Buffer ff 66 70 89 9e 5b 5d 38 a2 40 c2 17 b1 3c 06 21>,
  macKeyVal: <Buffer 71 53 a0 59 8a e5 40 e6 cb 27 88 07 ad 33 bc ef 5e 1d 93 8e 9a 4c 0f 97 bc ca 12 69 a2 9f 6b f6>,
  absValidity: 2018-08-28T06:16:43.857Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200503,
     cipherKeyVal: <Buffer ff 66 70 89 9e 5b 5d 38 a2 40 c2 17 b1 3c 06 21>,
     macKeyVal: <Buffer 71 53 a0 59 8a e5 40 e6 cb 27 88 07 ad 33 bc ef 5e 1d 93 8e 9a 4c 0f 97 bc ca 12 69 a2 9f 6b f6>,
     absValidity: 2018-08-28T06:16:43.857Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer 28 22 36 30 97 88 c0 cb>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:16:47 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 11 19 0.5789473684210527 1535350607413
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 11 20 0.55 1535350656013
connected to auth! from local port 45358
received auth hello!
{ authId: 502, nonce: <Buffer 0a bc 67 ce 86 31 76 96> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 5f 65 82 da 3f b6 b9 08>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200516,
  cipherKeyVal: <Buffer 4c 26 2d 48 f5 c3 19 44 6c 70 ef f8 d6 8e 9e 98>,
  macKeyVal: <Buffer 5e 79 37 d0 d0 2c 4e 98 db 36 6c b1 14 a6 ff 94 d2 2f bb 66 dc a2 67 60 32 f5 c3 74 94 5f bd 8d>,
  absValidity: 2018-08-28T06:17:39.869Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200516,
     cipherKeyVal: <Buffer 4c 26 2d 48 f5 c3 19 44 6c 70 ef f8 d6 8e 9e 98>,
     macKeyVal: <Buffer 5e 79 37 d0 d0 2c 4e 98 db 36 6c b1 14 a6 ff 94 d2 2f bb 66 dc a2 67 60 32 f5 c3 74 94 5f bd 8d>,
     absValidity: 2018-08-28T06:17:39.869Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 8e 43 b4 ff aa 7a e3 98>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:17:40 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 12 20 0.6 1535350661475
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 12 21 0.5714285714285714 1535350716068
connected to auth! from local port 45580
received auth hello!
{ authId: 502, nonce: <Buffer f2 27 a0 f7 0f 83 80 cc> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 32 eb eb 52 3e 5d 2c 5a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200530,
  cipherKeyVal: <Buffer 85 a4 9f a1 a5 38 33 99 4d 69 25 0e 3b 30 e3 ef>,
  macKeyVal: <Buffer 6c cb 47 b3 cb df 7f fd 16 81 d8 9b 13 8d a6 0d f7 19 7c a6 50 68 34 00 29 1a fd 4a 61 9a c8 af>,
  absValidity: 2018-08-28T06:18:39.832Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200530,
     cipherKeyVal: <Buffer 85 a4 9f a1 a5 38 33 99 4d 69 25 0e 3b 30 e3 ef>,
     macKeyVal: <Buffer 6c cb 47 b3 cb df 7f fd 16 81 d8 9b 13 8d a6 0d f7 19 7c a6 50 68 34 00 29 1a fd 4a 61 9a c8 af>,
     absValidity: 2018-08-28T06:18:39.832Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 6d 3e 41 e5 e4 71 99 a3>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:18:40 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 13 21 0.6190476190476191 1535350721320
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 22 0.5909090909090909 1535350776122
connected to auth! from local port 45796
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 23 0.5652173913043478 1535350836132
connected to auth! from local port 46006
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 24 0.5416666666666666 1535350896142
connected to auth! from local port 46222
received auth hello!
{ authId: 502, nonce: <Buffer f0 4a 89 de 07 49 4e a8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ab 45 d5 59 bc 6e 9b 63>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200586,
  cipherKeyVal: <Buffer 8a 6b 99 0c 18 e9 10 f2 e6 f6 e0 a5 c9 50 48 d4>,
  macKeyVal: <Buffer 35 85 b4 25 20 77 80 d3 8f c5 f2 90 b8 37 49 50 55 55 1c d8 c4 30 7e c5 35 d7 16 6d 90 de 80 b5>,
  absValidity: 2018-08-28T06:22:23.854Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200586,
     cipherKeyVal: <Buffer 8a 6b 99 0c 18 e9 10 f2 e6 f6 e0 a5 c9 50 48 d4>,
     macKeyVal: <Buffer 35 85 b4 25 20 77 80 d3 8f c5 f2 90 b8 37 49 50 55 55 1c d8 c4 30 7e c5 35 d7 16 6d 90 de 80 b5>,
     absValidity: 2018-08-28T06:22:23.854Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer e6 c5 93 b0 62 2c a8 39>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 25 0.52 1535350956152
connected to auth! from local port 46440
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.26:undefined
Handler: Error in secure comm - details: Auth hello timedout ...
received auth hello!
{ authId: 502, nonce: <Buffer f9 7d 43 1b 87 c5 4f ed> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
received auth hello!
{ authId: 502, nonce: <Buffer 47 f4 9e 57 f8 7f 1b b3> }
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 2
to: 0
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 26 0.5 1535351016152
connected to auth! from local port 46698
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.3:21100
disconnected from auth
disconnected from auth
Handler: Error in secure comm - details: Connection with Auth timed out...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Handler: Error in secure comm - details: Connection with Auth timed out...
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 27 0.48148148148148145 1535351076163
connected to auth! from local port 46912
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 28 0.4642857142857143 1535351136175
connected to auth! from local port 47122
received auth hello!
{ authId: 502, nonce: <Buffer c6 50 1c ba 73 32 e5 ba> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fb 4d 4d 32 c9 21 68 a1>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200633,
  cipherKeyVal: <Buffer 2c b3 d1 23 ac 77 f7 04 b4 c0 d4 c8 dc ea 7f 13>,
  macKeyVal: <Buffer a0 b1 02 f0 58 05 34 40 af 5e 16 83 ce f5 b6 72 a2 55 57 82 24 da 62 f4 22 4f d2 f9 67 f6 a4 ad>,
  absValidity: 2018-08-28T06:25:51.893Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.26',
  serverPort: 22100,
  sessionKey: 
   { id: 50200633,
     cipherKeyVal: <Buffer 2c b3 d1 23 ac 77 f7 04 b4 c0 d4 c8 dc ea 7f 13>,
     macKeyVal: <Buffer a0 b1 02 f0 58 05 34 40 af 5e 16 83 ce f5 b6 72 a2 55 57 82 24 da 62 f4 22 4f d2 f9 67 f6 a4 ad>,
     absValidity: 2018-08-28T06:25:51.893Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer da 14 c1 df c8 08 c4 7c>
switching to HANDSHAKE_1_SENT
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 06:25:54 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 14 28 0.5 1535351154687
received auth hello!
{ authId: 502, nonce: <Buffer 8b 93 e6 a4 b6 59 71 b0> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
disconnected from auth
