changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c501.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c501',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 6f 77 49 42 41 41 4b 43 41 51 45 41 74 2f ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1535340813906
connected to auth! from local port 34560
received auth hello!
{ authId: 501, nonce: <Buffer 91 a7 57 bb ec 21 32 ae> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer ab 76 da cd 2c b1 6c 89>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer b0 63 67 d7 d0 d3 61 ff 92 9c 5d 2b 55 80 f4 6a>,
  macKeyVal: <Buffer 6b 7d af d9 81 07 f5 c2 3d 86 e5 1e 40 20 53 bd b0 1c df ea ba 01 24 00 4a 4e 0f 90 3b 35 2f 23>,
  absValidity: 2018-08-27T04:33:34.097Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100000,
  cipherKeyVal: <Buffer 9e 4a 6c 9e 32 bd 4d 31 fd a8 fb 79 76 fa c5 e2>,
  macKeyVal: <Buffer cd 8c 6e f3 dd c0 a8 d8 ec 6a fa ba 9e 6d f3 6c a3 c8 d4 7f 07 19 c6 7c a6 62 8d 30 e5 30 04 3a>,
  absValidity: 2018-08-28T03:33:34.095Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50100000,
     cipherKeyVal: <Buffer 9e 4a 6c 9e 32 bd 4d 31 fd a8 fb 79 76 fa c5 e2>,
     macKeyVal: <Buffer cd 8c 6e f3 dd c0 a8 d8 ec 6a fa ba 9e 6d f3 6c a3 c8 d4 7f 07 19 c6 7c a6 62 8d 30 e5 30 04 3a>,
     absValidity: 2018-08-28T03:33:34.095Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer 78 55 ac 55 a3 b4 52 cc>
switching to HANDSHAKE_1_SENT
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:33:34 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1535340815096
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1535340873964
connected to auth! from local port 34794
received auth hello!
{ authId: 501, nonce: <Buffer a0 e5 44 fb cf 6c 37 ff> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ee e2 d0 f8 34 43 c5 92>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100008,
  cipherKeyVal: <Buffer c6 e6 e2 d5 42 53 63 d3 05 0d c3 ee b9 c5 cd 8d>,
  macKeyVal: <Buffer 3c 3a 75 a1 2c 11 19 64 fc cd 11 2e fc 5a ee 96 25 3d 64 c3 0a 70 be 69 9b 45 99 8e 26 a9 4b 9b>,
  absValidity: 2018-08-28T03:34:34.197Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50100008,
     cipherKeyVal: <Buffer c6 e6 e2 d5 42 53 63 d3 05 0d c3 ee b9 c5 cd 8d>,
     macKeyVal: <Buffer 3c 3a 75 a1 2c 11 19 64 fc cd 11 2e fc 5a ee 96 25 3d 64 c3 0a 70 be 69 9b 45 99 8e 26 a9 4b 9b>,
     absValidity: 2018-08-28T03:34:34.197Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer ca e1 36 88 4b 62 b7 40>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:34:35 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1535340875769
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1535340934020
connected to auth! from local port 35064
received auth hello!
{ authId: 501, nonce: <Buffer f4 b0 b9 a7 d9 69 09 4c> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer aa a8 98 65 24 6b b5 12>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100016,
  cipherKeyVal: <Buffer 14 26 37 05 36 32 09 33 bb da 49 c7 cb c1 7b 1f>,
  macKeyVal: <Buffer 93 59 d0 9f b3 dd 95 45 fc 19 14 29 fd a1 68 ff db 30 ec d6 dd 12 22 99 58 e8 4f 81 b7 69 a1 23>,
  absValidity: 2018-08-28T03:35:34.283Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50100016,
     cipherKeyVal: <Buffer 14 26 37 05 36 32 09 33 bb da 49 c7 cb c1 7b 1f>,
     macKeyVal: <Buffer 93 59 d0 9f b3 dd 95 45 fc 19 14 29 fd a1 68 ff db 30 ec d6 dd 12 22 99 58 e8 4f 81 b7 69 a1 23>,
     absValidity: 2018-08-28T03:35:34.283Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 1d 2b 29 6c c1 ea 40 4f>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:35:35 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1535340935647
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1535340994076
connected to auth! from local port 35334
received auth hello!
{ authId: 501, nonce: <Buffer 9b d7 11 0b ff 84 cc 07> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 52 fa 79 5d 95 bf 40 6a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100024,
  cipherKeyVal: <Buffer 3d 3a f5 06 81 a5 67 c3 65 41 23 ca 74 b6 d2 10>,
  macKeyVal: <Buffer f3 e0 e1 b8 90 f2 52 6d 71 31 b7 1e f7 d6 2f 1b 22 6c 13 49 f4 17 d5 8e f0 b1 6a 21 9c d6 df 34>,
  absValidity: 2018-08-28T03:36:34.380Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50100024,
     cipherKeyVal: <Buffer 3d 3a f5 06 81 a5 67 c3 65 41 23 ca 74 b6 d2 10>,
     macKeyVal: <Buffer f3 e0 e1 b8 90 f2 52 6d 71 31 b7 1e f7 d6 2f 1b 22 6c 13 49 f4 17 d5 8e f0 b1 6a 21 9c d6 df 34>,
     absValidity: 2018-08-28T03:36:34.380Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 5d 8c 27 f8 f9 0a 4d 09>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:36:35 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1535340995643
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1535341054132
connected to auth! from local port 35604
received auth hello!
{ authId: 501, nonce: <Buffer b6 39 f9 23 2b 82 3a c8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 0e ce 11 13 5e 72 d9 65>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100032,
  cipherKeyVal: <Buffer 34 70 d6 ee 7c 18 c8 cc 5a c2 5b 41 9e ca 9a c9>,
  macKeyVal: <Buffer 8d 51 1f 9c 6f 47 e0 3a 22 4e 29 0b 3f ce f6 50 27 b5 2f 48 07 df d7 62 74 19 12 b6 1b bb 15 23>,
  absValidity: 2018-08-28T03:37:34.341Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50100032,
     cipherKeyVal: <Buffer 34 70 d6 ee 7c 18 c8 cc 5a c2 5b 41 9e ca 9a c9>,
     macKeyVal: <Buffer 8d 51 1f 9c 6f 47 e0 3a 22 4e 29 0b 3f ce f6 50 27 b5 2f 48 07 df d7 62 74 19 12 b6 1b bb 15 23>,
     absValidity: 2018-08-28T03:37:34.341Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 70 61 0c 45 c7 ae 1d b3>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:37:35 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1535341055687
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1535341114188
connected to auth! from local port 35874
received auth hello!
{ authId: 501, nonce: <Buffer 2c 61 ab 3b d7 5e 74 bb> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 6c 7f c9 92 4b 81 46 d4>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100040,
  cipherKeyVal: <Buffer c9 ec b9 c1 9a 11 3a 5b ae 73 90 fa c7 e8 ba 0d>,
  macKeyVal: <Buffer d0 6a fa 31 1e f9 27 51 7b 21 a9 9c 8b df f4 34 48 f3 e6 d4 bd 27 ae 3a 44 b2 4a 97 3e 53 bd c8>,
  absValidity: 2018-08-28T03:38:34.384Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50100040,
     cipherKeyVal: <Buffer c9 ec b9 c1 9a 11 3a 5b ae 73 90 fa c7 e8 ba 0d>,
     macKeyVal: <Buffer d0 6a fa 31 1e f9 27 51 7b 21 a9 9c 8b df f4 34 48 f3 e6 d4 bd 27 ae 3a 44 b2 4a 97 3e 53 bd c8>,
     absValidity: 2018-08-28T03:38:34.384Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 2e fb 1a 34 cd 3f 63 a1>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:38:35 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1535341115783
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1535341174246
connected to auth! from local port 36144
received auth hello!
{ authId: 501, nonce: <Buffer 5f 64 45 27 c7 37 18 e8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer af 89 73 20 45 00 6d 73>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50100048,
  cipherKeyVal: <Buffer 0a 9b 57 56 09 6a 0a 62 61 dc b7 a6 17 6e b8 01>,
  macKeyVal: <Buffer 6e 25 24 07 47 49 3e 03 91 39 82 94 d8 83 88 9b 9e 23 27 96 41 68 5b 86 3b 3d 9e 85 74 ab c4 57>,
  absValidity: 2018-08-28T03:39:34.452Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50100048,
     cipherKeyVal: <Buffer 0a 9b 57 56 09 6a 0a 62 61 dc b7 a6 17 6e b8 01>,
     macKeyVal: <Buffer 6e 25 24 07 47 49 3e 03 91 39 82 94 d8 83 88 9b 9e 23 27 96 41 68 5b 86 3b 3d 9e 85 74 ab c4 57>,
     absValidity: 2018-08-28T03:39:34.452Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer b6 42 b8 43 21 60 91 f9>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:39:35 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1535341175787
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1535341234284
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 9 0.7777777777777778 1535341294294
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
connected to auth! from local port 49852
received auth hello!
{ authId: 401, nonce: <Buffer bb 4d af ac f4 cd 28 67> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 10 0.7 1535341354304
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
connected to auth! from local port 50068
received auth hello!
{ authId: 401, nonce: <Buffer bb e6 91 de 3a db fa 2f> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 11 0.6363636363636364 1535341414315
failure in connection with Auth : authFailureCount: 4
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.2:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 12 0.5833333333333334 1535341474322
failure in connection with Auth : authFailureCount: 5
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 1
to: 2
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.4:21100
connected to auth! from local port 39416
received auth hello!
{ authId: 502, nonce: <Buffer ba 17 7b 03 b3 e9 3d f2> }
more data will come. current: 1445 expected: 1485
received migration response with signature!
{ version: 2,
  subject: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth502',
     commonName: '10.0.1.5' },
  issuer: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth501',
     commonName: '10.0.0.4' },
  serial: '0165796FA793',
  notBefore: 2018-08-27T03:29:45.000Z,
  notAfter: 2018-08-28T03:31:25.000Z,
  subjectHash: '9638ffe3',
  signatureAlgorithm: 'sha256WithRSAEncryption',
  fingerPrint: '28:4D:FE:20:04:D7:86:93:50:8F:46:8A:7B:CA:60:2F:B5:59:40:2A',
  publicKey: 
   { algorithm: 'rsaEncryption',
     e: '65537',
     n: 'B138D36BE53FEF7A4EAFB969AC06E51234F04819636E9BD1C18A274EF509C20F60425ECB70D73DBE38728E4C8AE5C9A51F6B212017E83DB7265ADE4EB91743FF00E6384C91216C08E24F877D4756852A1A006533657C2AD970B6694EAA6074DD788860A9BBCCF0D830F5A7FED589C63785576A172E75E8EA5C2AFC1B8563D3B27BB7450A9659E288F607AA1643255BB6082A7AF57221C9DB5DDE2AFA6C5D86E13162450B4905BD4511BE1D82F1A3D32974AE25E6317777B2B45BA251A2511FFC8EF6FAE19E1CFC5BEEC19ADFE72E99C553F36401DCCA304F5C309892EE68C67986CBBFB67CEC5666ADDA8CD6487848CF2EDC5C68B7924C91D54BBEC322B2C309',
     bitSize: 2048 },
  altNames: [],
  extensions: { subjectAlternativeName: 'IP Address:10.0.1.5' } }
null
true
Certificate of new Auth is verified!
Subject information matches Auth ID!
Signature of new Auth is verified.
Auth nonce is verified
migration completed!
new Auth info: !
{ id: 502,
  host: '10.0.1.5',
  port: 21100,
  publicKey: '-----BEGIN CERTIFICATE-----\nMIIDVTCCAj2gAwIBAgIGAWV5b6eTMA0GCSqGSIb3DQEBCwUAMGExCzAJBgNVBAYT\nAlVTMQswCQYDVQQIDAJDQTERMA8GA1UEBwwIQmVya2VsZXkxDTALBgNVBAoMBEVF\nQ1MxEDAOBgNVBAsMB0F1dGg1MDExETAPBgNVBAMMCDEwLjAuMC40MB4XDTE4MDgy\nNzAzMjk0NVoXDTE4MDgyODAzMzEyNVowYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgM\nAkNBMREwDwYDVQQHDAhCZXJrZWxleTENMAsGA1UECgwERUVDUzEQMA4GA1UECwwH\nQXV0aDUwMjERMA8GA1UEAwwIMTAuMC4xLjUwggEiMA0GCSqGSIb3DQEBAQUAA4IB\nDwAwggEKAoIBAQCxONNr5T/vek6vuWmsBuUSNPBIGWNum9HBiidO9QnCD2BCXstw\n1z2+OHKOTIrlyaUfayEgF+g9tyZa3k65F0P/AOY4TJEhbAjiT4d9R1aFKhoAZTNl\nfCrZcLZpTqpgdN14iGCpu8zw2DD1p/7VicY3hVdqFy516OpcKvwbhWPTsnu3RQqW\nWeKI9geqFkMlW7YIKnr1ciHJ213eKvpsXYbhMWJFC0kFvUURvh2C8aPTKXSuJeYx\nd3eytFuiUaJRH/yO9vrhnhz8W+7Bmt/nLpnFU/NkAdzKME9cMJiS7mjGeYbLv7Z8\n7FZmrdqM1kh4SM8u3Fxot5JMkdVLvsMissMJAgMBAAGjEzARMA8GA1UdEQQIMAaH\nBAoAAQUwDQYJKoZIhvcNAQELBQADggEBAGPh9ZnSjprQKYeCkVdeTsaHZAXxL0Pg\nMmj4X6bce1rs2wQGWxTN85kGlS97uDLCZ65sKGSaVDHBoG3SjBwqVFjdzjetWjIK\nCbdrd76/CpHMpEcQXaykLJMcpZIqEQ5qlTf89v7Vf6qo9sxAAP2pE5IinTPQyrZl\nAAEG9oSeEPJ0JwLbgQSZT5OiOuw3fNI4IwVMEwRiOD4gGMq2I++PDuZ2xHovXLgr\nTVRjrAWjF2rjBQ1Gz4jwm5PXu3H7r5aGrQampI1Nl4KrPwN3PlX9ujlICNbYJtNb\n5FP+iZOgaYB+MPoiuiH9/WzlRRGPgHP44V6S4dc23S6/NmGZpb47tm8=\n-----END CERTIFICATE-----' }
received migration response, for next round of migration, rotate migration info index from: 2
to: 3
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 13 0.5384615384615384 1535341534332
connected to auth! from local port 39624
received auth hello!
{ authId: 502, nonce: <Buffer 68 d7 78 f6 9b 0b 8c 6e> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 89 23 4b d6 79 8e 8a 1e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer be 90 4d 13 28 f2 52 f8 0e 63 d3 a4 1d c6 ab 00>,
  macKeyVal: <Buffer fa b0 a8 79 9a 60 a5 8d b8 07 ad e3 c8 3e ad e3 93 f4 af 0a fd 0d e4 cb 8b 30 8c ec 09 04 a3 b0>,
  absValidity: 2018-08-27T04:45:35.043Z }
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200088,
  cipherKeyVal: <Buffer f4 e4 15 8e c6 87 a2 d0 3b b7 86 20 55 db c9 a4>,
  macKeyVal: <Buffer 17 bf f1 be b3 11 73 2b 78 cf df 34 2d 35 e1 e4 40 8c 84 40 5c a3 0b e5 5c 76 83 2b 5b af 5d 85>,
  absValidity: 2018-08-28T03:45:35.043Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200088,
     cipherKeyVal: <Buffer f4 e4 15 8e c6 87 a2 d0 3b b7 86 20 55 db c9 a4>,
     macKeyVal: <Buffer 17 bf f1 be b3 11 73 2b 78 cf df 34 2d 35 e1 e4 40 8c 84 40 5c a3 0b e5 5c 76 83 2b 5b af 5d 85>,
     absValidity: 2018-08-28T03:45:35.043Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer a0 58 ac 4b 05 12 fa 7a>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.24:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 14 0.5 1535341594341
connected to auth! from local port 39858
received auth hello!
{ authId: 502, nonce: <Buffer 00 b8 a4 ac be 3d e2 d9> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 86 fe a8 84 b3 53 88 be>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200104,
  cipherKeyVal: <Buffer 80 dc 70 da 92 a0 b7 3d 22 b2 a2 6a 1f 61 d6 ac>,
  macKeyVal: <Buffer c5 cd 34 91 4c 3e 9c f4 0c 03 c0 09 01 00 7d f6 64 25 96 12 ca 9d fd 67 b0 fe d8 4b 85 e4 8e 29>,
  absValidity: 2018-08-28T03:46:42.017Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200104,
     cipherKeyVal: <Buffer 80 dc 70 da 92 a0 b7 3d 22 b2 a2 6a 1f 61 d6 ac>,
     macKeyVal: <Buffer c5 cd 34 91 4c 3e 9c f4 0c 03 c0 09 01 00 7d f6 64 25 96 12 ca 9d fd 67 b0 fe d8 4b 85 e4 8e 29>,
     absValidity: 2018-08-28T03:46:42.017Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer ce 5f bf 3a 8f 97 50 d1>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.24:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 15 0.4666666666666667 1535341654343
connected to auth! from local port 40102
received auth hello!
{ authId: 502, nonce: <Buffer 5c d4 7d 0c 7d 94 74 bf> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 87 cf 88 18 ed 8d d1 e7>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200117,
  cipherKeyVal: <Buffer 73 a5 6e b1 8c 69 45 6c 8b 3f c9 cf 35 f8 46 01>,
  macKeyVal: <Buffer 50 5f c7 7a 28 cb 9e 9c bf 98 96 ad 8c 10 e8 00 00 13 c5 33 2b a0 1d 4c 5b 91 84 f1 61 66 0f a3>,
  absValidity: 2018-08-28T03:47:38.100Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200117,
     cipherKeyVal: <Buffer 73 a5 6e b1 8c 69 45 6c 8b 3f c9 cf 35 f8 46 01>,
     macKeyVal: <Buffer 50 5f c7 7a 28 cb 9e 9c bf 98 96 ad 8c 10 e8 00 00 13 c5 33 2b a0 1d 4c 5b 91 84 f1 61 66 0f a3>,
     absValidity: 2018-08-28T03:47:38.100Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 62 1d 05 e5 30 a1 90 c7>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.24:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 16 0.4375 1535341714349
connected to auth! from local port 40350
received auth hello!
{ authId: 502, nonce: <Buffer 5e 99 9b 59 57 fa 3a 1d> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 25 19 38 d1 25 f2 91 1a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200133,
  cipherKeyVal: <Buffer df 6f 01 c5 7a b0 72 82 f1 8a f1 d4 3b 49 b0 0b>,
  macKeyVal: <Buffer ee a6 52 6a 28 f3 29 99 76 8d ab 52 a2 d7 2d aa a0 75 82 7d 72 8f a7 50 3a 70 c4 5c 25 13 69 08>,
  absValidity: 2018-08-28T03:48:38.181Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200133,
     cipherKeyVal: <Buffer df 6f 01 c5 7a b0 72 82 f1 8a f1 d4 3b 49 b0 0b>,
     macKeyVal: <Buffer ee a6 52 6a 28 f3 29 99 76 8d ab 52 a2 d7 2d aa a0 75 82 7d 72 8f a7 50 3a 70 c4 5c 25 13 69 08>,
     absValidity: 2018-08-28T03:48:38.181Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 01 ad d7 d3 d7 4e 6d f7>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.24:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 17 0.4117647058823529 1535341774355
connected to auth! from local port 40606
received auth hello!
{ authId: 502, nonce: <Buffer 77 94 94 7d c3 7d 98 fd> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 06 e1 ee 1c a4 15 ea 1b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200147,
  cipherKeyVal: <Buffer e7 cf 79 36 fd d4 93 53 be 5b 70 a3 83 82 2a 4e>,
  macKeyVal: <Buffer ca f6 94 8f 31 7a 37 e7 eb f5 a3 67 3d 74 bb c3 0b 26 f9 26 82 a1 50 8f 85 c5 3f e6 ad 8c a4 9d>,
  absValidity: 2018-08-28T03:49:38.131Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200147,
     cipherKeyVal: <Buffer e7 cf 79 36 fd d4 93 53 be 5b 70 a3 83 82 2a 4e>,
     macKeyVal: <Buffer ca f6 94 8f 31 7a 37 e7 eb f5 a3 67 3d 74 bb c3 0b 26 f9 26 82 a1 50 8f 85 c5 3f e6 ad 8c a4 9d>,
     absValidity: 2018-08-28T03:49:38.131Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer f8 ec 43 b6 8a 2d 91 2c>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.24:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 18 0.3888888888888889 1535341834359
connected to auth! from local port 40864
received auth hello!
{ authId: 502, nonce: <Buffer 4f 6b 83 71 39 95 65 8e> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 51 58 ad dc d0 d2 13 40>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200159,
  cipherKeyVal: <Buffer be 54 bc e7 50 a9 71 f2 1f b1 ff 9b 6c e9 a2 d7>,
  macKeyVal: <Buffer 83 99 fc 60 c1 2c 6e c0 6b aa b0 8a 64 cd a5 9f 5e 8a ca 0e ac 5d 3d cd 73 6d f5 b0 7a d9 f3 77>,
  absValidity: 2018-08-28T03:50:42.203Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200159,
     cipherKeyVal: <Buffer be 54 bc e7 50 a9 71 f2 1f b1 ff 9b 6c e9 a2 d7>,
     macKeyVal: <Buffer 83 99 fc 60 c1 2c 6e c0 6b aa b0 8a 64 cd a5 9f 5e 8a ca 0e ac 5d 3d cd 73 6d f5 b0 7a d9 f3 77>,
     absValidity: 2018-08-28T03:50:42.203Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 80 75 8f dc 1a 75 22 10>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:50:46 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 8 18 0.4444444444444444 1535341847227
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 19 0.42105263157894735 1535341894407
connected to auth! from local port 41118
received auth hello!
{ authId: 502, nonce: <Buffer f8 f1 4f f0 c6 b9 99 30> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 90 e5 bd 5b e8 86 15 89>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200174,
  cipherKeyVal: <Buffer e0 96 5f 5c a3 6e 65 14 62 64 58 00 1c 8b 3c f5>,
  macKeyVal: <Buffer 9c 55 bb 01 3d 54 99 c0 68 22 e1 24 aa 14 df 19 aa 55 cc 99 e0 d4 71 be 8b 98 cd 50 5e 25 0a 97>,
  absValidity: 2018-08-28T03:51:46.192Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200174,
     cipherKeyVal: <Buffer e0 96 5f 5c a3 6e 65 14 62 64 58 00 1c 8b 3c f5>,
     macKeyVal: <Buffer 9c 55 bb 01 3d 54 99 c0 68 22 e1 24 aa 14 df 19 aa 55 cc 99 e0 d4 71 be 8b 98 cd 50 5e 25 0a 97>,
     absValidity: 2018-08-28T03:51:46.192Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 3a f6 26 4b 00 31 83 81>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:51:51 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 9 19 0.47368421052631576 1535341911403
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 9 20 0.45 1535341954448
connected to auth! from local port 41370
received auth hello!
{ authId: 502, nonce: <Buffer 02 88 c7 32 b0 0c 97 dc> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 80 2a fa cc 87 0f 14 6f>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200186,
  cipherKeyVal: <Buffer 11 e8 e0 cd ae 21 cc c6 31 e3 a5 47 84 c1 b3 15>,
  macKeyVal: <Buffer ba 66 db 2e e8 5f db 58 25 8c 06 2e b5 f9 96 dc bd 0b 5d 0a 4e c8 8a de 2e 81 b0 3c a4 b5 1c b3>,
  absValidity: 2018-08-28T03:52:46.260Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200186,
     cipherKeyVal: <Buffer 11 e8 e0 cd ae 21 cc c6 31 e3 a5 47 84 c1 b3 15>,
     macKeyVal: <Buffer ba 66 db 2e e8 5f db 58 25 8c 06 2e b5 f9 96 dc bd 0b 5d 0a 4e c8 8a de 2e 81 b0 3c a4 b5 1c b3>,
     absValidity: 2018-08-28T03:52:46.260Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer ba 28 9b 9a 6d 3d 54 01>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:52:54 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 10 20 0.5 1535341974541
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 21 0.47619047619047616 1535342014467
connected to auth! from local port 41624
Handler: secure connection with the server closed.
Handler: Error in secure comm - details: Auth hello timedout ...
received auth hello!
{ authId: 502, nonce: <Buffer 36 87 0a c0 bd 3c 7b b3> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 22 0.45454545454545453 1535342074471
connected to auth! from local port 41822
disconnected from auth
Handler: Error in secure comm - details: Connection with Auth timed out...
Handler: Error in secure comm - details: Auth hello timedout ...
received auth hello!
{ authId: 502, nonce: <Buffer 18 80 cf df eb 55 74 ca> }
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.7:21100
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 23 0.43478260869565216 1535342134476
connected to auth! from local port 41992
disconnected from auth
received auth hello!
{ authId: 502, nonce: <Buffer e5 9a 64 86 48 1d b7 6a> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer af 36 92 1d c0 dc 09 50>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200234,
  cipherKeyVal: <Buffer f9 21 c7 a5 c1 ee 1d 64 fc 61 d3 fb 34 03 b5 3c>,
  macKeyVal: <Buffer dd 39 09 4e 14 94 97 02 3c 3f 8e aa 50 b2 28 4d b0 d7 c4 d5 d4 57 a9 71 1a 64 5e 6d 4b 9f 02 3a>,
  absValidity: 2018-08-28T03:56:10.113Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200234,
     cipherKeyVal: <Buffer f9 21 c7 a5 c1 ee 1d 64 fc 61 d3 fb 34 03 b5 3c>,
     macKeyVal: <Buffer dd 39 09 4e 14 94 97 02 3c 3f 8e aa 50 b2 28 4d b0 d7 c4 d5 d4 57 a9 71 1a 64 5e 6d 4b 9f 02 3a>,
     absValidity: 2018-08-28T03:56:10.113Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: Error in comm init - details: Error: connect ECONNREFUSED 10.0.1.24:22100
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Handler: Error in secure comm - details: Connection with Auth timed out...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 24 0.4166666666666667 1535342194492
connected to auth! from local port 42180
received auth hello!
{ authId: 502, nonce: <Buffer a8 6b 1f 9c bd 85 cf 3b> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 37 ec e5 83 41 6d c8 2d>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200243,
  cipherKeyVal: <Buffer 42 21 0f 83 9c 72 45 5e ea ef 2c 2e f4 09 20 c6>,
  macKeyVal: <Buffer f1 1b ac 1c ec 2c a3 3e 44 b2 c7 82 c1 cb 20 1f 3f e9 ce be 26 f7 f2 61 ca 96 6d bc ed 19 8c 60>,
  absValidity: 2018-08-28T03:56:38.333Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200243,
     cipherKeyVal: <Buffer 42 21 0f 83 9c 72 45 5e ea ef 2c 2e f4 09 20 c6>,
     macKeyVal: <Buffer f1 1b ac 1c ec 2c a3 3e 44 b2 c7 82 c1 cb 20 1f 3f e9 ce be 26 f7 f2 61 ca 96 6d bc ed 19 8c 60>,
     absValidity: 2018-08-28T03:56:38.333Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
Handler: Error in secure comm - details: Comm init failed: Error in comm init - details: Error: connect ECONNREFUSED 10.0.1.24:22100
disconnected from auth
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 25 0.4 1535342254548
connected to auth! from local port 42356
received auth hello!
{ authId: 502, nonce: <Buffer 35 57 8d 05 81 85 9d eb> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 01 80 30 d3 b3 27 51 25>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200258,
  cipherKeyVal: <Buffer 57 cb 56 af ea e3 af 57 26 60 3c 72 58 08 5d f3>,
  macKeyVal: <Buffer b6 26 4f 53 ad 43 b6 8b cf ea 56 b6 d4 dc 14 88 7f df 15 f7 1f 03 a9 30 fb 7c 4b 50 b5 56 09 f7>,
  absValidity: 2018-08-28T03:57:36.848Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200258,
     cipherKeyVal: <Buffer 57 cb 56 af ea e3 af 57 26 60 3c 72 58 08 5d f3>,
     macKeyVal: <Buffer b6 26 4f 53 ad 43 b6 8b cf ea 56 b6 d4 dc 14 88 7f df 15 f7 1f 03 a9 30 fb 7c 4b 50 b5 56 09 f7>,
     absValidity: 2018-08-28T03:57:36.848Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
Handler: Error in secure comm - details: Comm init failed: Error in comm init - details: Error: connect ECONNREFUSED 10.0.1.24:22100
disconnected from auth
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 26 0.38461538461538464 1535342314555
connected to auth! from local port 42530
received auth hello!
{ authId: 502, nonce: <Buffer e1 ef 49 35 73 3f 4a 97> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 38 06 32 66 70 95 5b 45>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200273,
  cipherKeyVal: <Buffer 58 9c 05 85 f7 eb 5b b1 9c 73 95 38 10 06 67 4f>,
  macKeyVal: <Buffer 81 c7 fa 75 0c 58 d0 e1 b4 e6 2e 47 41 54 22 2e 66 16 c2 e1 d6 9f 2b 86 3d 10 43 ec 27 5b e1 a5>,
  absValidity: 2018-08-28T03:58:36.754Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200273,
     cipherKeyVal: <Buffer 58 9c 05 85 f7 eb 5b b1 9c 73 95 38 10 06 67 4f>,
     macKeyVal: <Buffer 81 c7 fa 75 0c 58 d0 e1 b4 e6 2e 47 41 54 22 2e 66 16 c2 e1 d6 9f 2b 86 3d 10 43 ec 27 5b e1 a5>,
     absValidity: 2018-08-28T03:58:36.754Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
Handler: Error in secure comm - details: Comm init failed: Error in comm init - details: Error: connect ECONNREFUSED 10.0.1.24:22100
disconnected from auth
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 27 0.37037037037037035 1535342374563
connected to auth! from local port 42704
received auth hello!
{ authId: 502, nonce: <Buffer 8b 27 50 44 37 95 4c 8e> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 94 19 e1 b6 09 17 05 14>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200288,
  cipherKeyVal: <Buffer be 5f 21 fb 39 2c c7 82 cb 25 89 ca a7 74 6c e8>,
  macKeyVal: <Buffer 89 9b be 25 c2 a7 bd 65 20 d1 cb e2 67 17 74 46 d5 0d 57 b7 69 95 1e 19 0d ae df 85 cc aa ac 0d>,
  absValidity: 2018-08-28T03:59:36.740Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200288,
     cipherKeyVal: <Buffer be 5f 21 fb 39 2c c7 82 cb 25 89 ca a7 74 6c e8>,
     macKeyVal: <Buffer 89 9b be 25 c2 a7 bd 65 20 d1 cb e2 67 17 74 46 d5 0d 57 b7 69 95 1e 19 0d ae df 85 cc aa ac 0d>,
     absValidity: 2018-08-28T03:59:36.740Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: Error in comm init - details: Error: connect ECONNREFUSED 10.0.1.24:22100
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 10 28 0.35714285714285715 1535342434620
connected to auth! from local port 42876
received auth hello!
{ authId: 502, nonce: <Buffer 01 1f e8 e7 71 ae f4 15> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ae 7d ac 83 8f fd c6 36>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50200303,
  cipherKeyVal: <Buffer f2 4c dd e9 5d 09 dd ab 8a ba b9 b4 fc d5 82 44>,
  macKeyVal: <Buffer 7f 17 cb 87 34 d1 3e f4 19 3a 6f cf 42 30 62 c6 a3 92 41 02 46 a3 a9 cd 7d 9d 0f 94 38 a6 e6 1a>,
  absValidity: 2018-08-28T04:00:36.789Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.24',
  serverPort: 22100,
  sessionKey: 
   { id: 50200303,
     cipherKeyVal: <Buffer f2 4c dd e9 5d 09 dd ab 8a ba b9 b4 fc d5 82 44>,
     macKeyVal: <Buffer 7f 17 cb 87 34 d1 3e f4 19 3a 6f cf 42 30 62 c6 a3 92 41 02 46 a3 a9 cd 7d 9d 0f 94 38 a6 e6 1a>,
     absValidity: 2018-08-28T04:00:36.789Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
Handler: Error in secure comm - details: Comm init failed: Error in comm init - details: Error: connect ECONNREFUSED 10.0.1.24:22100
disconnected from auth
