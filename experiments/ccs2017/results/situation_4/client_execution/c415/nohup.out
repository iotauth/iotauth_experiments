changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c415.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c415',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 51 49 42 41 41 4b 43 41 51 45 41 79 45 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1535340797577
connected to auth! from local port 57750
received auth hello!
{ authId: 403, nonce: <Buffer 8a 59 8f 6f 96 d1 25 a2> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer f2 59 56 6e a7 c9 3a d8>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer a5 07 12 0b 1e ee d9 f3 ca b8 38 ae fd be b0 f1>,
  macKeyVal: <Buffer d0 3a ae 8a 42 af 93 9e ea f3 29 92 a7 36 87 dc 62 ca 48 d8 a2 c2 c5 eb 92 da 18 63 79 30 19 79>,
  absValidity: 2018-08-27T04:33:17.757Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300001,
  cipherKeyVal: <Buffer e0 d5 10 e5 9e 68 d6 ac 52 99 9d 4b a4 ec 10 c2>,
  macKeyVal: <Buffer a5 f4 94 09 0f c6 ce 8d ae 7b 42 89 d6 5d 7b 11 57 26 10 91 57 fd e3 09 45 6a 12 21 21 70 51 fb>,
  absValidity: 2018-08-28T03:33:17.757Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300001,
     cipherKeyVal: <Buffer e0 d5 10 e5 9e 68 d6 ac 52 99 9d 4b a4 ec 10 c2>,
     macKeyVal: <Buffer a5 f4 94 09 0f c6 ce 8d ae 7b 42 89 d6 5d 7b 11 57 26 10 91 57 fd e3 09 45 6a 12 21 21 70 51 fb>,
     absValidity: 2018-08-28T03:33:17.757Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 4b 01 f5 cc 6b 8b 64 46>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:33:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1535340798699
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1535340857634
connected to auth! from local port 57984
received auth hello!
{ authId: 403, nonce: <Buffer 6d 60 66 78 f1 89 57 03> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 1f 8a cc a1 1c 65 88 3f>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300007,
  cipherKeyVal: <Buffer e9 c9 1b e9 6b ea 69 b5 7b c5 d2 57 ea 37 c6 bf>,
  macKeyVal: <Buffer 09 81 72 67 e8 e9 63 6e 1a 34 2c f0 0c e5 d2 c2 c0 d0 a0 02 e5 07 e2 7a 1f ab 86 a6 8a f9 c7 34>,
  absValidity: 2018-08-28T03:34:17.897Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300007,
     cipherKeyVal: <Buffer e9 c9 1b e9 6b ea 69 b5 7b c5 d2 57 ea 37 c6 bf>,
     macKeyVal: <Buffer 09 81 72 67 e8 e9 63 6e 1a 34 2c f0 0c e5 d2 c2 c0 d0 a0 02 e5 07 e2 7a 1f ab 86 a6 8a f9 c7 34>,
     absValidity: 2018-08-28T03:34:17.897Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 79 cb b3 99 89 84 c0 61>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:34:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1535340859081
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1535340917677
connected to auth! from local port 58254
received auth hello!
{ authId: 403, nonce: <Buffer 99 c2 a7 f2 34 3f 53 99> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer a6 18 62 21 53 a5 ce 22>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300013,
  cipherKeyVal: <Buffer 60 7d 44 22 5d 91 5f 68 14 e6 a5 31 dc 1c 76 1e>,
  macKeyVal: <Buffer e4 c7 b1 5e 1d 68 5e f7 4f 23 97 b6 17 5f 87 ad 9d 28 98 2f ad dd 39 9b 05 cb d8 13 89 de 08 66>,
  absValidity: 2018-08-28T03:35:17.874Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300013,
     cipherKeyVal: <Buffer 60 7d 44 22 5d 91 5f 68 14 e6 a5 31 dc 1c 76 1e>,
     macKeyVal: <Buffer e4 c7 b1 5e 1d 68 5e f7 4f 23 97 b6 17 5f 87 ad 9d 28 98 2f ad dd 39 9b 05 cb d8 13 89 de 08 66>,
     absValidity: 2018-08-28T03:35:17.874Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 5b f2 c5 d0 a1 c3 3d 17>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:35:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1535340919152
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1535340977736
connected to auth! from local port 58524
received auth hello!
{ authId: 403, nonce: <Buffer 5d 80 e9 31 06 3e 17 06> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 4c d3 69 c2 c1 a1 07 3a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300019,
  cipherKeyVal: <Buffer e6 09 c1 66 bd 01 fb 8b 27 e8 eb e2 5f 02 53 b8>,
  macKeyVal: <Buffer 19 09 14 ef ef 12 ac 10 46 0c de d8 ab 00 20 b7 46 73 0b 75 1c f3 55 a0 66 0d 65 6a 81 f0 d3 87>,
  absValidity: 2018-08-28T03:36:17.985Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300019,
     cipherKeyVal: <Buffer e6 09 c1 66 bd 01 fb 8b 27 e8 eb e2 5f 02 53 b8>,
     macKeyVal: <Buffer 19 09 14 ef ef 12 ac 10 46 0c de d8 ab 00 20 b7 46 73 0b 75 1c f3 55 a0 66 0d 65 6a 81 f0 d3 87>,
     absValidity: 2018-08-28T03:36:17.985Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 64 32 68 7a 80 cb f6 8d>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:36:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1535340979237
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1535341037792
connected to auth! from local port 58794
received auth hello!
{ authId: 403, nonce: <Buffer 89 09 1e 08 0d bc b9 da> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 7d 0c 94 91 4c d8 ef d9>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300025,
  cipherKeyVal: <Buffer 28 77 9a de 88 28 13 eb fa cd 42 5f af 87 38 bf>,
  macKeyVal: <Buffer 77 6b ff 36 c1 bd 70 3b 2e 29 69 1a 27 54 0f f0 51 48 b4 97 10 2d c5 04 4a 73 6d 7a 86 00 ac 2b>,
  absValidity: 2018-08-28T03:37:18.007Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300025,
     cipherKeyVal: <Buffer 28 77 9a de 88 28 13 eb fa cd 42 5f af 87 38 bf>,
     macKeyVal: <Buffer 77 6b ff 36 c1 bd 70 3b 2e 29 69 1a 27 54 0f f0 51 48 b4 97 10 2d c5 04 4a 73 6d 7a 86 00 ac 2b>,
     absValidity: 2018-08-28T03:37:18.007Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 68 a0 94 cc 52 17 29 9f>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:37:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1535341039327
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1535341097848
connected to auth! from local port 59064
received auth hello!
{ authId: 403, nonce: <Buffer cf 20 39 3d 82 ed bf 96> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ee f6 06 29 c0 af 21 e6>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300031,
  cipherKeyVal: <Buffer 38 ae 82 3f 25 ba 44 a4 68 b7 4c 28 b3 99 a7 8b>,
  macKeyVal: <Buffer 4c 0e a6 38 fe 49 ae 75 6b cb 7a 0f 79 7d 2c 1c ee 51 77 59 99 90 9b 9d a7 6c bd 22 e0 f0 2b bc>,
  absValidity: 2018-08-28T03:38:18.041Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300031,
     cipherKeyVal: <Buffer 38 ae 82 3f 25 ba 44 a4 68 b7 4c 28 b3 99 a7 8b>,
     macKeyVal: <Buffer 4c 0e a6 38 fe 49 ae 75 6b cb 7a 0f 79 7d 2c 1c ee 51 77 59 99 90 9b 9d a7 6c bd 22 e0 f0 2b bc>,
     absValidity: 2018-08-28T03:38:18.041Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer e1 41 8f 2f 2f f0 7e 7b>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:38:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1535341099212
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1535341157904
connected to auth! from local port 59334
received auth hello!
{ authId: 403, nonce: <Buffer 66 18 71 7f 8f 5d af b8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 2c 82 a5 b0 54 5e d8 4a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300037,
  cipherKeyVal: <Buffer dc 12 03 6b 49 2e 88 ba 3d 1d a0 35 41 cf 7c bd>,
  macKeyVal: <Buffer f1 bf a1 6d 25 fc 31 04 1d 40 cc 1e 5c 5b 27 e8 9a 3e af 7a 07 e2 4a 40 6d b2 0d 98 cd 73 78 1d>,
  absValidity: 2018-08-28T03:39:18.091Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300037,
     cipherKeyVal: <Buffer dc 12 03 6b 49 2e 88 ba 3d 1d a0 35 41 cf 7c bd>,
     macKeyVal: <Buffer f1 bf a1 6d 25 fc 31 04 1d 40 cc 1e 5c 5b 27 e8 9a 3e af 7a 07 e2 4a 40 6d b2 0d 98 cd 73 78 1d>,
     absValidity: 2018-08-28T03:39:18.091Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 54 a9 cf b2 93 a4 e8 3c>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:39:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1535341159388
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1535341217927
connected to auth! from local port 59600
received auth hello!
{ authId: 403, nonce: <Buffer cf 76 13 e4 a8 70 79 b4> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b1 76 00 68 6b f8 ed 63>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300043,
  cipherKeyVal: <Buffer ce 7e f0 04 31 32 ea 0c 90 6b 2a f9 21 cc 10 15>,
  macKeyVal: <Buffer 04 5e 72 ee ec eb ca 0a 33 c6 e2 61 6e dc 1b 33 ea 38 a0 34 53 2f 9f 45 d8 fe 51 b0 22 ba 0d 56>,
  absValidity: 2018-08-28T03:40:18.162Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.19',
  serverPort: 22100,
  sessionKey: 
   { id: 40300043,
     cipherKeyVal: <Buffer ce 7e f0 04 31 32 ea 0c 90 6b 2a f9 21 cc 10 15>,
     macKeyVal: <Buffer 04 5e 72 ee ec eb ca 0a 33 c6 e2 61 6e dc 1b 33 ea 38 a0 34 53 2f 9f 45 d8 fe 51 b0 22 ba 0d 56>,
     absValidity: 2018-08-28T03:40:18.162Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 4e 3b 1f 81 10 00 c2 ca>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Mon Aug 27 2018 03:40:18 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 8 8 1 1535341219283
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 9 0.8888888888888888 1535341277986
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 10 0.8 1535341337996
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.7:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 11 0.7272727272727273 1535341398003
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 46052
received auth hello!
{ authId: 503, nonce: <Buffer 19 a2 16 45 e8 a0 50 0a> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 12 0.6666666666666666 1535341458013
failure in connection with Auth : authFailureCount: 4
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 46278
received auth hello!
{ authId: 503, nonce: <Buffer 4d ce 61 54 d8 f7 6e 19> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 13 0.6153846153846154 1535341518023
failure in connection with Auth : authFailureCount: 5
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 1
to: 2
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 45540
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 14 0.5714285714285714 1535341578031
failure in connection with Auth : authFailureCount: 6
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 45778
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 15 0.5333333333333333 1535341638038
failure in connection with Auth : authFailureCount: 7
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 2
to: 3
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.4:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 16 0.5 1535341698045
failure in connection with Auth : authFailureCount: 8
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 3
to: 4
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.2:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 17 0.47058823529411764 1535341758053
failure in connection with Auth : authFailureCount: 9
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 4
to: 5
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 37138
received auth hello!
{ authId: 502, nonce: <Buffer 7f ac cc 3a 77 0e a1 33> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 18 0.4444444444444444 1535341818057
failure in connection with Auth : authFailureCount: 10
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 37396
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 19 0.42105263157894735 1535341878066
failure in connection with Auth : authFailureCount: 11
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 5
to: 6
Failed to migrate! host/port of current Auth is the same as host of the Auth which we migrate to
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 20 0.4 1535341938077
failure in connection with Auth : authFailureCount: 12
failure count reached threshold (2), try migration...
Failed to migrate! host/port of current Auth is the same as host of the Auth which we migrate to
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 21 0.38095238095238093 1535341998085
failure in connection with Auth : authFailureCount: 13
failure count reached threshold (2), try migration...
Failed to migrate! host/port of current Auth is the same as host of the Auth which we migrate to
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
received auth hello!
{ authId: 502, nonce: <Buffer 04 28 3d 61 ed 1f f5 e6> }
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: write after end
disconnected from auth
/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902
            eventHandlers.onError('Error occurred in migration request: Disconnected from auth before getting migration response: ' + error);
                                                                                                                                      ^

ReferenceError: error is not defined
    at Socket.<anonymous> (/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902:135)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:188:7)
    at endReadableNT (_stream_readable.js:975:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
