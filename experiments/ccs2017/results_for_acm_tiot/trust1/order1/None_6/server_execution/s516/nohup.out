changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for echoServer: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Servers/s516.config
initializing secure comm server...
Session protocol: TCP
current parameters: { migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 's516',
  group: 'Servers',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 41 49 42 41 41 4b 43 41 51 45 41 33 73 ... > }
Handler: listening on port 22100
s516:Servers prompt>
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301514
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42696
received auth hello!
{ authId: 503, nonce: <Buffer 6e 49 c2 94 93 9d 63 7d> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 6b dc 53 2a d1 fb f2 ad>
auth nonce verified
updating distribution key: { cipherKeyVal: <Buffer 28 df 68 15 49 a4 78 8f a3 8c cc 3c bc 57 42 1f>,
  macKeyVal: <Buffer 77 d6 b1 e5 16 2d 43 54 a6 88 06 6f e5 42 b7 c5 94 91 3d 76 34 50 6d bc 89 d3 d1 06 a7 8d 07 72>,
  absValidity: 2018-03-22T01:56:13.243Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer a1 42 ae 2f cf 61 c9 22>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer a1 42 ae 2f cf 61 c9 22> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 0,
  remoteAddress: '::ffff:10.0.1.82:51538',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 0 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 0 }
specified socketID: 0
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #0 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301519
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 42966
received auth hello!
{ authId: 503, nonce: <Buffer 25 c5 d3 88 a6 aa 68 f7> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 45 5a 1b c4 47 2d 72 73>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 27 39 cf 27 b4 24 58 b8>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 27 39 cf 27 b4 24 58 b8> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 1,
  remoteAddress: '::ffff:10.0.1.82:51808',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 1 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 1 }
specified socketID: 1
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #1 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301524
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 43236
received auth hello!
{ authId: 503, nonce: <Buffer f6 18 ce 5e 58 dc 71 56> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d8 98 61 95 13 51 7d 3b>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 36 f9 59 33 c0 94 09 d5>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 36 f9 59 33 c0 94 09 d5> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 2,
  remoteAddress: '::ffff:10.0.1.82:52078',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 2 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 2 }
specified socketID: 2
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #2 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301529
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 43506
received auth hello!
{ authId: 503, nonce: <Buffer b1 bd 3e 12 0e ca c1 34> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 09 8a 43 14 a1 b7 ec 6a>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 70 5e 47 33 1f 38 75 1e>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 70 5e 47 33 1f 38 75 1e> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 3,
  remoteAddress: '::ffff:10.0.1.82:52348',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 3 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 3 }
specified socketID: 3
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #3 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301534
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 43776
received auth hello!
{ authId: 503, nonce: <Buffer a7 30 1e 21 e5 2a c6 e2> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ef 88 32 dc ff 09 c5 01>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 58 d3 84 86 a8 03 c5 2d>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 58 d3 84 86 a8 03 c5 2d> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 4,
  remoteAddress: '::ffff:10.0.1.82:52618',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 4 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 4 }
specified socketID: 4
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #4 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301539
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 44046
received auth hello!
{ authId: 503, nonce: <Buffer 60 f4 3f 9a 52 e3 31 d2> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b7 00 dc c2 42 01 0d e2>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 65 7c b2 3e 2d 84 97 c9>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 65 7c b2 3e 2d 84 97 c9> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 5,
  remoteAddress: '::ffff:10.0.1.82:52888',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 5 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 5 }
specified socketID: 5
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #5 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301544
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 44304
received auth hello!
{ authId: 503, nonce: <Buffer a6 17 1d 69 10 61 81 67> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer f0 c3 8d d1 f4 ca 04 61>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 8c 8d b8 eb 3a 34 07 d9>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 8c 8d b8 eb 3a 34 07 d9> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 6,
  remoteAddress: '::ffff:10.0.1.82:53146',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 6 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 6 }
specified socketID: 6
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #6 closed
