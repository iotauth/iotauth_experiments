changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c419.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c419',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 41 49 42 41 41 4b 43 41 51 45 41 77 57 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1521597539546
connected to auth! from local port 50514
received auth hello!
{ authId: 403, nonce: <Buffer 76 d9 66 24 e8 c8 56 48> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 5f e6 8f 95 78 e4 21 3b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 49 0a eb 8c 4a d7 35 5c 7e 92 8d c3 89 e2 4a c8>,
  macKeyVal: <Buffer 18 5c 53 9a c8 a5 3b 55 64 cc fb a2 64 37 0e 61 91 23 7b 40 fd 9c 85 14 f0 aa 12 91 e0 29 2c 67>,
  absValidity: 2018-03-21T02:59:00.455Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300527,
  cipherKeyVal: <Buffer 19 5c b1 40 e7 fc 7e 6b a9 04 ba c3 28 fb 77 3a>,
  macKeyVal: <Buffer 49 74 15 f4 54 47 bf 03 28 84 a2 74 8b ef b6 69 25 23 22 f1 74 d0 c9 e2 2c c3 38 4f 4c 9c bb 0b>,
  absValidity: 2018-03-22T01:59:00.455Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300527,
     cipherKeyVal: <Buffer 19 5c b1 40 e7 fc 7e 6b a9 04 ba c3 28 fb 77 3a>,
     macKeyVal: <Buffer 49 74 15 f4 54 47 bf 03 28 84 a2 74 8b ef b6 69 25 23 22 f1 74 d0 c9 e2 2c c3 38 4f 4c 9c bb 0b>,
     absValidity: 2018-03-22T01:59:00.455Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer b2 c8 e5 65 f8 99 a5 b1>
switching to HANDSHAKE_1_SENT
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 01:59:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1521597542913
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1521597599602
connected to auth! from local port 50732
received auth hello!
{ authId: 403, nonce: <Buffer d0 0f af 67 dd a2 8b 65> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b0 e7 82 3f e7 67 86 a9>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300533,
  cipherKeyVal: <Buffer bc 32 3a d8 25 d2 29 fa f1 01 6a fe d3 2f ce 45>,
  macKeyVal: <Buffer d9 87 62 b3 7c 82 97 d4 be f3 10 f6 6a b5 ed 33 cc 13 6b 0c d7 1d 80 3e 3a e7 c7 e3 f5 68 0e 22>,
  absValidity: 2018-03-22T02:00:00.547Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300533,
     cipherKeyVal: <Buffer bc 32 3a d8 25 d2 29 fa f1 01 6a fe d3 2f ce 45>,
     macKeyVal: <Buffer d9 87 62 b3 7c 82 97 d4 be f3 10 f6 6a b5 ed 33 cc 13 6b 0c d7 1d 80 3e 3a e7 c7 e3 f5 68 0e 22>,
     absValidity: 2018-03-22T02:00:00.547Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 44 c0 8c 40 9b fb 14 f2>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:00:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1521597603227
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1521597659657
connected to auth! from local port 51006
received auth hello!
{ authId: 403, nonce: <Buffer 25 bc d0 dd 29 5b e4 22> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 35 aa f5 4f a0 29 23 b4>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300539,
  cipherKeyVal: <Buffer 6f 06 91 5d a5 0e b6 15 07 32 5d 06 a8 de d2 b8>,
  macKeyVal: <Buffer 7b 09 4a 78 37 06 c8 c7 a8 09 c6 ef 85 86 3a b5 4c c4 14 57 dd ab 6f 30 53 70 d5 c8 c8 e8 bb ff>,
  absValidity: 2018-03-22T02:01:00.610Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300539,
     cipherKeyVal: <Buffer 6f 06 91 5d a5 0e b6 15 07 32 5d 06 a8 de d2 b8>,
     macKeyVal: <Buffer 7b 09 4a 78 37 06 c8 c7 a8 09 c6 ef 85 86 3a b5 4c c4 14 57 dd ab 6f 30 53 70 d5 c8 c8 e8 bb ff>,
     absValidity: 2018-03-22T02:01:00.610Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer c5 c5 b5 04 ab b9 f6 37>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:01:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1521597663217
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1521597719713
connected to auth! from local port 51276
received auth hello!
{ authId: 403, nonce: <Buffer 4d 12 fa ac 6d 68 ea 78> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 04 ed 1f e9 4c 47 e9 56>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300545,
  cipherKeyVal: <Buffer 85 ab 83 20 9b 69 00 a2 1d 0a b7 bc 94 03 fd c6>,
  macKeyVal: <Buffer d7 7c 53 b8 90 75 db 47 87 63 86 6d 99 ea 17 d3 44 58 6b 78 e1 48 08 d0 c0 90 f8 e4 db b2 c6 18>,
  absValidity: 2018-03-22T02:02:00.595Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300545,
     cipherKeyVal: <Buffer 85 ab 83 20 9b 69 00 a2 1d 0a b7 bc 94 03 fd c6>,
     macKeyVal: <Buffer d7 7c 53 b8 90 75 db 47 87 63 86 6d 99 ea 17 d3 44 58 6b 78 e1 48 08 d0 c0 90 f8 e4 db b2 c6 18>,
     absValidity: 2018-03-22T02:02:00.595Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer fa 66 5b 59 07 f0 8c 4c>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:02:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1521597723316
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1521597779770
connected to auth! from local port 51546
received auth hello!
{ authId: 403, nonce: <Buffer 08 b1 fb d9 a3 e3 9b 27> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d7 4b bd 09 4d f4 07 35>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300551,
  cipherKeyVal: <Buffer 3c b1 58 03 2a b2 f1 0f 6c 2f 6f 0a c2 10 20 8d>,
  macKeyVal: <Buffer ff fd a3 68 b1 ba 34 cb 6f b1 14 47 b9 aa d9 42 0b e8 9a f8 2b 28 a4 f5 3e 95 4d 79 70 ed d0 92>,
  absValidity: 2018-03-22T02:03:00.646Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300551,
     cipherKeyVal: <Buffer 3c b1 58 03 2a b2 f1 0f 6c 2f 6f 0a c2 10 20 8d>,
     macKeyVal: <Buffer ff fd a3 68 b1 ba 34 cb 6f b1 14 47 b9 aa d9 42 0b e8 9a f8 2b 28 a4 f5 3e 95 4d 79 70 ed d0 92>,
     absValidity: 2018-03-22T02:03:00.646Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 97 9c 98 a9 d5 a3 56 df>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:03:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1521597783261
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1521597839826
connected to auth! from local port 51816
received auth hello!
{ authId: 403, nonce: <Buffer c1 34 8a 52 a6 6d 83 c0> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 54 8b 2a 83 69 dd 26 52>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300557,
  cipherKeyVal: <Buffer 7c 6c a2 06 ab 03 d7 b2 d4 71 52 c8 53 51 29 72>,
  macKeyVal: <Buffer 29 5f ed 09 87 a8 2d 06 37 69 24 d2 47 aa 9a 4d 74 de 88 54 f9 11 49 35 6f a6 f9 2a e4 0a 63 88>,
  absValidity: 2018-03-22T02:04:00.727Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300557,
     cipherKeyVal: <Buffer 7c 6c a2 06 ab 03 d7 b2 d4 71 52 c8 53 51 29 72>,
     macKeyVal: <Buffer 29 5f ed 09 87 a8 2d 06 37 69 24 d2 47 aa 9a 4d 74 de 88 54 f9 11 49 35 6f a6 f9 2a e4 0a 63 88>,
     absValidity: 2018-03-22T02:04:00.727Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 4c 14 16 da 80 3c 77 6a>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:04:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1521597843228
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1521597899843
connected to auth! from local port 52086
received auth hello!
{ authId: 403, nonce: <Buffer 71 10 0d 5e de f0 0b e5> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 3e 64 fb d3 1e 16 0f 1b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300563,
  cipherKeyVal: <Buffer e2 da a0 14 60 3b 6e ec 69 9c dc 35 43 09 9c f4>,
  macKeyVal: <Buffer d9 e5 f3 a2 38 df 5b a0 08 81 c4 94 3f 9a ec 2a 15 da b6 5b fd 7f d3 37 82 e1 1a 11 84 48 17 54>,
  absValidity: 2018-03-22T02:05:00.809Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300563,
     cipherKeyVal: <Buffer e2 da a0 14 60 3b 6e ec 69 9c dc 35 43 09 9c f4>,
     macKeyVal: <Buffer d9 e5 f3 a2 38 df 5b a0 08 81 c4 94 3f 9a ec 2a 15 da b6 5b fd 7f d3 37 82 e1 1a 11 84 48 17 54>,
     absValidity: 2018-03-22T02:05:00.809Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer b9 88 17 bc 50 db 60 68>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:05:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1521597903316
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1521597959901
connected to auth! from local port 52352
received auth hello!
{ authId: 403, nonce: <Buffer 56 01 62 9d 5f a9 04 db> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 71 d3 57 7b 8c a1 f7 bd>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300569,
  cipherKeyVal: <Buffer 97 96 d9 ea 3a 8c 81 5c 65 70 18 b0 be 96 1a 4f>,
  macKeyVal: <Buffer 7d 55 15 27 26 65 dd d8 e9 0a 12 7f 16 38 80 2e c5 e2 18 c6 02 28 b2 ed b3 6d 27 71 97 ff d6 eb>,
  absValidity: 2018-03-22T02:06:01.096Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300569,
     cipherKeyVal: <Buffer 97 96 d9 ea 3a 8c 81 5c 65 70 18 b0 be 96 1a 4f>,
     macKeyVal: <Buffer 7d 55 15 27 26 65 dd d8 e9 0a 12 7f 16 38 80 2e c5 e2 18 c6 02 28 b2 ed b3 6d 27 71 97 ff d6 eb>,
     absValidity: 2018-03-22T02:06:01.096Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 14 28 b9 ab cd 6f 65 6c>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.23:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 9 0.7777777777777778 1521598019909
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 10 0.7 1521598079920
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 50144
received auth hello!
{ authId: 502, nonce: <Buffer 8b 6b d8 a6 b0 9b 2e 0e> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 11 0.6363636363636364 1521598139930
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 50378
received auth hello!
{ authId: 502, nonce: <Buffer 2b 97 90 55 87 e4 92 8a> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 12 0.5833333333333334 1521598199937
failure in connection with Auth : authFailureCount: 4
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 44290
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 13 0.5384615384615384 1521598259945
failure in connection with Auth : authFailureCount: 5
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 44510
received auth hello!
{ authId: 401, nonce: <Buffer e5 d4 b7 2f 63 84 b7 ed> }
more data will come. current: 1445 expected: 1485
received migration response with signature!
{ version: 2,
  subject: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth401',
     commonName: '10.0.1.1' },
  issuer: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth403',
     commonName: '10.0.0.3' },
  serial: '01624645F8C5',
  notBefore: 2018-03-21T01:55:13.000Z,
  notAfter: 2018-03-22T01:56:53.000Z,
  subjectHash: 'de555cae',
  signatureAlgorithm: 'sha256WithRSAEncryption',
  fingerPrint: '2B:A6:06:A7:FB:01:1D:06:46:75:34:79:2A:0D:90:3D:D0:72:4A:3E',
  publicKey: 
   { algorithm: 'rsaEncryption',
     e: '65537',
     n: 'B1D96D976344F70094AA7D00CFD0F6058B1B31F97C522A983DCB23C390F9190875BA7C64D5E5888B86F8FBB648A0578A448C8237E3471A64ED59A03226A81FB2D143B5D1B71755CE1746179065723893719601038056ABCE33D646915D78D23FCCCDAB70CDEB639AEA41A5AC90E02E3302A6EEA261EDEC33DAF9FF6E9D9AA13A87980386B0E5509FC1EC88DB6E99D090B087A95B3C78136AA98C511DF596BB516D5BEEA892745A9EBF372CC45AE13E88878E884DB48A986EB570DE84DB722811E539492023404AA567C0DE100C0C0E8B6B33FB2C63046063377803BC046949DBDCBCD85174D56D807C222E8E1C0DC97AA62D0B26CD1F36670A8CC0942EAA82E3',
     bitSize: 2048 },
  altNames: [],
  extensions: { subjectAlternativeName: 'IP Address:10.0.1.1' } }
null
true
Certificate of new Auth is verified!
Subject information matches Auth ID!
Signature of new Auth is verified.
Auth nonce is verified
migration completed!
new Auth info: !
{ id: 401,
  host: '10.0.1.1',
  port: 21100,
  publicKey: '-----BEGIN CERTIFICATE-----\nMIIDVTCCAj2gAwIBAgIGAWJGRfjFMA0GCSqGSIb3DQEBCwUAMGExCzAJBgNVBAYT\nAlVTMQswCQYDVQQIDAJDQTERMA8GA1UEBwwIQmVya2VsZXkxDTALBgNVBAoMBEVF\nQ1MxEDAOBgNVBAsMB0F1dGg0MDMxETAPBgNVBAMMCDEwLjAuMC4zMB4XDTE4MDMy\nMTAxNTUxM1oXDTE4MDMyMjAxNTY1M1owYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgM\nAkNBMREwDwYDVQQHDAhCZXJrZWxleTENMAsGA1UECgwERUVDUzEQMA4GA1UECwwH\nQXV0aDQwMTERMA8GA1UEAwwIMTAuMC4xLjEwggEiMA0GCSqGSIb3DQEBAQUAA4IB\nDwAwggEKAoIBAQCx2W2XY0T3AJSqfQDP0PYFixsx+XxSKpg9yyPDkPkZCHW6fGTV\n5YiLhvj7tkigV4pEjII340caZO1ZoDImqB+y0UO10bcXVc4XRheQZXI4k3GWAQOA\nVqvOM9ZGkV140j/MzatwzetjmupBpayQ4C4zAqbuomHt7DPa+f9unZqhOoeYA4aw\n5VCfweyI226Z0JCwh6lbPHgTaqmMUR31lrtRbVvuqJJ0Wp6/NyzEWuE+iIeOiE20\niphutXDehNtyKBHlOUkgI0BKpWfA3hAMDA6LazP7LGMEYGM3eAO8BGlJ29y82FF0\n1W2AfCIujhwNyXqmLQsmzR82ZwqMwJQuqoLjAgMBAAGjEzARMA8GA1UdEQQIMAaH\nBAoAAQEwDQYJKoZIhvcNAQELBQADggEBAMY4EQ13MF3YzkoMpPlEpZqa2Px0spJ+\nbxsU2MCgk5vOk+Kc/YZzXiglvKsEHRJMAbycT9ORBvxl5sKKt77mvRP5HG8OsthL\nH4f3AkXRGcDZLfi3oiZqexstty2MEchr6EoLRnAWvZdA1g5rt87sjOvb9lnCF2og\n23LDDUexICtz2VrY1MIyQ3nZJ0lrW9VxWp9b2zzfix3Vms66LJl9QGzyukm8yqi3\nk0RVMsi/yvbS/DbC3dn3jkeEIWpop4d7fttYRPr3zr7vj6ME6DQcr73va5tY829k\nxqTt+3gL+GK59+GHt4GuLVnd/FrLe6bJElmsaOJuODJt8ADwwES2PMU=\n-----END CERTIFICATE-----' }
received migration response, for next round of migration, rotate migration info index from: 1
to: 2
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 14 0.5 1521598319947
connected to auth! from local port 44718
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 15 0.4666666666666667 1521598379958
connected to auth! from local port 44950
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 16 0.4375 1521598439961
connected to auth! from local port 45176
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 17 0.4117647058823529 1521598499971
connected to auth! from local port 45396
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 18 0.3888888888888889 1521598559982
connected to auth! from local port 45604
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 19 0.3684210526315789 1521598619993
connected to auth! from local port 45806
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 20 0.35 1521598680003
connected to auth! from local port 46004
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 21 0.3333333333333333 1521598740014
connected to auth! from local port 46210
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 22 0.3181818181818182 1521598800024
connected to auth! from local port 46420
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 23 0.30434782608695654 1521598860035
connected to auth! from local port 46614
Handler: Error in secure comm - details: Disconnected from auth before getting session key response
Handler: Error in secure comm - details: Disconnected from auth before getting session key response
/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902
            eventHandlers.onError('Error occurred in migration request: Disconnected from auth before getting migration response: ' + error);
                                                                                                                                      ^

ReferenceError: error is not defined
    at Socket.<anonymous> (/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902:135)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:188:7)
    at endReadableNT (_stream_readable.js:975:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
