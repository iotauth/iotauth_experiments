changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for echoServer: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Servers/s508.config
initializing secure comm server...
Session protocol: TCP
current parameters: { migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 's508',
  group: 'Servers',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 6f 77 49 42 41 41 4b 43 41 51 45 41 75 71 ... > }
Handler: listening on port 22100
s508:Servers prompt>
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200710
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 49742
received auth hello!
{ authId: 502, nonce: <Buffer a3 d5 5d a3 0c 23 7f c0> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 01 80 fb ba 0c a4 ab a9>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer a5 94 43 2d 25 d9 0a c4 89 bb 41 64 56 4e 6c b4>,
  macKeyVal: <Buffer 8f 8c 75 ab 25 3a 96 07 39 ca d7 ad 5b b0 d4 2c 3e b7 62 db 72 cc 9f 57 52 b9 73 51 c0 f6 67 98>,
  absValidity: 2018-03-21T02:59:36.782Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 38 ec 9b dd d1 45 7b e5>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 38 ec 9b dd d1 45 7b e5> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 0,
  remoteAddress: '::ffff:10.0.1.72:37062',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 0 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 0 }
specified socketID: 0
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #0 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200717
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50014
received auth hello!
{ authId: 502, nonce: <Buffer b7 da af 3a e7 9a b2 1c> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 95 42 d5 cb 8f f7 f0 0d>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 88 1f 9d 6d 1b 76 54 66>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 88 1f 9d 6d 1b 76 54 66> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 1,
  remoteAddress: '::ffff:10.0.1.72:37334',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 1 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 1 }
specified socketID: 1
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #1 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200724
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50284
received auth hello!
{ authId: 502, nonce: <Buffer 2e e3 14 1c bf 96 40 ee> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fa d9 a5 6a 09 86 d9 bf>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer d3 fa 3d e1 5f 63 02 54>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer d3 fa 3d e1 5f 63 02 54> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 2,
  remoteAddress: '::ffff:10.0.1.72:37604',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 2 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 2 }
specified socketID: 2
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #2 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200731
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50554
received auth hello!
{ authId: 502, nonce: <Buffer 6a 39 9f 85 7a 58 c0 41> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 54 81 5e f0 b6 c7 94 f0>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer d5 00 9d 31 5a 05 39 3e>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer d5 00 9d 31 5a 05 39 3e> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 3,
  remoteAddress: '::ffff:10.0.1.72:37874',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 3 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 3 }
specified socketID: 3
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #3 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200738
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50824
received auth hello!
{ authId: 502, nonce: <Buffer 62 3c be 33 d3 f7 5a 02> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer a2 0b 36 32 c2 cf bd 71>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer d0 2a 11 4c 82 af 0f 53>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer d0 2a 11 4c 82 af 0f 53> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 4,
  remoteAddress: '::ffff:10.0.1.72:38144',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 4 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 4 }
specified socketID: 4
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #4 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200745
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51094
received auth hello!
{ authId: 502, nonce: <Buffer b5 66 af 9b 70 df 9a 30> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer c6 39 51 51 ff 96 c9 1c>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 37 de 94 72 24 89 66 a4>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 37 de 94 72 24 89 66 a4> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 5,
  remoteAddress: '::ffff:10.0.1.72:38414',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 5 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 5 }
specified socketID: 5
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #5 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200752
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51364
received auth hello!
{ authId: 502, nonce: <Buffer 36 b1 9a ba fd 6d 1b 76> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 4e 85 11 27 69 11 58 ad>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer e3 a2 7a 38 61 51 6e 9d>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer e3 a2 7a 38 61 51 6e 9d> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 6,
  remoteAddress: '::ffff:10.0.1.72:38684',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 6 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 6 }
specified socketID: 6
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #6 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200759
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51554
received auth hello!
{ authId: 502, nonce: <Buffer f2 2e 2b c7 32 1a 62 58> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 7a 87 9b b4 68 08 50 a1>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 23 de 78 06 83 4e cb 0f>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 23 de 78 06 83 4e cb 0f> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 7,
  remoteAddress: '::ffff:10.0.1.72:38874',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 7 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 7 }
specified socketID: 7
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #7 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200766
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51754
received auth hello!
{ authId: 502, nonce: <Buffer 97 85 fd ec d8 ea 58 75> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ba 92 d5 5d d4 9b ae ad>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 0d 78 9e 38 b9 fe 6c dd>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 0d 78 9e 38 b9 fe 6c dd> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 8,
  remoteAddress: '::ffff:10.0.1.72:39074',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 8 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 8 }
specified socketID: 8
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #8 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200774
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51986
received auth hello!
{ authId: 502, nonce: <Buffer cd 8a d0 d2 a5 73 99 0b> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 85 af 46 c0 f4 63 b9 ef>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer c4 f5 03 48 1e a6 bc 7b>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer c4 f5 03 48 1e a6 bc 7b> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 9,
  remoteAddress: '::ffff:10.0.1.72:39306',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 9 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 9 }
specified socketID: 9
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #9 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200783
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52234
received auth hello!
{ authId: 502, nonce: <Buffer a8 63 49 53 c0 7b d6 cc> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ca be 4b 1b 2e a1 a5 50>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 37 05 52 95 53 fa a3 dd>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 37 05 52 95 53 fa a3 dd> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 10,
  remoteAddress: '::ffff:10.0.1.72:39554',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 10 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 10 }
specified socketID: 10
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #10 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200797
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52480
received auth hello!
{ authId: 502, nonce: <Buffer 86 fb 28 be d0 a5 86 3c> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 5e 19 8c af 6f 28 22 7e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer e1 f2 69 7a cc b9 5a f1>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer e1 f2 69 7a cc b9 5a f1> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 11,
  remoteAddress: '::ffff:10.0.1.72:39800',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 11 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 11 }
specified socketID: 11
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #11 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200812
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52706
Handler: Error in server - details: handshake2 timed out...
received auth hello!
{ authId: 502, nonce: <Buffer d8 8c cc 8b bc 97 6c e1> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 0b e0 d8 36 ca 75 d0 9c>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 5f 9f 54 e3 f3 fc 98 67>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 5f 9f 54 e3 f3 fc 98 67> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 12,
  remoteAddress: '::ffff:10.0.1.72:40024',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 12 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 12 }
specified socketID: 12
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #12 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200827
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52936
received auth hello!
{ authId: 502, nonce: <Buffer fa 00 7d ba af 35 84 86> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 0a b7 1d 38 32 04 49 6f>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 84 4e 41 d4 82 d3 39 8d>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 84 4e 41 d4 82 d3 39 8d> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 13,
  remoteAddress: '::ffff:10.0.1.72:40256',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 13 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 13 }
specified socketID: 13
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #13 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200842
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53170
received auth hello!
{ authId: 502, nonce: <Buffer d9 e2 a0 f1 fb c9 e6 e9> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 11 bc de 74 aa 1d 38 c6>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 3f c7 3a 46 87 11 d0 56>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 3f c7 3a 46 87 11 d0 56> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 14,
  remoteAddress: '::ffff:10.0.1.72:40488',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 14 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 14 }
specified socketID: 14
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #14 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200856
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53396
Handler: Error in server - details: handshake2 timed out...
Unidentified client disconnected
Handler: Error in server - details: Closed during comm init from undefined:undefined
Handler: Error in server - details: Auth hello timedout ...
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200869
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53606
received auth hello!
{ authId: 502, nonce: <Buffer 8f e8 a1 77 40 11 16 b6> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d1 90 ac 20 1f 26 49 2b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 36 0c fc 55 a7 32 c1 8b>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 36 0c fc 55 a7 32 c1 8b> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 15,
  remoteAddress: '::ffff:10.0.1.72:40926',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 15 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 15 }
specified socketID: 15
received auth hello!
{ authId: 502, nonce: <Buffer 51 8e 46 67 a7 97 9c fd> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in server - details: Error occurred in session key request: Error: write after end
disconnected from auth
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #15 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200882
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53812
Handler: Error in server - details: handshake2 timed out...
Handler: Error in server - details: Connection with Auth timed out...
Unidentified client disconnected
Handler: Error in server - details: Closed during comm init from undefined:undefined
Handler: Error in server - details: Auth hello timedout ...
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200894
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 54010
Handler: Error in server - details: handshake2 timed out...
received auth hello!
{ authId: 502, nonce: <Buffer 64 58 52 f6 d8 27 d0 15> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer af 2d 04 de 90 34 92 14>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 4b 42 31 45 17 38 a7 10>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 4b 42 31 45 17 38 a7 10> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 16,
  remoteAddress: '::ffff:10.0.1.72:41330',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 16 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 16 }
specified socketID: 16
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #16 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200906
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 54200
Handler: Error in server - details: handshake2 timed out...
Unidentified client disconnected
Handler: Error in server - details: Closed during comm init from undefined:undefined
Handler: Error in server - details: Auth hello timedout ...
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200921
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 54420
received auth hello!
{ authId: 502, nonce: <Buffer ff f3 cb 4c c9 0e 34 12> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ad eb 91 5d 4d 89 2c 0b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 82 80 00 a1 0a 4d 8c 0b>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 82 80 00 a1 0a 4d 8c 0b> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 17,
  remoteAddress: '::ffff:10.0.1.72:41740',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 17 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 17 }
specified socketID: 17
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #17 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200933
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 54624
received auth hello!
{ authId: 502, nonce: <Buffer fe 98 05 3b 8b cc 0d a3> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 03 8f 3c ef 48 c0 cd 12>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 73 2e 27 b3 4e 9e fe 7a>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 73 2e 27 b3 4e 9e fe 7a> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 18,
  remoteAddress: '::ffff:10.0.1.72:41944',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 18 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 18 }
specified socketID: 18
received auth hello!
{ authId: 502, nonce: <Buffer 34 2d cb 34 d9 2b ba 86> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in server - details: Error occurred in session key request: Error: write after end
disconnected from auth
received auth hello!
{ authId: 502, nonce: <Buffer 13 8f 13 65 05 a4 af 7c> }
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
Failed to migrate! host/port of current Auth is the same as host of the Auth which we migrate to
Handler: Error in server - details: Error occurred in session key request: Error: write after end
disconnected from auth
Handler: Error in server - details: Connection with Auth timed out...
Handler: Error in server - details: Connection with Auth timed out...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #18 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200965
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 55052
received auth hello!
{ authId: 502, nonce: <Buffer c1 42 2c 8a 9d c1 d1 bc> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 8c f7 52 42 6d 22 56 be>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 9b bf 7f 29 ae c0 8e 96>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 9b bf 7f 29 ae c0 8e 96> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 19,
  remoteAddress: '::ffff:10.0.1.72:42370',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 19 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 19 }
specified socketID: 19
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #19 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200981
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 55258
Handler: Error in server - details: handshake2 timed out...
received auth hello!
{ authId: 502, nonce: <Buffer aa 73 5a e3 cc 56 20 92> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 46 eb 86 a4 d9 bc f0 4f>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 66 ea 12 fd dd 7f 52 88>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 66 ea 12 fd dd 7f 52 88> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 20,
  remoteAddress: '::ffff:10.0.1.72:42576',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 20 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 20 }
specified socketID: 20
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #20 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50200989
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 55354
received auth hello!
{ authId: 502, nonce: <Buffer 37 bd ef f0 3f 81 3a f4> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 47 55 1e ae d1 9e 1a b0>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 16 04 1a f7 a8 00 53 42>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 16 04 1a f7 a8 00 53 42> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 21,
  remoteAddress: '::ffff:10.0.1.72:42674',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 21 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 21 }
specified socketID: 21
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #21 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50201004
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 55542
received auth hello!
{ authId: 502, nonce: <Buffer 9f a8 f7 d6 c8 82 b0 da> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer c9 73 29 77 b7 46 32 a4>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 6b a2 4b 56 4a df 15 24>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 6b a2 4b 56 4a df 15 24> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 22,
  remoteAddress: '::ffff:10.0.1.72:42862',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 22 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 22 }
specified socketID: 22
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #22 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50201019
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 55706
received auth hello!
{ authId: 502, nonce: <Buffer f9 94 eb 54 5d 57 23 ab> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer f0 44 4b 8e 8a a6 55 03>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer b4 a2 88 a9 64 c0 df a3>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer b4 a2 88 a9 64 c0 df a3> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 23,
  remoteAddress: '::ffff:10.0.1.72:43026',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 23 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 23 }
specified socketID: 23
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #23 closed
