changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c416.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c416',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 41 49 42 41 41 4b 43 41 51 45 41 73 53 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1521576958552
connected to auth! from local port 50112
received auth hello!
{ authId: 403, nonce: <Buffer 15 a6 39 63 c1 4e 79 cb> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer b8 8a 44 52 71 5a d2 75>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 6e a6 2b 8d 58 18 9e dd c0 91 1f 88 9b 0c 7c bf>,
  macKeyVal: <Buffer d8 10 99 31 b7 21 4a 24 c2 8a 78 0a f9 29 b3 fa c7 b4 25 1b d8 bd 29 57 01 9a 57 f1 c6 dc 2f b1>,
  absValidity: 2018-03-20T21:15:58.727Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300506,
  cipherKeyVal: <Buffer 3c 06 bc 1c af b2 0b f1 1b 05 e3 47 d5 85 cd fa>,
  macKeyVal: <Buffer 28 f9 85 ac fb bf 7f bb a7 56 bf 3d f2 e0 09 f4 60 ff 73 ba 41 e5 c9 6a 1b 2c c2 b1 67 bd a6 55>,
  absValidity: 2018-03-21T20:15:58.727Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300506,
     cipherKeyVal: <Buffer 3c 06 bc 1c af b2 0b f1 1b 05 e3 47 d5 85 cd fa>,
     macKeyVal: <Buffer 28 f9 85 ac fb bf 7f bb a7 56 bf 3d f2 e0 09 f4 60 ff 73 ba 41 e5 c9 6a 1b 2c c2 b1 67 bd a6 55>,
     absValidity: 2018-03-21T20:15:58.727Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer ff a1 d5 a3 df 79 a3 9e>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:15:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1521576959725
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1521577018610
connected to auth! from local port 50316
received auth hello!
{ authId: 403, nonce: <Buffer fa ff ab 6c 97 9b cd bd> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ad 73 ce f1 25 47 1a 9d>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300512,
  cipherKeyVal: <Buffer b4 8a 37 88 81 4c 99 8e 08 d9 6f 36 86 d3 25 14>,
  macKeyVal: <Buffer ac 72 ce a8 e2 55 9f b9 6f 9b f2 c6 1c 03 83 f6 ce 66 8c 43 1e 7f a2 7b be ab 56 df c3 95 95 11>,
  absValidity: 2018-03-21T20:16:58.783Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300512,
     cipherKeyVal: <Buffer b4 8a 37 88 81 4c 99 8e 08 d9 6f 36 86 d3 25 14>,
     macKeyVal: <Buffer ac 72 ce a8 e2 55 9f b9 6f 9b f2 c6 1c 03 83 f6 ce 66 8c 43 1e 7f a2 7b be ab 56 df c3 95 95 11>,
     absValidity: 2018-03-21T20:16:58.783Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 61 2d 47 17 d2 f5 7c a9>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:16:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1521577019721
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1521577078663
connected to auth! from local port 50586
received auth hello!
{ authId: 403, nonce: <Buffer 8b 5f 36 8f 86 46 6c 2e> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 2e 57 d3 b5 fc e1 61 ee>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300518,
  cipherKeyVal: <Buffer 38 af 5d d1 40 65 16 e9 d7 99 a5 99 96 73 d0 91>,
  macKeyVal: <Buffer 7f 15 1b f8 47 15 5b 69 b5 f8 d4 c5 b8 cc 6f 54 cb ea cb 41 ad b7 82 da 0c 34 da af 3f 0c de ec>,
  absValidity: 2018-03-21T20:17:58.808Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300518,
     cipherKeyVal: <Buffer 38 af 5d d1 40 65 16 e9 d7 99 a5 99 96 73 d0 91>,
     macKeyVal: <Buffer 7f 15 1b f8 47 15 5b 69 b5 f8 d4 c5 b8 cc 6f 54 cb ea cb 41 ad b7 82 da 0c 34 da af 3f 0c de ec>,
     absValidity: 2018-03-21T20:17:58.808Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 32 8d 55 6b 42 db 0d c3>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:17:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1521577079698
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1521577138721
connected to auth! from local port 50856
received auth hello!
{ authId: 403, nonce: <Buffer 87 66 f4 1a 22 3f da 2e> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 25 e1 28 32 14 03 8f d8>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300524,
  cipherKeyVal: <Buffer c7 fb 89 9b b4 39 35 3e 23 80 0c 87 e0 18 64 d5>,
  macKeyVal: <Buffer 15 86 be 07 13 08 ae 39 44 d1 dc d6 82 59 76 6f 44 e3 8e b7 81 09 b4 f3 9a 20 02 28 0a 06 ec 67>,
  absValidity: 2018-03-21T20:18:58.852Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300524,
     cipherKeyVal: <Buffer c7 fb 89 9b b4 39 35 3e 23 80 0c 87 e0 18 64 d5>,
     macKeyVal: <Buffer 15 86 be 07 13 08 ae 39 44 d1 dc d6 82 59 76 6f 44 e3 8e b7 81 09 b4 f3 9a 20 02 28 0a 06 ec 67>,
     absValidity: 2018-03-21T20:18:58.852Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 9c bf 02 dd ec ee 02 88>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:18:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1521577139829
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1521577198781
connected to auth! from local port 51126
received auth hello!
{ authId: 403, nonce: <Buffer ee 81 64 b8 b9 37 be d9> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer ec a4 1a 93 05 68 35 93>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300530,
  cipherKeyVal: <Buffer 33 00 88 8a ed 11 50 93 b6 ed c5 0c cc c1 3f 16>,
  macKeyVal: <Buffer b8 ee 17 4a 1c 46 65 06 c0 55 e2 4d 8d 9f 63 eb d0 84 2e 21 25 22 a6 2d b6 73 76 28 d6 f5 73 48>,
  absValidity: 2018-03-21T20:19:58.931Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300530,
     cipherKeyVal: <Buffer 33 00 88 8a ed 11 50 93 b6 ed c5 0c cc c1 3f 16>,
     macKeyVal: <Buffer b8 ee 17 4a 1c 46 65 06 c0 55 e2 4d 8d 9f 63 eb d0 84 2e 21 25 22 a6 2d b6 73 76 28 d6 f5 73 48>,
     absValidity: 2018-03-21T20:19:58.931Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 2b 7a 86 46 08 79 f2 d4>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:19:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1521577199840
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1521577258835
connected to auth! from local port 51396
received auth hello!
{ authId: 403, nonce: <Buffer ee 78 d6 e3 14 e6 95 98> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 5e ab 3d 5c 95 ef 5f 5e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300536,
  cipherKeyVal: <Buffer 9b 05 2d ba d9 47 1a 6c 90 b4 8c 9a 04 f4 b8 62>,
  macKeyVal: <Buffer 71 b4 ec a1 1f 42 6b 6e b0 1f 5e 5d 6f b4 b8 1d 3c c1 de 9e f4 de 7a ae a0 5e c3 da 02 5a 4e 80>,
  absValidity: 2018-03-21T20:20:58.984Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300536,
     cipherKeyVal: <Buffer 9b 05 2d ba d9 47 1a 6c 90 b4 8c 9a 04 f4 b8 62>,
     macKeyVal: <Buffer 71 b4 ec a1 1f 42 6b 6e b0 1f 5e 5d 6f b4 b8 1d 3c c1 de 9e f4 de 7a ae a0 5e c3 da 02 5a 4e 80>,
     absValidity: 2018-03-21T20:20:58.984Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 6b a2 74 b7 6e ef 40 ba>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:20:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1521577259905
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1521577318892
connected to auth! from local port 51666
received auth hello!
{ authId: 403, nonce: <Buffer ad 1e 5a 0d 33 d1 32 aa> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer e0 3c 1e e5 48 2e 40 68>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300542,
  cipherKeyVal: <Buffer 80 0d 76 87 f4 fb ec bc 15 6c 24 99 73 ca d9 51>,
  macKeyVal: <Buffer aa b2 e1 a4 a2 a9 ca e1 08 56 12 95 92 03 2e 30 2d 79 8a 55 c0 bd f3 dd f1 03 62 ce e5 ef b0 0e>,
  absValidity: 2018-03-21T20:21:59.028Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300542,
     cipherKeyVal: <Buffer 80 0d 76 87 f4 fb ec bc 15 6c 24 99 73 ca d9 51>,
     macKeyVal: <Buffer aa b2 e1 a4 a2 a9 ca e1 08 56 12 95 92 03 2e 30 2d 79 8a 55 c0 bd f3 dd f1 03 62 ce e5 ef b0 0e>,
     absValidity: 2018-03-21T20:21:59.028Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 94 e0 63 47 f5 0d 4a 49>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:21:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1521577319999
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1521577378949
connected to auth! from local port 51928
received auth hello!
{ authId: 403, nonce: <Buffer 6d 9e 32 fd 2c a5 c7 de> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 92 59 76 ae 7b 9d 22 fc>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300548,
  cipherKeyVal: <Buffer d0 8d 8b 10 06 ad e0 99 b1 af 47 5e a4 aa 57 b7>,
  macKeyVal: <Buffer 90 dc f4 d8 f4 c3 d4 dc b8 38 bd 88 7f 52 3d be 2a d0 de 10 87 82 44 12 ae f8 68 ee 7e 1a b1 c7>,
  absValidity: 2018-03-21T20:22:59.075Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.20',
  serverPort: 22100,
  sessionKey: 
   { id: 40300548,
     cipherKeyVal: <Buffer d0 8d 8b 10 06 ad e0 99 b1 af 47 5e a4 aa 57 b7>,
     macKeyVal: <Buffer 90 dc f4 d8 f4 c3 d4 dc b8 38 bd 88 7f 52 3d be 2a d0 de 10 87 82 44 12 ae f8 68 ee 7e 1a b1 c7>,
     absValidity: 2018-03-21T20:22:59.075Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 6d 13 cd 3c b8 9e a1 15>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 20:22:59 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 8 8 1 1521577380004
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 9 0.8888888888888888 1521577439009
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 10 0.8 1521577499019
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.7:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 11 0.7272727272727273 1521577559026
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 33152
received auth hello!
{ authId: 503, nonce: <Buffer 87 61 a6 b5 72 67 e3 f1> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 12 0.6666666666666666 1521577619031
failure in connection with Auth : authFailureCount: 4
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 33380
received auth hello!
{ authId: 503, nonce: <Buffer 3f 91 f6 13 3c 29 6d 83> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 13 0.6153846153846154 1521577679041
failure in connection with Auth : authFailureCount: 5
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 1
to: 2
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 42546
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 14 0.5714285714285714 1521577739048
failure in connection with Auth : authFailureCount: 6
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 42788
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 15 0.5333333333333333 1521577799054
failure in connection with Auth : authFailureCount: 7
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 2
to: 3
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.4:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 16 0.5 1521577859062
failure in connection with Auth : authFailureCount: 8
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 3
to: 4
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.2:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 17 0.47058823529411764 1521577919069
failure in connection with Auth : authFailureCount: 9
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 4
to: 5
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 52302
received auth hello!
{ authId: 502, nonce: <Buffer f7 8d 93 08 9e a3 b0 80> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902
            eventHandlers.onError('Error occurred in migration request: Disconnected from auth before getting migration response: ' + error);
                                                                                                                                      ^

ReferenceError: error is not defined
    at Socket.<anonymous> (/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902:135)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:188:7)
    at endReadableNT (_stream_readable.js:975:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
