changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for echoServer: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Servers/s502.config
initializing secure comm server...
Session protocol: TCP
current parameters: { migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 's502',
  group: 'Servers',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 41 49 42 41 41 4b 43 41 51 45 41 70 71 ... > }
Handler: listening on port 22100
s502:Servers prompt>
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101259
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50100
received auth hello!
{ authId: 501, nonce: <Buffer 5b f3 3f fd b4 da 52 7a> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer d6 43 c9 f7 bc ce 7f d2>
auth nonce verified
updating distribution key: { cipherKeyVal: <Buffer b4 b2 20 d3 c1 80 6f 18 a1 e7 d1 41 68 a9 a4 95>,
  macKeyVal: <Buffer bc ec 5d 61 81 ef d4 18 8a 7d cf 03 d6 ae 48 75 40 10 86 48 29 01 c1 81 f5 e9 c7 42 f9 a7 de ef>,
  absValidity: 2018-03-22T01:08:27.790Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 79 7b b0 e1 38 fe 7a df>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 79 7b b0 e1 38 fe 7a df> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 0,
  remoteAddress: '::ffff:10.0.1.63:36204',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 0 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 0 }
specified socketID: 0
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #0 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101267
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50336
received auth hello!
{ authId: 501, nonce: <Buffer f2 0f 98 54 61 2d 9e 20> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 3d 5a 2a f0 b0 49 4a 67>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 72 98 45 51 5f ed 23 86>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 72 98 45 51 5f ed 23 86> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 1,
  remoteAddress: '::ffff:10.0.1.63:36440',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 1 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 1 }
specified socketID: 1
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #1 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101275
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50606
received auth hello!
{ authId: 501, nonce: <Buffer c3 89 93 f0 9f 27 ad ae> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 80 e1 8f 9e 32 35 a4 40>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 03 e0 15 f8 5d d0 93 2e>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 03 e0 15 f8 5d d0 93 2e> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 2,
  remoteAddress: '::ffff:10.0.1.63:36710',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 2 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 2 }
specified socketID: 2
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #2 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101283
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 50876
received auth hello!
{ authId: 501, nonce: <Buffer ac fb 47 ab b2 a9 88 44> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 40 0c 24 57 fc 39 66 c9>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 89 ec 22 e9 d7 e5 ef c5>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 89 ec 22 e9 d7 e5 ef c5> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 3,
  remoteAddress: '::ffff:10.0.1.63:36980',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 3 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 3 }
specified socketID: 3
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #3 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101291
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51146
received auth hello!
{ authId: 501, nonce: <Buffer c2 8b ae e9 a8 b7 46 ee> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 04 7d 2b e3 a2 21 91 0f>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer a9 3e 9d 24 41 c8 65 34>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer a9 3e 9d 24 41 c8 65 34> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 4,
  remoteAddress: '::ffff:10.0.1.63:37250',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 4 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 4 }
specified socketID: 4
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #4 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101299
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51416
received auth hello!
{ authId: 501, nonce: <Buffer 6c 28 4e fd 1e 86 3d 74> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 82 ed fa 2b 43 82 f4 29>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer fe de c4 97 09 43 9a f9>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer fe de c4 97 09 43 9a f9> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 5,
  remoteAddress: '::ffff:10.0.1.63:37520',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 5 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 5 }
specified socketID: 5
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #5 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101307
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 51686
received auth hello!
{ authId: 501, nonce: <Buffer 7d 06 9d 00 b2 63 dc 1d> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 28 79 c1 e8 ac b7 6f 84>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 01 85 8f 68 d7 70 e9 cf>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 01 85 8f 68 d7 70 e9 cf> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 6,
  remoteAddress: '::ffff:10.0.1.63:37790',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 6 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 6 }
specified socketID: 6
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #6 closed
