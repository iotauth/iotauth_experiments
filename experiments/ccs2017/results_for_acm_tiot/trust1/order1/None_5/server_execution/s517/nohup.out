changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for echoServer: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Servers/s517.config
initializing secure comm server...
Session protocol: TCP
current parameters: { migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 's517',
  group: 'Servers',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 6f 77 49 42 41 41 4b 43 41 51 45 41 77 79 ... > }
Handler: listening on port 22100
s517:Servers prompt>
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301481
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53182
received auth hello!
{ authId: 503, nonce: <Buffer 27 a5 c0 5d 53 11 96 1f> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer c3 89 e0 a3 d0 df a4 c1>
auth nonce verified
updating distribution key: { cipherKeyVal: <Buffer 56 c1 03 82 a5 76 1d 2d 14 8a f9 a1 da 6a 3a c3>,
  macKeyVal: <Buffer 2f fd 50 42 c9 62 a0 ca 8b f3 15 96 3e 31 53 73 03 fb f5 62 68 c8 5e 3d c2 f5 79 17 5e d0 f9 34>,
  absValidity: 2018-03-22T01:09:34.282Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 54 2a e7 29 88 52 cd 81>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 54 2a e7 29 88 52 cd 81> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 0,
  remoteAddress: '::ffff:10.0.1.83:47650',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 0 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 0 }
specified socketID: 0
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #0 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301486
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53452
received auth hello!
{ authId: 503, nonce: <Buffer 78 6c ab e9 a6 c4 c1 15> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer a8 d1 10 46 9c cb d9 c0>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer d8 d9 cf 76 e4 59 47 79>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer d8 d9 cf 76 e4 59 47 79> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 1,
  remoteAddress: '::ffff:10.0.1.83:47920',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 1 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 1 }
specified socketID: 1
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #1 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301491
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53722
received auth hello!
{ authId: 503, nonce: <Buffer 22 2e 8c 4b 9b 2b 84 68> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer e5 ec 4d fa 9e db dc 4f>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer c0 96 47 8e 94 4f 31 82>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer c0 96 47 8e 94 4f 31 82> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 2,
  remoteAddress: '::ffff:10.0.1.83:48190',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 2 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 2 }
specified socketID: 2
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #2 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301496
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53992
received auth hello!
{ authId: 503, nonce: <Buffer 25 c0 47 5d b5 14 fd c1> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 5b c6 c7 68 3d f0 bc c4>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer ed 4a 6c c3 09 66 42 ff>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer ed 4a 6c c3 09 66 42 ff> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 3,
  remoteAddress: '::ffff:10.0.1.83:48460',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 3 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 3 }
specified socketID: 3
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #3 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301501
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 54262
received auth hello!
{ authId: 503, nonce: <Buffer e9 5a 70 24 aa 00 b7 47> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer a4 bc 41 b5 c7 cd ba 58>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 2f 82 2b 48 56 30 f7 2f>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 2f 82 2b 48 56 30 f7 2f> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 4,
  remoteAddress: '::ffff:10.0.1.83:48730',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 4 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 4 }
specified socketID: 4
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #4 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50301506
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 54532
received auth hello!
{ authId: 503, nonce: <Buffer e9 92 20 af 91 0d db e7> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fc 21 99 36 ea 76 c0 bf>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 21 24 fd 82 47 4d 58 1e>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 21 24 fd 82 47 4d 58 1e> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 5,
  remoteAddress: '::ffff:10.0.1.83:49000',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 5 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 5 }
specified socketID: 5
