changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for echoServer: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Servers/s502.config
initializing secure comm server...
Session protocol: TCP
current parameters: { migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 's502',
  group: 'Servers',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 41 49 42 41 41 4b 43 41 51 45 41 70 71 ... > }
Handler: listening on port 22100
s502:Servers prompt>
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101147
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 38818
received auth hello!
{ authId: 501, nonce: <Buffer a8 6c 19 37 95 07 e0 4c> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer fe de 73 b5 a7 f9 50 28>
auth nonce verified
updating distribution key: { cipherKeyVal: <Buffer 93 c6 09 42 6b 34 ca 3b 0e 4d be 84 bb db dd 91>,
  macKeyVal: <Buffer 4c 30 40 00 41 3e dd ab d8 0d 6c 47 84 97 4d 40 5a 6b 29 51 81 87 f2 22 b9 a5 f1 e1 77 57 e6 6f>,
  absValidity: 2018-03-21T22:43:51.234Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer de 11 19 bb 97 92 ef 09>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer de 11 19 bb 97 92 ef 09> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 0,
  remoteAddress: '::ffff:10.0.1.63:53154',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 0 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 0 }
specified socketID: 0
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #0 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101155
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 39054
received auth hello!
{ authId: 501, nonce: <Buffer c6 ba db dc 67 ea cb 10> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 14 5e 9a db bb 34 79 f5>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer c6 96 d1 30 79 f4 1c a5>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer c6 96 d1 30 79 f4 1c a5> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 1,
  remoteAddress: '::ffff:10.0.1.63:53390',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 1 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 1 }
specified socketID: 1
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #1 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101163
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 39324
received auth hello!
{ authId: 501, nonce: <Buffer d4 af 0a bd 51 7c 74 b1> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 09 dc 92 ca f4 6b 5e 1b>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 57 f0 77 d2 3c b4 be 00>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 57 f0 77 d2 3c b4 be 00> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 2,
  remoteAddress: '::ffff:10.0.1.63:53660',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 2 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 2 }
specified socketID: 2
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #2 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101171
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 39594
received auth hello!
{ authId: 501, nonce: <Buffer a9 ec 4b 55 fd 4c 4a e5> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d1 7b 9e e5 b2 cb 82 8c>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer e2 78 dd e3 ef eb c8 5c>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer e2 78 dd e3 ef eb c8 5c> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 3,
  remoteAddress: '::ffff:10.0.1.63:53930',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 3 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 3 }
specified socketID: 3
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #3 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101179
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 39864
received auth hello!
{ authId: 501, nonce: <Buffer 43 12 95 a9 af e7 bd e4> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer e4 9a e3 25 60 5d 1b 25>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 5a 7c 1c fc f7 a5 4b bf>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 5a 7c 1c fc f7 a5 4b bf> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 4,
  remoteAddress: '::ffff:10.0.1.63:54200',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 4 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 4 }
specified socketID: 4
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #4 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101187
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 40134
received auth hello!
{ authId: 501, nonce: <Buffer a0 9e 7d cb a8 5e 83 b5> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer df ed 23 f7 14 9e 09 8c>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 99 10 9a 08 64 54 04 e3>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 99 10 9a 08 64 54 04 e3> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 5,
  remoteAddress: '::ffff:10.0.1.63:54470',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 5 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 5 }
specified socketID: 5
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #5 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50101195
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 40404
received auth hello!
{ authId: 501, nonce: <Buffer dc 95 a3 68 6f f0 f2 da> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer af 85 cb e6 fe ee 16 d1>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 2d d1 da 8b 02 84 a9 2e>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 2d d1 da 8b 02 84 a9 2e> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 6,
  remoteAddress: '::ffff:10.0.1.63:54740',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 6 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 6 }
specified socketID: 6
