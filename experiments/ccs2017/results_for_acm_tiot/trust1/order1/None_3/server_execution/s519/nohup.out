changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for echoServer: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Servers/s519.config
initializing secure comm server...
Session protocol: TCP
current parameters: { migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 's519',
  group: 'Servers',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 6f 67 49 42 41 41 4b 43 41 51 45 41 70 4b ... > }
Handler: listening on port 22100
s519:Servers prompt>
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400307
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52112
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400308
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52120
received auth hello!
{ authId: 504, nonce: <Buffer f3 c9 ff 20 ed 44 b4 c2> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 1c d4 bf 9d 1a 34 71 55>
auth nonce verified
updating distribution key: { cipherKeyVal: <Buffer ac 63 2c 99 b1 50 6e 8d bf 51 66 fa b8 86 46 de>,
  macKeyVal: <Buffer 8a 89 41 37 46 e4 a8 f4 fd 99 08 f6 8f a0 c5 be 35 3c e5 51 e7 e6 db b1 40 7e 32 8d 02 f8 8f 86>,
  absValidity: 2018-03-21T22:45:15.580Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 2e 3f 15 61 22 98 be cd>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 2e 3f 15 61 22 98 be cd> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 0,
  remoteAddress: '::ffff:10.0.1.86:60636',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 0 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 0 }
specified socketID: 0
received auth hello!
{ authId: 504, nonce: <Buffer 6a 50 8a 6a 7b 55 1c ab> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 9b e0 b8 8b b1 77 a1 5e>
auth nonce verified
updating distribution key: { cipherKeyVal: <Buffer ce bb ed b6 5b 60 da 12 51 73 40 c8 8c c3 1c 4f>,
  macKeyVal: <Buffer 7c 65 4d 73 00 07 30 27 b4 c8 f0 8f 29 9b 72 f5 b6 60 ad 3c 56 87 f2 97 d4 61 38 4a 56 21 5c 85>,
  absValidity: 2018-03-21T22:45:16.277Z }
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 9d 35 11 21 46 a8 de 40>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 9d 35 11 21 46 a8 de 40> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 1,
  remoteAddress: '::ffff:10.0.1.87:33680',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 1 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 1 }
specified socketID: 1
Handler: Error in server - details: handshake2 timed out...
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #0 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400313
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52382
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #1 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400314
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52390
received auth hello!
{ authId: 504, nonce: <Buffer e5 ca 28 17 5f a9 b1 a9> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d8 3a a4 45 78 98 e8 72>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer a9 b4 a1 24 7a 08 69 31>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer a9 b4 a1 24 7a 08 69 31> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 2,
  remoteAddress: '::ffff:10.0.1.86:60906',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 2 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 2 }
specified socketID: 2
received auth hello!
{ authId: 504, nonce: <Buffer d1 20 ea 2a 45 df 59 95> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer f0 e5 5a 68 71 04 a3 cb>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer c0 d8 32 c8 f2 97 22 24>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer c0 d8 32 c8 f2 97 22 24> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 3,
  remoteAddress: '::ffff:10.0.1.87:33950',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 3 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 3 }
specified socketID: 3
Handler: Error in server - details: handshake2 timed out...
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #2 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400319
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52652
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #3 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400320
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52660
received auth hello!
{ authId: 504, nonce: <Buffer a4 50 41 dc 3f 5c 8d c7> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d8 ad 00 2c c6 80 38 a6>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 4b 8e b9 39 4a d8 fb 50>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 4b 8e b9 39 4a d8 fb 50> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 4,
  remoteAddress: '::ffff:10.0.1.86:32944',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 4 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 4 }
specified socketID: 4
received auth hello!
{ authId: 504, nonce: <Buffer 49 5d f6 4c 5f e6 c1 f4> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 7f 71 78 c4 41 58 18 7c>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 44 d0 d1 3e 3c 85 99 d1>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 44 d0 d1 3e 3c 85 99 d1> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 5,
  remoteAddress: '::ffff:10.0.1.87:34220',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 5 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 5 }
specified socketID: 5
Handler: Error in server - details: handshake2 timed out...
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #4 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400325
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 52916
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #5 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400326
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
received auth hello!
{ authId: 504, nonce: <Buffer 24 6e 1d 16 14 a2 de 5e> }
connected to auth! from local port 52936
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 34 07 37 1b 3d 3a 2a f4>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 23 39 d3 0c a6 b4 e0 c7>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 23 39 d3 0c a6 b4 e0 c7> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 6,
  remoteAddress: '::ffff:10.0.1.86:33208',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 6 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 6 }
specified socketID: 6
Handler: Error in server - details: handshake2 timed out...
received auth hello!
{ authId: 504, nonce: <Buffer 01 f2 67 9f 47 2d 29 01> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 11 d8 a5 d5 0c 7f 14 da>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 2e ba 74 2b c7 a8 fc e8>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer 2e ba 74 2b c7 a8 fc e8> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 7,
  remoteAddress: '::ffff:10.0.1.87:34496',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 7 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 7 }
specified socketID: 7
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #6 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400331
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53186
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #7 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400332
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53202
received auth hello!
{ authId: 504, nonce: <Buffer a7 4a b0 a1 ac 8d 88 6c> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 39 0e da 56 2d 9d 8f ac>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer 33 1f 91 83 c4 be b8 da>
switching to HANDSHAKE_2_SENT
received session key handshake3!
{ replyNonce: <Buffer 33 1f 91 83 c4 be b8 da> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 8,
  remoteAddress: '::ffff:10.0.1.86:33478',
  status: 'open' }
disconnected from auth
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 8 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 8 }
specified socketID: 8
Handler: Error in server - details: handshake2 timed out...
received auth hello!
{ authId: 504, nonce: <Buffer 33 0d 7f 6d 3d 90 df 2d> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b4 fb d7 99 1a 24 ad c1>
auth nonce verified
received 1 keys
Session key id is as expected
server ret: [object Object]
chosen nonce: <Buffer db 75 49 3f 63 20 24 e5>
switching to HANDSHAKE_2_SENT
disconnected from auth
received session key handshake3!
{ replyNonce: <Buffer db 75 49 3f 63 20 24 e5> }
client authenticated/authorized by solving nonce!
switching to IN_COMM
Handler: secure connection with the client established.
{ id: 9,
  remoteAddress: '::ffff:10.0.1.87:34760',
  status: 'open' }
received secure communication!
Received seqNum: 0
data received from server via secure communication
Handler: socketID: 9 data: data1
toSend: { data: <Buffer 64 61 74 61 31>, id: 9 }
specified socketID: 9
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #8 closed
Unidentified client connected
received session key handshake1
switching to HANDSHAKE_1_RECEIVED state.
session key id: 50400337
session key NOT found! sending session key id to AuthService
Distribution protocol: TCP
connected to auth! from local port 53462
Handler: Error in server - details: Disconnected from auth before getting session key response
Handler: Error in server - details: handshake2 timed out...
Unidentified client disconnected
Handler: Error in server - details: Closed during comm init from undefined:undefined
Handler: Error in server - details: Auth hello timedout ...
Unidentified client disconnected
Handler: secure connection with the client closed.
socket #9 closed
