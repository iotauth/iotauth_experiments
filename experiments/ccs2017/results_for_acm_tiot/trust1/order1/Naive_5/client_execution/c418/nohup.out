changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c418.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c418',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 6f 77 49 42 41 41 4b 43 41 51 45 41 6d 75 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1521581399686
connected to auth! from local port 48142
received auth hello!
{ authId: 403, nonce: <Buffer 0e 70 66 8b 1f 26 f9 d2> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer bb 45 d2 c0 e2 7f 30 c3>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 22 af 7d 97 47 bb 56 4f 54 ab f1 a2 87 21 1e a5>,
  macKeyVal: <Buffer f8 b3 d7 0c 10 5b 99 19 c2 37 46 76 b1 a7 43 46 49 b9 05 c0 e0 59 11 a8 57 89 71 29 64 45 09 17>,
  absValidity: 2018-03-20T22:29:59.871Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300556,
  cipherKeyVal: <Buffer 7b a9 59 02 8b 31 07 86 41 5a 9e ed 9c 0c d8 36>,
  macKeyVal: <Buffer 89 02 c3 49 8b b8 2b a6 f2 3d ff 6c 2a db cb 8d 2e 1e 33 08 79 ce 7c 24 e2 b8 c7 65 ca 25 e6 d9>,
  absValidity: 2018-03-21T21:29:59.870Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300556,
     cipherKeyVal: <Buffer 7b a9 59 02 8b 31 07 86 41 5a 9e ed 9c 0c d8 36>,
     macKeyVal: <Buffer 89 02 c3 49 8b b8 2b a6 f2 3d ff 6c 2a db cb 8d 2e 1e 33 08 79 ce 7c 24 e2 b8 c7 65 ca 25 e6 d9>,
     absValidity: 2018-03-21T21:29:59.870Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer db 79 3b 13 30 ce ed 3c>
switching to HANDSHAKE_1_SENT
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:30:01 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1521581402239
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1521581459742
connected to auth! from local port 48354
received auth hello!
{ authId: 403, nonce: <Buffer 2c 26 f4 7c fc 7b ca a8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer d9 16 5b a5 d6 26 6b 90>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300562,
  cipherKeyVal: <Buffer 37 a8 5d 93 a5 93 5f 1b ec a0 37 57 7b e0 37 12>,
  macKeyVal: <Buffer 9c ef 16 45 31 76 5c f3 a3 63 3b 3a a1 51 ae 69 43 06 cb 5b ad 63 68 3f 5c 02 92 29 dc 61 83 71>,
  absValidity: 2018-03-21T21:30:59.942Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300562,
     cipherKeyVal: <Buffer 37 a8 5d 93 a5 93 5f 1b ec a0 37 57 7b e0 37 12>,
     macKeyVal: <Buffer 9c ef 16 45 31 76 5c f3 a3 63 3b 3a a1 51 ae 69 43 06 cb 5b ad 63 68 3f 5c 02 92 29 dc 61 83 71>,
     absValidity: 2018-03-21T21:30:59.942Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 6a c8 32 c2 30 13 44 05>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:31:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1521581462580
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1521581519785
connected to auth! from local port 48624
received auth hello!
{ authId: 403, nonce: <Buffer ed a7 f6 d0 6c 88 22 fa> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 63 c8 72 20 25 1e 1a 77>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300568,
  cipherKeyVal: <Buffer 87 9f 84 9e b9 79 1b cb 9f 99 1a ba a3 c2 ce 7a>,
  macKeyVal: <Buffer d1 e2 2f 0a d0 a1 00 76 5c 22 68 74 6d db c2 34 ec a1 85 1d 08 82 3f cd 7b 71 bc 31 65 49 b0 da>,
  absValidity: 2018-03-21T21:32:00.008Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300568,
     cipherKeyVal: <Buffer 87 9f 84 9e b9 79 1b cb 9f 99 1a ba a3 c2 ce 7a>,
     macKeyVal: <Buffer d1 e2 2f 0a d0 a1 00 76 5c 22 68 74 6d db c2 34 ec a1 85 1d 08 82 3f cd 7b 71 bc 31 65 49 b0 da>,
     absValidity: 2018-03-21T21:32:00.008Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer 95 37 98 13 86 cc ff 99>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:32:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1521581522551
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1521581579841
connected to auth! from local port 48894
received auth hello!
{ authId: 403, nonce: <Buffer f8 a8 1f ad 74 c2 9d b8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 8b 80 91 ba c9 6c 63 3b>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300574,
  cipherKeyVal: <Buffer a5 09 04 63 7b b5 b3 a9 7f 77 a9 53 4d c4 6e ab>,
  macKeyVal: <Buffer 65 30 c5 dd ea d3 e3 1b 1e bc 51 76 d6 6c ac 99 d2 cd 13 e7 8e 0a 96 cc 37 85 7b 34 23 63 ae d1>,
  absValidity: 2018-03-21T21:33:00.052Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300574,
     cipherKeyVal: <Buffer a5 09 04 63 7b b5 b3 a9 7f 77 a9 53 4d c4 6e ab>,
     macKeyVal: <Buffer 65 30 c5 dd ea d3 e3 1b 1e bc 51 76 d6 6c ac 99 d2 cd 13 e7 8e 0a 96 cc 37 85 7b 34 23 63 ae d1>,
     absValidity: 2018-03-21T21:33:00.052Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 1c 49 0f 81 c4 15 84 67>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:33:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1521581582712
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1521581639899
connected to auth! from local port 49164
received auth hello!
{ authId: 403, nonce: <Buffer 65 29 46 9b 62 9b 5f b5> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 51 a8 6e 95 48 85 83 f4>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300580,
  cipherKeyVal: <Buffer 51 3d 4e c8 be f1 74 21 2a 38 38 85 52 14 fe 0b>,
  macKeyVal: <Buffer cf 23 32 d6 d5 d2 a3 94 15 a6 5f d2 03 00 9b 76 ff 5b 8a c7 5c 1b 83 43 28 64 56 b7 42 41 9c 63>,
  absValidity: 2018-03-21T21:34:00.089Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300580,
     cipherKeyVal: <Buffer 51 3d 4e c8 be f1 74 21 2a 38 38 85 52 14 fe 0b>,
     macKeyVal: <Buffer cf 23 32 d6 d5 d2 a3 94 15 a6 5f d2 03 00 9b 76 ff 5b 8a c7 5c 1b 83 43 28 64 56 b7 42 41 9c 63>,
     absValidity: 2018-03-21T21:34:00.089Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer c1 f6 02 a1 5d 20 53 84>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:34:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1521581642735
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1521581699933
connected to auth! from local port 49434
received auth hello!
{ authId: 403, nonce: <Buffer cf 96 16 07 68 25 15 aa> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer e6 e1 24 9d ae 24 50 a1>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300586,
  cipherKeyVal: <Buffer c3 6e 64 c2 18 1d bc ca 75 1a a9 ee 14 90 44 c5>,
  macKeyVal: <Buffer 1b d2 2f 8f 6f f9 ec 98 7e 07 72 cb 68 e6 a2 5a 38 38 d7 52 bb cf ce 00 18 8b 4f a3 c6 5d 21 63>,
  absValidity: 2018-03-21T21:35:00.119Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300586,
     cipherKeyVal: <Buffer c3 6e 64 c2 18 1d bc ca 75 1a a9 ee 14 90 44 c5>,
     macKeyVal: <Buffer 1b d2 2f 8f 6f f9 ec 98 7e 07 72 cb 68 e6 a2 5a 38 38 d7 52 bb cf ce 00 18 8b 4f a3 c6 5d 21 63>,
     absValidity: 2018-03-21T21:35:00.119Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer c9 33 e8 35 5b 0b 72 c5>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:35:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1521581702566
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1521581759970
connected to auth! from local port 49704
received auth hello!
{ authId: 403, nonce: <Buffer ee fe 7c ca d0 a5 56 e9> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 58 8c 1d 4a fd 67 b2 eb>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300592,
  cipherKeyVal: <Buffer 13 49 fc 3f 82 6e a2 11 f1 ef 63 d1 c3 0d 38 5c>,
  macKeyVal: <Buffer 11 34 44 83 ae 00 fb 01 cb 63 db b1 12 7c 58 4d e9 97 12 c0 b2 63 7f 7b 49 f5 ab 1a e7 13 47 fe>,
  absValidity: 2018-03-21T21:36:00.207Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300592,
     cipherKeyVal: <Buffer 13 49 fc 3f 82 6e a2 11 f1 ef 63 d1 c3 0d 38 5c>,
     macKeyVal: <Buffer 11 34 44 83 ae 00 fb 01 cb 63 db b1 12 7c 58 4d e9 97 12 c0 b2 63 7f 7b 49 f5 ab 1a e7 13 47 fe>,
     absValidity: 2018-03-21T21:36:00.207Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 53 54 7a 26 d2 9c e1 f1>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:36:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1521581762806
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1521581820026
connected to auth! from local port 49970
received auth hello!
{ authId: 403, nonce: <Buffer 4e bc 9f ad 56 31 51 5b> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 38 85 92 58 09 26 07 65>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 40300598,
  cipherKeyVal: <Buffer 8c 15 05 21 9e 3c 25 ba 98 29 d5 8a 6a 53 8e 64>,
  macKeyVal: <Buffer d3 24 12 3b 14 0f a1 ed 4c 7f 35 6c de fb a7 d4 ab c4 fa ef ec 92 7d bf e6 d5 87 8c 18 0b 33 57>,
  absValidity: 2018-03-21T21:37:00.259Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.23',
  serverPort: 22100,
  sessionKey: 
   { id: 40300598,
     cipherKeyVal: <Buffer 8c 15 05 21 9e 3c 25 ba 98 29 d5 8a 6a 53 8e 64>,
     macKeyVal: <Buffer d3 24 12 3b 14 0f a1 ed 4c 7f 35 6c de fb a7 d4 ab c4 fa ef ec 92 7d bf e6 d5 87 8c 18 0b 33 57>,
     absValidity: 2018-03-21T21:37:00.259Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer d9 e2 46 77 87 92 7d 9c>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Tue Mar 20 2018 21:37:02 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 8 8 1 1521581822705
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 9 0.8888888888888888 1521581880031
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 10 0.8 1521581940041
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 11 0.7272727272727273 1521582000049
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 0
to: 1
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.2:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 12 0.6666666666666666 1521582060057
failure in connection with Auth : authFailureCount: 4
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 1
to: 2
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.7:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 13 0.6153846153846154 1521582120064
failure in connection with Auth : authFailureCount: 5
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 2
to: 3
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 44184
received auth hello!
{ authId: 502, nonce: <Buffer 7f 8e da 9f e2 9e be a9> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 14 0.5714285714285714 1521582180074
failure in connection with Auth : authFailureCount: 6
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 44426
received auth hello!
{ authId: 502, nonce: <Buffer 9b b5 53 a9 37 81 e9 af> }
received an Auth alert!
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: received an Auth alert! code: 1
disconnected from auth
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 15 0.5333333333333333 1521582240084
failure in connection with Auth : authFailureCount: 7
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 3
to: 4
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.4:21100
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 16 0.5 1521582300092
failure in connection with Auth : authFailureCount: 8
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 4
to: 5
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 50042
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 17 0.47058823529411764 1521582360099
failure in connection with Auth : authFailureCount: 9
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
connected to auth! from local port 50270
Handler: Error in secure comm - details: Auth hello timedout ...
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 18 0.4444444444444444 1521582420105
failure in connection with Auth : authFailureCount: 10
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 5
to: 6
Failed to migrate! host/port of current Auth is the same as host of the Auth which we migrate to
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.3:21100
/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902
            eventHandlers.onError('Error occurred in migration request: Disconnected from auth before getting migration response: ' + error);
                                                                                                                                      ^

ReferenceError: error is not defined
    at Socket.<anonymous> (/home/hokeunkim/Development/iotauth/entity/node/accessors/node_modules/iotAuthService.js:902:135)
    at emitNone (events.js:91:20)
    at Socket.emit (events.js:188:7)
    at endReadableNT (_stream_readable.js:975:12)
    at _combinedTickCallback (internal/process/next_tick.js:80:11)
    at process._tickCallback (internal/process/next_tick.js:104:9)
