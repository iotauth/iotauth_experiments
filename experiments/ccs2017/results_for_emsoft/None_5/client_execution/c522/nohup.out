changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c522.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c522',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 6f 67 49 42 41 41 4b 43 41 51 45 41 78 77 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1521677373138
connected to auth! from local port 39844
received auth hello!
{ authId: 503, nonce: <Buffer 08 45 20 16 14 35 b1 4b> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 60 6e e5 94 6c 59 56 81>
auth nonce verified
updating distribution key: { cipherKeyVal: <Buffer d0 5e 68 57 ff 90 2a a7 38 d6 ed 3b 3f 10 71 5f>,
  macKeyVal: <Buffer 4e 87 56 6f 7b f8 be bc 0b 35 49 e7 ef a0 35 24 9a f4 9b a4 ec a3 75 2e 51 00 81 61 77 fd 83 cd>,
  absValidity: 2018-03-22T01:09:33.326Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 50301481,
  cipherKeyVal: <Buffer 3b 03 1c b8 37 de 09 c4 e7 38 ef 38 06 ee 69 4a>,
  macKeyVal: <Buffer e0 1f 6a 7e 88 19 4e 95 ab 6b 66 d3 f2 37 d6 48 6d f3 fd 61 47 33 3c 64 e0 16 f5 ec cd 3e 7d 04>,
  absValidity: 2018-03-23T00:09:33.326Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.40',
  serverPort: 22100,
  sessionKey: 
   { id: 50301481,
     cipherKeyVal: <Buffer 3b 03 1c b8 37 de 09 c4 e7 38 ef 38 06 ee 69 4a>,
     macKeyVal: <Buffer e0 1f 6a 7e 88 19 4e 95 ab 6b 66 d3 f2 37 d6 48 6d f3 fd 61 47 33 3c 64 e0 16 f5 ec cd 3e 7d 04>,
     absValidity: 2018-03-23T00:09:33.326Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer 5a 1e cc cc 50 f5 bb 9a>
switching to HANDSHAKE_1_SENT
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Thu Mar 22 2018 00:09:34 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1521677374864
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1521677433197
connected to auth! from local port 40114
received auth hello!
{ authId: 503, nonce: <Buffer c1 fc b2 3b 21 64 55 f2> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fd e4 11 34 90 5d d8 9d>
auth nonce verified
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50301486,
  cipherKeyVal: <Buffer 0e aa e2 1a e6 1f d9 63 f4 02 74 62 b6 43 af 3f>,
  macKeyVal: <Buffer 34 1b 1f 0d 4d b8 98 fe a5 9f e4 2c 4d 3f 4e 54 14 e9 99 8c 70 f2 ba ec a8 85 fc fa bd 0d 95 62>,
  absValidity: 2018-03-23T00:10:33.355Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.40',
  serverPort: 22100,
  sessionKey: 
   { id: 50301486,
     cipherKeyVal: <Buffer 0e aa e2 1a e6 1f d9 63 f4 02 74 62 b6 43 af 3f>,
     macKeyVal: <Buffer 34 1b 1f 0d 4d b8 98 fe a5 9f e4 2c 4d 3f 4e 54 14 e9 99 8c 70 f2 ba ec a8 85 fc fa bd 0d 95 62>,
     absValidity: 2018-03-23T00:10:33.355Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer bc 04 04 1f e3 dc 8f d6>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Thu Mar 22 2018 00:10:34 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1521677434834
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1521677493255
connected to auth! from local port 40384
received auth hello!
{ authId: 503, nonce: <Buffer f8 10 9e c6 89 e3 da b6> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 86 0c 9b c1 96 16 39 4e>
auth nonce verified
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50301491,
  cipherKeyVal: <Buffer d4 7b 94 ec 34 b8 ca 28 57 cd 4f 5f 6b f0 c1 e2>,
  macKeyVal: <Buffer 04 89 46 20 15 ef df 4b dd 7f 8a b9 e6 99 7a 09 d6 3b bb a7 02 b0 95 17 e8 77 f0 f6 ff 4e a1 fe>,
  absValidity: 2018-03-23T00:11:33.397Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.40',
  serverPort: 22100,
  sessionKey: 
   { id: 50301491,
     cipherKeyVal: <Buffer d4 7b 94 ec 34 b8 ca 28 57 cd 4f 5f 6b f0 c1 e2>,
     macKeyVal: <Buffer 04 89 46 20 15 ef df 4b dd 7f 8a b9 e6 99 7a 09 d6 3b bb a7 02 b0 95 17 e8 77 f0 f6 ff 4e a1 fe>,
     absValidity: 2018-03-23T00:11:33.397Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 47 0e 5c 11 db 49 5a d4>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Thu Mar 22 2018 00:11:34 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1521677494937
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1521677553309
connected to auth! from local port 40654
received auth hello!
{ authId: 503, nonce: <Buffer b0 97 a2 f9 87 a9 05 b1> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 0e b8 0e 64 dd 72 24 9b>
auth nonce verified
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50301496,
  cipherKeyVal: <Buffer 91 71 12 9c 7c 8e 9f a7 f4 ad 0c 53 99 0c c6 b6>,
  macKeyVal: <Buffer 04 5e 10 48 df db 8a eb 35 78 b6 50 92 83 4d 3e e0 93 14 85 c2 71 70 08 50 96 b7 0a 02 ea 7c 10>,
  absValidity: 2018-03-23T00:12:33.475Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.40',
  serverPort: 22100,
  sessionKey: 
   { id: 50301496,
     cipherKeyVal: <Buffer 91 71 12 9c 7c 8e 9f a7 f4 ad 0c 53 99 0c c6 b6>,
     macKeyVal: <Buffer 04 5e 10 48 df db 8a eb 35 78 b6 50 92 83 4d 3e e0 93 14 85 c2 71 70 08 50 96 b7 0a 02 ea 7c 10>,
     absValidity: 2018-03-23T00:12:33.475Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer f2 1c f2 4b 73 bf f1 f2>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Thu Mar 22 2018 00:12:34 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1521677554819
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1521677613335
connected to auth! from local port 40924
received auth hello!
{ authId: 503, nonce: <Buffer 19 fa b1 a5 e0 49 61 d5> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fc c4 9f 0d e8 a6 61 1a>
auth nonce verified
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50301501,
  cipherKeyVal: <Buffer 2f ca 28 96 42 f4 45 41 db 4d c3 b2 97 a7 f4 cf>,
  macKeyVal: <Buffer 93 e0 9f 03 c3 96 9e 1d c0 ce f3 b0 40 71 ca d6 f5 cb 65 57 4d be c7 dc af 17 34 15 46 da c8 c1>,
  absValidity: 2018-03-23T00:13:33.471Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.40',
  serverPort: 22100,
  sessionKey: 
   { id: 50301501,
     cipherKeyVal: <Buffer 2f ca 28 96 42 f4 45 41 db 4d c3 b2 97 a7 f4 cf>,
     macKeyVal: <Buffer 93 e0 9f 03 c3 96 9e 1d c0 ce f3 b0 40 71 ca d6 f5 cb 65 57 4d be c7 dc af 17 34 15 46 da c8 c1>,
     absValidity: 2018-03-23T00:13:33.471Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 5a f8 fb e0 36 54 05 29>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Thu Mar 22 2018 00:13:34 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1521677615067
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1521677673385
connected to auth! from local port 41194
received auth hello!
{ authId: 503, nonce: <Buffer e4 e2 9b 0a 22 09 c2 fa> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 18 9b 6b 6a e5 be 68 86>
auth nonce verified
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50301506,
  cipherKeyVal: <Buffer bb 51 20 fe ac 2c f6 12 43 2d d0 c9 74 d6 45 93>,
  macKeyVal: <Buffer 26 c1 b9 e7 f5 ed e6 22 70 62 44 73 be ce 1c 5d 10 86 0f 6b 35 30 59 d4 94 59 1a b1 2e 85 f1 6d>,
  absValidity: 2018-03-23T00:14:33.537Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.40',
  serverPort: 22100,
  sessionKey: 
   { id: 50301506,
     cipherKeyVal: <Buffer bb 51 20 fe ac 2c f6 12 43 2d d0 c9 74 d6 45 93>,
     macKeyVal: <Buffer 26 c1 b9 e7 f5 ed e6 22 70 62 44 73 be ce 1c 5d 10 86 0f 6b 35 30 59 d4 94 59 1a b1 2e 85 f1 6d>,
     absValidity: 2018-03-23T00:14:33.537Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer f7 6a 96 96 2f f2 ab 53>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Thu Mar 22 2018 00:14:34 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1521677674975
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1521677733445
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect ECONNREFUSED 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 8 0.75 1521677793455
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 9 0.6666666666666666 1521677853464
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 10 0.6 1521677913474
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 11 0.5454545454545454 1521677973477
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 12 0.5 1521678033488
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 13 0.46153846153846156 1521678093497
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 14 0.42857142857142855 1521678153507
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 15 0.4 1521678213517
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 16 0.375 1521678273521
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 17 0.35294117647058826 1521678333532
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 18 0.3333333333333333 1521678393541
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 19 0.3157894736842105 1521678453552
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 20 0.3 1521678513560
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 21 0.2857142857142857 1521678573570
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 22 0.2727272727272727 1521678633577
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 23 0.2608695652173913 1521678693587
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 24 0.25 1521678753600
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 25 0.24 1521678813611
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 26 0.23076923076923078 1521678873621
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 27 0.2222222222222222 1521678933624
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 28 0.21428571428571427 1521678993634
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 29 0.20689655172413793 1521679053645
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 30 0.2 1521679113655
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 31 0.1935483870967742 1521679173662
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
