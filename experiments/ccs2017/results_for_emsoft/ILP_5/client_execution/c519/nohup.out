changing working directory to: /home/hokeunkim/Development/iotauth/entity/node/example_entities
loading from config file: /home/hokeunkim/Development/iotauth_experiments/experiments/ccs2017/expOptions/expEntity.option
Experimental options for autoClient: { autoSendPeriod: 60000,
  useSameSessionKeyCount: 1,
  connectionTimeout: 50000,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
loading from config file: /home/hokeunkim/Development/iotauth/entity/node/example_entities/configs/Clients/c519.config
initializing...
current parameters: { numKeysPerRequest: 3,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: false,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 3,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 3 }
current parameters: { numKeysPerRequest: 1,
  migrationEnabled: true,
  authFailureThreshold: 2,
  migrationFailureThreshold: 2 }
current entityInfo: { name: 'c519',
  group: 'Clients',
  distProtocol: 'TCP',
  usePermanentDistKey: false,
  connectionTimeout: 50000,
  privateKey: <Buffer 2d 2d 2d 2d 2d 42 45 47 49 4e 20 52 53 41 20 50 52 49 56 41 54 45 20 4b 45 59 2d 2d 2d 2d 2d 0a 4d 49 49 45 70 67 49 42 41 41 4b 43 41 51 45 41 38 57 ... > }
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 0 1 0 1521600323355
connected to auth! from local port 44020
received auth hello!
{ authId: 503, nonce: <Buffer 8d 7e 74 da 0f 7f 8e 5a> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 25 2e 0c c9 ef e5 61 34>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer a6 dc 47 86 20 52 b2 8c 2d 05 93 12 11 2d 8e 91>,
  macKeyVal: <Buffer cf d2 6e 5e fb 33 c3 66 66 66 6e cc af 90 a0 4b 2c 1c 92 09 5f 9d a9 34 f1 d3 45 ba 94 7b 56 80>,
  absValidity: 2018-03-21T03:45:23.588Z }
received 1 keys
currentSessionKey: [object Object]
Session protocol: TCP
chosen commSessionKey: 
{ id: 50300702,
  cipherKeyVal: <Buffer 51 bf fa 00 51 69 54 c2 4b be e7 0e 96 9d fd c1>,
  macKeyVal: <Buffer 8f b3 da 26 3e b1 7d e7 53 36 be a2 bd 5c 38 5d 2c e4 8e 07 34 b6 c1 5e 17 5a e0 5d 18 f2 78 e1>,
  absValidity: 2018-03-22T02:45:23.588Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50300702,
     cipherKeyVal: <Buffer 51 bf fa 00 51 69 54 c2 4b be e7 0e 96 9d fd c1>,
     macKeyVal: <Buffer 8f b3 da 26 3e b1 7d e7 53 36 be a2 bd 5c 38 5d 2c e4 8e 07 34 b6 c1 5e 17 5a e0 5d 18 f2 78 e1>,
     absValidity: 2018-03-22T02:45:23.588Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer f7 79 33 ec 0b 1c b5 70>
switching to HANDSHAKE_1_SENT
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:45:24 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 1 1 1 1521600325262
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 1 2 0.5 1521600383414
connected to auth! from local port 44290
received auth hello!
{ authId: 503, nonce: <Buffer 71 e7 72 25 24 59 29 01> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 3c d5 98 50 54 cc 94 7a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50300707,
  cipherKeyVal: <Buffer 3a 0c 59 51 90 5a 8a 30 28 6b 75 56 fb f7 e8 b1>,
  macKeyVal: <Buffer 17 32 fc d5 f8 5c b0 60 17 92 bc 4e a4 f3 58 8c c5 fe a6 49 7c cc 85 81 37 89 45 5d d1 bb a7 4e>,
  absValidity: 2018-03-22T02:46:23.653Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50300707,
     cipherKeyVal: <Buffer 3a 0c 59 51 90 5a 8a 30 28 6b 75 56 fb f7 e8 b1>,
     macKeyVal: <Buffer 17 32 fc d5 f8 5c b0 60 17 92 bc 4e a4 f3 58 8c c5 fe a6 49 7c cc 85 81 37 89 45 5d d1 bb a7 4e>,
     absValidity: 2018-03-22T02:46:23.653Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer db 1b 42 2a a3 b7 95 04>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:46:24 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 2 2 1 1521600385318
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 2 3 0.6666666666666666 1521600443469
connected to auth! from local port 44560
received auth hello!
{ authId: 503, nonce: <Buffer ed 2a 82 dc 4a 04 3e 14> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 3e ce d1 b9 04 8e 85 5d>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50300712,
  cipherKeyVal: <Buffer 54 14 75 99 94 86 1d d2 bc 42 11 53 35 32 90 9c>,
  macKeyVal: <Buffer 3b eb 69 c6 24 76 17 0c fc b4 97 99 a9 e4 60 fc 49 65 84 23 1b ef 11 38 1d 43 d9 8a 82 b9 f2 3c>,
  absValidity: 2018-03-22T02:47:23.699Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50300712,
     cipherKeyVal: <Buffer 54 14 75 99 94 86 1d d2 bc 42 11 53 35 32 90 9c>,
     macKeyVal: <Buffer 3b eb 69 c6 24 76 17 0c fc b4 97 99 a9 e4 60 fc 49 65 84 23 1b ef 11 38 1d 43 d9 8a 82 b9 f2 3c>,
     absValidity: 2018-03-22T02:47:23.699Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer db 39 6b bc bd 4d 56 71>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:47:24 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 3 3 1 1521600445312
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 3 4 0.75 1521600503525
connected to auth! from local port 44830
received auth hello!
{ authId: 503, nonce: <Buffer 1c 35 89 38 79 32 81 ee> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer e9 f3 7c 21 8f e0 a0 45>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50300717,
  cipherKeyVal: <Buffer 0d 96 22 85 33 42 ba 88 15 5b 91 a8 9e 6d bc 90>,
  macKeyVal: <Buffer 15 61 d8 ad da f9 86 2b f7 05 d9 a2 ba d7 7e e8 47 5c 65 43 7f 9e 04 00 aa 6b ee 94 d2 14 79 52>,
  absValidity: 2018-03-22T02:48:23.721Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50300717,
     cipherKeyVal: <Buffer 0d 96 22 85 33 42 ba 88 15 5b 91 a8 9e 6d bc 90>,
     macKeyVal: <Buffer 15 61 d8 ad da f9 86 2b f7 05 d9 a2 ba d7 7e e8 47 5c 65 43 7f 9e 04 00 aa 6b ee 94 d2 14 79 52>,
     absValidity: 2018-03-22T02:48:23.721Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 0d b6 95 6b 43 75 dd 31>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:48:24 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 4 4 1 1521600505285
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 4 5 0.8 1521600563584
connected to auth! from local port 45100
received auth hello!
{ authId: 503, nonce: <Buffer df 85 12 40 2d c1 07 c8> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 88 e1 95 f5 a0 cc f1 f4>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50300722,
  cipherKeyVal: <Buffer 94 95 46 db 55 54 04 ac 57 d7 a7 33 12 16 e7 cb>,
  macKeyVal: <Buffer 63 4e 24 10 0d f3 7e b5 aa 4b b5 21 71 ab be f3 26 8f 52 84 04 c5 8c 14 32 6f 4b 0f 72 08 57 79>,
  absValidity: 2018-03-22T02:49:23.738Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50300722,
     cipherKeyVal: <Buffer 94 95 46 db 55 54 04 ac 57 d7 a7 33 12 16 e7 cb>,
     macKeyVal: <Buffer 63 4e 24 10 0d f3 7e b5 aa 4b b5 21 71 ab be f3 26 8f 52 84 04 c5 8c 14 32 6f 4b 0f 72 08 57 79>,
     absValidity: 2018-03-22T02:49:23.738Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer b0 30 a4 eb 7e e0 95 11>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:49:24 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 5 5 1 1521600565502
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 5 6 0.8333333333333334 1521600623641
connected to auth! from local port 45370
received auth hello!
{ authId: 503, nonce: <Buffer a1 88 24 01 9d a0 8f a3> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 12 b4 12 09 ff 75 c4 6c>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50300727,
  cipherKeyVal: <Buffer 52 06 9e 39 39 73 2d a2 3c e4 c1 70 32 2a e8 a5>,
  macKeyVal: <Buffer 80 ae 43 e4 85 5b 93 a7 5b c2 c7 5d 17 b6 47 61 b6 72 bb 5e a9 a9 1e 92 e4 85 16 56 1f a3 9a e2>,
  absValidity: 2018-03-22T02:50:23.857Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50300727,
     cipherKeyVal: <Buffer 52 06 9e 39 39 73 2d a2 3c e4 c1 70 32 2a e8 a5>,
     macKeyVal: <Buffer 80 ae 43 e4 85 5b 93 a7 5b c2 c7 5d 17 b6 47 61 b6 72 bb 5e a9 a9 1e 92 e4 85 16 56 1f a3 9a e2>,
     absValidity: 2018-03-22T02:50:23.857Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 45 86 dc 8f 6c c2 2b 8a>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:50:25 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 6 6 1 1521600625751
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 6 7 0.8571428571428571 1521600683683
connected to auth! from local port 45632
received auth hello!
{ authId: 503, nonce: <Buffer 9f 19 45 70 54 90 fb 2c> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 3a a9 0a 3a 99 3b f0 9e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50300732,
  cipherKeyVal: <Buffer f2 ab 79 c0 30 3a 72 25 b4 2b 5e 2f 2e 0e e6 e5>,
  macKeyVal: <Buffer 4e 85 f9 b4 d3 51 4a 86 bf c2 65 36 f2 e0 f8 72 d5 1d d9 77 32 88 e3 20 43 9a ad 27 bb fd d2 11>,
  absValidity: 2018-03-22T02:51:23.944Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50300732,
     cipherKeyVal: <Buffer f2 ab 79 c0 30 3a 72 25 b4 2b 5e 2f 2e 0e e6 e5>,
     macKeyVal: <Buffer 4e 85 f9 b4 d3 51 4a 86 bf c2 65 36 f2 e0 f8 72 d5 1d d9 77 32 88 e3 20 43 9a ad 27 bb fd d2 11>,
     absValidity: 2018-03-22T02:51:23.944Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer f1 29 83 fa 52 a8 c1 ad>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:51:24 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 7 7 1 1521600685210
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 8 0.875 1521600743741
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 9 0.7777777777777778 1521600803752
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: connect EHOSTUNREACH 10.0.1.6:21100
connected to auth! from local port 38904
received auth hello!
{ authId: 502, nonce: <Buffer ff d4 93 0f 2d 9d 20 09> }
more data will come. current: 1445 expected: 1485
received migration response with signature!
{ version: 2,
  subject: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth502',
     commonName: '10.0.1.5' },
  issuer: 
   { countryName: 'US',
     stateOrProvinceName: 'CA',
     localityName: 'Berkeley',
     organizationName: 'EECS',
     organizationalUnitName: 'Auth503',
     commonName: '10.0.0.6' },
  serial: '0162466F86EE',
  notBefore: 2018-03-21T02:40:36.000Z,
  notAfter: 2018-03-22T02:42:16.000Z,
  subjectHash: '9638ffe3',
  signatureAlgorithm: 'sha256WithRSAEncryption',
  fingerPrint: 'FD:ED:B6:7B:E1:1F:40:B6:A4:9F:CC:8D:82:E0:CF:DB:49:99:29:E5',
  publicKey: 
   { algorithm: 'rsaEncryption',
     e: '65537',
     n: 'FF6CB5202497CC77AF28EFDE774858E4FEF04355E5228E378962DF4235BE3683DAF9E38A7E22621D66B3B50166D897E97BF911F9E8FC09D686961AA39679014E5DDD27EA0F02DE853A41537DB5E37F33395E249F355C0D074419572E9856D1D598CAB2CD6951013DDCB0A163B943DFCD2694BE18B9B3892695B3052EBD9115D447293C83AF24A008794B842E4F0A6C2A8D0189612A600AA40A592603E43713C0ECCA681024E5EC429FAD09484B824919DF59C8BD488E0D372D2A3D8B99B6068E24BBBDA8F0BCDDBA806010E4A7181736DF08D4D1CFC16E26507C360EDCBFF1B5F4288CE304DE62E9696665C5108489AD7232658356998FF47C4F7E8A04225423',
     bitSize: 2048 },
  altNames: [],
  extensions: { subjectAlternativeName: 'IP Address:10.0.1.5' } }
disconnected from auth
null
true
Certificate of new Auth is verified!
Subject information matches Auth ID!
Signature of new Auth is verified.
Auth nonce is verified
migration completed!
new Auth info: !
{ id: 502,
  host: '10.0.1.5',
  port: 21100,
  publicKey: '-----BEGIN CERTIFICATE-----\nMIIDVTCCAj2gAwIBAgIGAWJGb4buMA0GCSqGSIb3DQEBCwUAMGExCzAJBgNVBAYT\nAlVTMQswCQYDVQQIDAJDQTERMA8GA1UEBwwIQmVya2VsZXkxDTALBgNVBAoMBEVF\nQ1MxEDAOBgNVBAsMB0F1dGg1MDMxETAPBgNVBAMMCDEwLjAuMC42MB4XDTE4MDMy\nMTAyNDAzNloXDTE4MDMyMjAyNDIxNlowYTELMAkGA1UEBhMCVVMxCzAJBgNVBAgM\nAkNBMREwDwYDVQQHDAhCZXJrZWxleTENMAsGA1UECgwERUVDUzEQMA4GA1UECwwH\nQXV0aDUwMjERMA8GA1UEAwwIMTAuMC4xLjUwggEiMA0GCSqGSIb3DQEBAQUAA4IB\nDwAwggEKAoIBAQD/bLUgJJfMd68o7953SFjk/vBDVeUijjeJYt9CNb42g9r544p+\nImIdZrO1AWbYl+l7+RH56PwJ1oaWGqOWeQFOXd0n6g8C3oU6QVN9teN/MzleJJ81\nXA0HRBlXLphW0dWYyrLNaVEBPdywoWO5Q9/NJpS+GLmziSaVswUuvZEV1EcpPIOv\nJKAIeUuELk8KbCqNAYlhKmAKpApZJgPkNxPA7MpoECTl7EKfrQlIS4JJGd9ZyL1I\njg03LSo9i5m2Bo4ku72o8LzduoBgEOSnGBc23wjU0c/BbiZQfDYO3L/xtfQojOME\n3mLpaWZlxRCEia1yMmWDVpmP9HxPfooEIlQjAgMBAAGjEzARMA8GA1UdEQQIMAaH\nBAoAAQUwDQYJKoZIhvcNAQELBQADggEBAAOpn4W0Vj6QyesFGVqgWa2PIvxur53e\nNkXt2+xrGfi4oKgz6mYzo2ZAvYtHm5QSLrL0MldxVWGKEwk55U5S3rXfkwt4vWYD\nv8JPHF3JrZ053T8d90BMx2/zi9SxU51/pJfZZdLdY+42BxBFIJvdPhfOu91B/hv4\nD1bP8dp+7Vn1Z3zCn45Aiewo9B1uxh3ihWdPYZsBXWcZq1WqqU7Bnd6sXajGHZnJ\nxRPrf2pChNGVmygojwy7uwhnncYUJBhYnkk/cF34MsZ4wBOZDzPQKd6ooUhdvDdY\nFsNBUZ9CM9IhXZSpyjd0pvaEUeDAsesFbneUAkJLkRNaHT4DFKQ1HEs=\n-----END CERTIFICATE-----' }
received migration response, for next round of migration, rotate migration info index from: 0
to: 1
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 10 0.7 1521600863762
connected to auth! from local port 39102
received auth hello!
{ authId: 502, nonce: <Buffer fc 35 18 0c 53 c6 d7 3c> }
received session key response with distribution key attached!
auth signature verified
replyNonce in sessionKeyResp: <Buffer 67 48 c2 37 38 ad 71 06>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
updating distribution key: { cipherKeyVal: <Buffer 32 67 6c 53 b9 55 01 5a 6f 95 81 3b 48 2a 69 49>,
  macKeyVal: <Buffer da ca a3 e6 e1 28 14 b5 fc 06 ac 8d 4c ee ba 0f 2b 1a d2 72 93 27 c4 7a 64 fd a9 9d 85 56 22 f7>,
  absValidity: 2018-03-21T03:54:27.595Z }
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201097,
  cipherKeyVal: <Buffer b2 be 44 b4 20 c1 03 e5 1b c0 2a d6 52 97 a7 47>,
  macKeyVal: <Buffer 3e b7 18 68 61 b1 c5 29 d9 82 2b 16 8f db 59 ab 78 df a7 5f e4 02 33 61 50 7e aa a9 fd 4f 66 26>,
  absValidity: 2018-03-22T02:54:27.595Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201097,
     cipherKeyVal: <Buffer b2 be 44 b4 20 c1 03 e5 1b c0 2a d6 52 97 a7 47>,
     macKeyVal: <Buffer 3e b7 18 68 61 b1 c5 29 d9 82 2b 16 8f db 59 ab 78 df a7 5f e4 02 33 61 50 7e aa a9 fd 4f 66 26>,
     absValidity: 2018-03-22T02:54:27.595Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
disconnected from auth
chosen nonce: <Buffer b2 f4 f7 31 6a 1c 90 c4>
switching to HANDSHAKE_1_SENT
Handler: secure connection with the server closed.
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.37:undefined
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 11 0.6363636363636364 1521600923768
connected to auth! from local port 39306
received auth hello!
{ authId: 502, nonce: <Buffer cb 1e 5e e7 07 c7 c2 69> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 2b 81 07 85 35 20 b4 13>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201116,
  cipherKeyVal: <Buffer 45 ff ad 24 b8 ae 82 df 4c 43 63 49 2f 79 ac 58>,
  macKeyVal: <Buffer 73 89 f2 24 ea cb 2b 57 13 ae ba b6 55 ae 02 d4 d5 58 92 b7 09 8d 35 d4 7f 5a ec 83 d4 9a 1c 82>,
  absValidity: 2018-03-22T02:55:40.335Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201116,
     cipherKeyVal: <Buffer 45 ff ad 24 b8 ae 82 df 4c 43 63 49 2f 79 ac 58>,
     macKeyVal: <Buffer 73 89 f2 24 ea cb 2b 57 13 ae ba b6 55 ae 02 d4 d5 58 92 b7 09 8d 35 d4 7f 5a ec 83 d4 9a 1c 82>,
     absValidity: 2018-03-22T02:55:40.335Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 88 ba 23 39 87 f7 b7 05>
switching to HANDSHAKE_1_SENT
disconnected from auth
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 7 12 0.5833333333333334 1521600983809
connected to auth! from local port 39512
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.37:undefined
received auth hello!
{ authId: 502, nonce: <Buffer 22 49 aa 98 a3 81 a9 3f> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 6a 60 47 27 0a 1e bf 3c>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201128,
  cipherKeyVal: <Buffer c7 43 fa f9 1c 39 87 cd a2 2c e7 78 95 be c9 76>,
  macKeyVal: <Buffer 6c 64 19 b9 9a 14 fc ec ec 99 be 39 0e b0 03 26 d5 c7 56 d9 a9 e3 c9 be cd 31 d4 21 ea e8 88 e5>,
  absValidity: 2018-03-22T02:56:31.581Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201128,
     cipherKeyVal: <Buffer c7 43 fa f9 1c 39 87 cd a2 2c e7 78 95 be c9 76>,
     macKeyVal: <Buffer 6c 64 19 b9 9a 14 fc ec ec 99 be 39 0e b0 03 26 d5 c7 56 d9 a9 e3 c9 be cd 31 d4 21 ea e8 88 e5>,
     absValidity: 2018-03-22T02:56:31.581Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 8e 54 f7 11 64 1f 0b b3>
switching to HANDSHAKE_1_SENT
disconnected from auth
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 02:56:55 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 8 12 0.6666666666666666 1521601016101
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 13 0.6153846153846154 1521601043838
connected to auth! from local port 39724
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 14 0.5714285714285714 1521601103847
connected to auth! from local port 39920
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 15 0.5333333333333333 1521601163857
connected to auth! from local port 40106
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 16 0.5 1521601223868
connected to auth! from local port 40292
received auth hello!
{ authId: 502, nonce: <Buffer ab 96 04 12 08 18 a5 b9> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
disconnected from auth
Handler: Error in secure comm - details: Connection with Auth timed out...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 17 0.47058823529411764 1521601283878
connected to auth! from local port 40468
Handler: Error in secure comm - details: Auth hello timedout ...
received auth hello!
{ authId: 502, nonce: <Buffer 1e b0 42 45 a5 9c c3 a9> }
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
In iotAuth.js migrateToTrustedAuth: 
In iotAuthService.js sendMigrationReqViaTCP: 
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
failure in migration to another Auth : migrationFailureCount: 1
Handler: Error in secure comm - details: Error occurred in migration request: Error: connect EHOSTUNREACH 10.0.1.6:21100
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 18 0.4444444444444444 1521601343882
connected to auth! from local port 40634
disconnected from auth
failure in migration to another Auth : migrationFailureCount: 2
Handler: Error in secure comm - details: Error occurred in migration request: Auth hello timedout ...
Handler: Error in secure comm - details: Connection with Auth timed out...
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 19 0.42105263157894735 1521601403892
connected to auth! from local port 40812
Handler: Error in secure comm - details: Auth hello timedout ...
received auth hello!
{ authId: 502, nonce: <Buffer cd a5 77 8a 02 1b 78 19> }
failure in connection with Auth : authFailureCount: 3
failure count reached threshold (2), try migration...
reached migration failure threshold, rotate migration info index from: 1
to: 0
Failed to migrate! host/port of current Auth is the same as host of the Auth which we migrate to
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 20 0.4 1521601463896
connected to auth! from local port 40986
disconnected from auth
Handler: Error in secure comm - details: Connection with Auth timed out...
Handler: Error in secure comm - details: Auth hello timedout ...
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 8 21 0.38095238095238093 1521601523905
connected to auth! from local port 41166
received auth hello!
{ authId: 502, nonce: <Buffer 9a 3a 73 38 6c a0 72 2e> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer cf e7 de 58 fb f9 95 bc>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201249,
  cipherKeyVal: <Buffer d0 c0 de 6c c7 0a 3a ed 26 dd 5a 5d de fa 94 5f>,
  macKeyVal: <Buffer 60 e8 5a 3b a7 b0 3b 9a df ca 4a 60 61 23 93 13 1c 90 dd a5 8a 86 fa 5e 4d ae 6c 8f d1 5d 65 b7>,
  absValidity: 2018-03-22T03:05:39.582Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201249,
     cipherKeyVal: <Buffer d0 c0 de 6c c7 0a 3a ed 26 dd 5a 5d de fa 94 5f>,
     macKeyVal: <Buffer 60 e8 5a 3b a7 b0 3b 9a df ca 4a 60 61 23 93 13 1c 90 dd a5 8a 86 fa 5e 4d ae 6c 8f d1 5d 65 b7>,
     absValidity: 2018-03-22T03:05:39.582Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 41 76 0f a9 d2 54 db 3d>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 03:05:43 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 9 21 0.42857142857142855 1521601544173
received auth hello!
{ authId: 502, nonce: <Buffer af bc db 6a d9 70 70 fc> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 49 cd bd bc aa 67 2e 9a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201258,
  cipherKeyVal: <Buffer 52 45 df 92 36 ee 64 ac 96 31 9b 1d 16 f7 8b c8>,
  macKeyVal: <Buffer ba aa 30 40 d1 63 92 24 e7 72 55 e2 98 aa 80 41 f9 23 0d 6b 2b fc 0d 0e d6 84 52 a8 64 87 d9 bd>,
  absValidity: 2018-03-22T03:06:19.832Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201258,
     cipherKeyVal: <Buffer 52 45 df 92 36 ee 64 ac 96 31 9b 1d 16 f7 8b c8>,
     macKeyVal: <Buffer ba aa 30 40 d1 63 92 24 e7 72 55 e2 98 aa 80 41 f9 23 0d 6b 2b fc 0d 0e d6 84 52 a8 64 87 d9 bd>,
     absValidity: 2018-03-22T03:06:19.832Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 3e 9b 6e eb 8d a0 c6 0c>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 9 22 0.4090909090909091 1521601583909
connected to auth! from local port 41324
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 03:06:27 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 10 22 0.45454545454545453 1521601588315
received auth hello!
{ authId: 502, nonce: <Buffer ed 27 81 6d d5 03 64 02> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b6 7d 12 8f 8d 66 93 de>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201263,
  cipherKeyVal: <Buffer 1e ed c1 3c 8f 51 b8 0e df 8f ec 02 a6 30 34 93>,
  macKeyVal: <Buffer 19 55 72 09 c2 0b 3f f0 a9 57 ed 1c 98 51 5a 80 3c 75 3e 12 f0 68 7c 78 d7 50 5d 3b 7c 75 c0 9f>,
  absValidity: 2018-03-22T03:06:39.584Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201263,
     cipherKeyVal: <Buffer 1e ed c1 3c 8f 51 b8 0e df 8f ec 02 a6 30 34 93>,
     macKeyVal: <Buffer 19 55 72 09 c2 0b 3f f0 a9 57 ed 1c 98 51 5a 80 3c 75 3e 12 f0 68 7c 78 d7 50 5d 3b 7c 75 c0 9f>,
     absValidity: 2018-03-22T03:06:39.584Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer dd fe 08 0b 3c 67 77 be>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 03:06:43 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 11 22 0.5 1521601604138
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 11 23 0.4782608695652174 1521601643950
connected to auth! from local port 41484
received auth hello!
{ authId: 502, nonce: <Buffer cb f4 b6 00 3b 17 52 43> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 87 c1 4b 8e 47 f4 4b 85>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201276,
  cipherKeyVal: <Buffer 3e 20 3c dd 3a fb 29 77 cb 8c ad 94 55 95 22 2f>,
  macKeyVal: <Buffer 34 43 dd 7f b6 16 da 68 bd 18 0e 1f 26 56 c9 5f 50 5e a6 96 24 bc 72 d2 6a eb 77 6c 05 31 cf 09>,
  absValidity: 2018-03-22T03:07:35.581Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201276,
     cipherKeyVal: <Buffer 3e 20 3c dd 3a fb 29 77 cb 8c ad 94 55 95 22 2f>,
     macKeyVal: <Buffer 34 43 dd 7f b6 16 da 68 bd 18 0e 1f 26 56 c9 5f 50 5e a6 96 24 bc 72 d2 6a eb 77 6c 05 31 cf 09>,
     absValidity: 2018-03-22T03:07:35.581Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 5a 2d e6 00 94 2c 3c 36>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 03:07:39 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 12 23 0.5217391304347826 1521601659978
received auth hello!
{ authId: 502, nonce: <Buffer 17 76 1f 42 de 60 7e fe> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
disconnected from auth
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 12 24 0.5 1521601703953
connected to auth! from local port 41638
received auth hello!
{ authId: 502, nonce: <Buffer c2 14 6b 90 e1 d6 bf 5f> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fe 9c 06 1f d5 ae b3 54>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201291,
  cipherKeyVal: <Buffer 65 77 5b 0b b6 a0 86 fc bd ab 85 79 1c c0 ca cc>,
  macKeyVal: <Buffer 42 d7 50 e2 cb a4 a8 c5 b4 87 f6 bf b8 f3 07 fe fc a9 15 fb bb f1 a3 36 0d 7f 02 b3 e6 fa b1 fb>,
  absValidity: 2018-03-22T03:08:39.584Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201291,
     cipherKeyVal: <Buffer 65 77 5b 0b b6 a0 86 fc bd ab 85 79 1c c0 ca cc>,
     macKeyVal: <Buffer 42 d7 50 e2 cb a4 a8 c5 b4 87 f6 bf b8 f3 07 fe fc a9 15 fb bb f1 a3 36 0d 7f 02 b3 e6 fa b1 fb>,
     absValidity: 2018-03-22T03:08:39.584Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer e0 59 b2 18 07 34 61 8d>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received session key handshake2!
client ret: [object Object]
server authenticated/authorized by solving nonce!
Handler: communication initialization succeeded
file data length: 1024
sending at Wed Mar 21 2018 03:08:43 GMT+0000 (UTC)
switching to IN_COMM
received secure communication message!
Received seqNum: 0
Handler: data received from server via secure communication
data1
Resp-actual/expected/ratio/ts: 13 24 0.5416666666666666 1521601724232
Handler: Error in secure comm - details: Connection with Auth timed out...
received auth hello!
{ authId: 502, nonce: <Buffer 2b ae 47 87 30 f6 f4 d2> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 25 0.52 1521601763972
connected to auth! from local port 41800
disconnected from auth
received auth hello!
{ authId: 502, nonce: <Buffer 15 b5 0f c9 17 a9 59 5e> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer b1 0f d4 18 76 19 a0 29>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201306,
  cipherKeyVal: <Buffer 9a e3 34 59 87 32 d9 b0 45 70 40 20 04 f7 57 39>,
  macKeyVal: <Buffer a8 5b ef 2b 1b c3 0b bc 07 ac df b1 d7 84 d6 ca ed 83 ff cc 63 ac 73 fe f5 1c 18 2d e7 50 44 09>,
  absValidity: 2018-03-22T03:09:43.849Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201306,
     cipherKeyVal: <Buffer 9a e3 34 59 87 32 d9 b0 45 70 40 20 04 f7 57 39>,
     macKeyVal: <Buffer a8 5b ef 2b 1b c3 0b bc 07 ac df b1 d7 84 d6 ca ed 83 ff cc 63 ac 73 fe f5 1c 18 2d e7 50 44 09>,
     absValidity: 2018-03-22T03:09:43.849Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 7a 79 57 a9 15 e4 38 7d>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: secure connection with the server closed.
received auth hello!
{ authId: 502, nonce: <Buffer 33 c8 70 35 5b c2 a1 b2> }
failure in connection with Auth : authFailureCount: 1
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
Handler: Error in secure comm - details: Connection with Auth timed out...
received auth hello!
{ authId: 502, nonce: <Buffer e9 dc 57 13 14 e4 83 59> }
failure in connection with Auth : authFailureCount: 2
failure count reached threshold (2), try migration...
Failed to migrate! host/port of current Auth is the same as host of the Auth which we migrate to
Handler: Error in secure comm - details: Error occurred in session key request: Error: write after end
disconnected from auth
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 26 0.5 1521601823981
connected to auth! from local port 41954
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.37:undefined
Handler: Error in secure comm - details: Connection with Auth timed out...
Handler: Error in secure comm - details: Connection with Auth timed out...
received auth hello!
{ authId: 502, nonce: <Buffer f1 6b e1 6b f5 c6 b3 19> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer fa 69 64 81 08 7a 4e 4e>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201321,
  cipherKeyVal: <Buffer ea 91 45 86 74 75 19 48 e4 6a 2b 8d ac ad e5 a6>,
  macKeyVal: <Buffer 7b bc c0 52 c6 9f 52 c4 98 52 c3 9d bc 18 5e 7e 8e e3 e2 b6 a9 6a 1c 70 ac ef 2e 8a 82 1c 7c da>,
  absValidity: 2018-03-22T03:11:07.825Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201321,
     cipherKeyVal: <Buffer ea 91 45 86 74 75 19 48 e4 6a 2b 8d ac ad e5 a6>,
     macKeyVal: <Buffer 7b bc c0 52 c6 9f 52 c4 98 52 c3 9d bc 18 5e 7e 8e e3 e2 b6 a9 6a 1c 70 ac ef 2e 8a 82 1c 7c da>,
     absValidity: 2018-03-22T03:11:07.825Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 33 4c cd a9 ce 79 b1 cc>
switching to HANDSHAKE_1_SENT
disconnected from auth
Distribution protocol: TCP
Resp-actual/expected/ratio/ts: 13 27 0.48148148148148145 1521601883998
connected to auth! from local port 42124
received auth hello!
{ authId: 502, nonce: <Buffer d8 d3 16 18 fa df 1f 87> }
received session key response encrypted with distribution key
replyNonce in sessionKeyResp: <Buffer 7f 6b 41 d2 3a dc e2 1a>
auth nonce verified
handleSessionKeyResp: session key request succeeded! authFailureCount: 0
received 1 keys
currentSessionKey: [object Object]
Status: Secure connection closed before starting a new connection.
Session protocol: TCP
chosen commSessionKey: 
{ id: 50201331,
  cipherKeyVal: <Buffer 7c df ef 35 c6 61 08 35 6c 95 4a de 71 b9 c7 87>,
  macKeyVal: <Buffer f5 43 68 8b 21 f1 21 db 9e 33 9e 9c b1 8f 6f 28 44 aa 9a a8 1f c6 e0 60 dc c6 d1 c1 1c 6f 3b d6>,
  absValidity: 2018-03-22T03:11:43.837Z,
  relValidity: 7200000 }
options
{ serverHost: '10.0.1.37',
  serverPort: 22100,
  sessionKey: 
   { id: 50201331,
     cipherKeyVal: <Buffer 7c df ef 35 c6 61 08 35 6c 95 4a de 71 b9 c7 87>,
     macKeyVal: <Buffer f5 43 68 8b 21 f1 21 db 9e 33 9e 9c b1 8f 6f 28 44 aa 9a a8 1f c6 e0 60 dc c6 d1 c1 1c 6f 3b d6>,
     absValidity: 2018-03-22T03:11:43.837Z,
     relValidity: 7200000 },
  sessionCryptoSpec: { cipher: 'AES-128-CBC', mac: 'SHA256' },
  sessionProtocol: 'TCP',
  handshakeTimeout: 50000 }
chosen nonce: <Buffer 2b f3 a5 4d d0 82 4a b2>
switching to HANDSHAKE_1_SENT
disconnected from auth
Handler: Error in secure comm - details: Comm init failed: handshake1 timed out ...
Handler: Error in secure comm - details: Comm init failed: disconnected from server during communication initialization.10.0.1.37:undefined
